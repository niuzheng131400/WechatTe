"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var e=require("@vant/use"),t=require("vue"),o=require("@vant/popperjs");function a(){}const n=Object.assign,l="undefined"!=typeof window;function r(e,t){const o=t.split(".");let a=e;return o.forEach((e=>{var t;a=null!=(t=a[e])?t:""})),a}function i(e,t,o){return t.reduce(((t,a)=>(o&&void 0===e[a]||(t[a]=e[a]),t)),{})}const s=e=>Array.isArray(e)?e:[e],c=[Number,String],d={type:Boolean,default:!0},u=e=>({type:e,required:!0}),p=()=>({type:Array,default:()=>[]}),m=e=>({type:Number,default:e}),v=e=>({type:c,default:e}),h=e=>({type:String,default:e}),f=e=>null!=e,g=e=>"function"==typeof e,b=e=>null!==e&&"object"==typeof e,y=e=>b(e)&&g(e.then)&&g(e.catch),x=e=>"[object Date]"===Object.prototype.toString.call(e)&&!Number.isNaN(e.getTime());function V(e){return e=e.replace(/[^-|\d]/g,""),/^((\+86)|(86))?(1)\d{10}$/.test(e)||/^0[0-9-]{10,13}$/.test(e)}const w=e=>"number"==typeof e||/^\d+(\.\d+)?$/.test(e);function N(e){const t="scrollTop"in e?e.scrollTop:e.pageYOffset;return Math.max(t,0)}function C(e,t){"scrollTop"in e?e.scrollTop=t:e.scrollTo(e.scrollX,t)}function k(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function S(e){C(window,e),C(document.body,e)}function B(t,o){if(t===window)return 0;const a=o?N(o):k();return e.useRect(t).top+a}const T=!!l&&/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase());function D(){T&&S(k())}const I=e=>e.stopPropagation();function P(e,t){("boolean"!=typeof e.cancelable||e.cancelable)&&e.preventDefault(),t&&I(e)}function A(e){const o=t.unref(e);if(!o)return!1;const a=window.getComputedStyle(o),n="none"===a.display,l=null===o.offsetParent&&"fixed"!==a.position;return n||l}const{width:O,height:z}=e.useWindowSize();function $(e){if(f(e))return w(e)?`${e}px`:String(e)}function E(e){if(f(e)){if(Array.isArray(e))return{width:$(e[0]),height:$(e[1])};const t=$(e);return{width:t,height:t}}}function L(e){const t={};return void 0!==e&&(t.zIndex=+e),t}let M;function F(e){return+(e=e.replace(/rem/g,""))*function(){if(!M){const e=document.documentElement,t=e.style.fontSize||window.getComputedStyle(e).fontSize;M=parseFloat(t)}return M}()}function R(e){if("number"==typeof e)return e;if(l){if(e.includes("rem"))return F(e);if(e.includes("vw"))return function(e){return+(e=e.replace(/vw/g,""))*O.value/100}(e);if(e.includes("vh"))return function(e){return+(e=e.replace(/vh/g,""))*z.value/100}(e)}return parseFloat(e)}const H=/-(\w)/g,j=e=>e.replace(H,((e,t)=>t.toUpperCase()));function W(e,t=2){let o=e+"";for(;o.length<t;)o="0"+o;return o}const Y=(e,t,o)=>Math.min(Math.max(e,t),o);function U(e,t,o){const a=e.indexOf(t);return-1===a?e:"-"===t&&0!==a?e.slice(0,a):e.slice(0,a+1)+e.slice(a).replace(o,"")}function q(e,t=!0,o=!0){e=t?U(e,".",/\./g):e.split(".")[0];const a=t?/[^-0-9.]/g:/[^-0-9]/g;return(e=o?U(e,"-",/-/g):e.replace(/-/,"")).replace(a,"")}function X(e,t){const o=10**10;return Math.round((e+t)*o)/o}const{hasOwnProperty:G}=Object.prototype;function Z(e,t){return Object.keys(t).forEach((o=>{!function(e,t,o){const a=t[o];f(a)&&(G.call(e,o)&&b(a)?e[o]=Z(Object(e[o]),a):e[o]=a)}(e,t,o)})),e}const K=t.ref("zh-CN"),_=t.reactive({"zh-CN":{name:"姓名",tel:"电话",save:"保存",confirm:"确认",cancel:"取消",delete:"删除",loading:"加载中...",noCoupon:"暂无优惠券",nameEmpty:"请填写姓名",addContact:"添加联系人",telInvalid:"请填写正确的电话",vanCalendar:{end:"结束",start:"开始",title:"日期选择",weekdays:["日","一","二","三","四","五","六"],monthTitle:(e,t)=>`${e}年${t}月`,rangePrompt:e=>`最多选择 ${e} 天`},vanCascader:{select:"请选择"},vanPagination:{prev:"上一页",next:"下一页"},vanPullRefresh:{pulling:"下拉即可刷新...",loosing:"释放即可刷新..."},vanSubmitBar:{label:"合计:"},vanCoupon:{unlimited:"无门槛",discount:e=>`${e}折`,condition:e=>`满${e}元可用`},vanCouponCell:{title:"优惠券",count:e=>`${e}张可用`},vanCouponList:{exchange:"兑换",close:"不使用",enable:"可用",disabled:"不可用",placeholder:"输入优惠码"},vanAddressEdit:{area:"地区",postal:"邮政编码",areaEmpty:"请选择地区",addressEmpty:"请填写详细地址",postalEmpty:"邮政编码不正确",addressDetail:"详细地址",defaultAddress:"设为默认收货地址"},vanAddressList:{add:"新增地址"}}}),J={messages:()=>_[K.value],use(e,t){K.value=e,this.add({[e]:t})},add(e={}){Z(_,e)}};var Q=J;function ee(e){const t=j(e)+".";return(e,...o)=>{const a=Q.messages(),n=r(a,t+e)||r(a,e);return g(n)?n(...o):n}}function te(e,t){return t?"string"==typeof t?` ${e}--${t}`:Array.isArray(t)?t.reduce(((t,o)=>t+te(e,o)),""):Object.keys(t).reduce(((o,a)=>o+(t[a]?te(e,a):"")),""):""}function oe(e){return(t,o)=>(t&&"string"!=typeof t&&(o=t,t=""),`${t=t?`${e}__${t}`:e}${te(t,o)}`)}function ae(e){const t=`van-${e}`;return[t,oe(t),ee(t)]}const ne="van-hairline",le=`${ne}--top`,re=`${ne}--left`,ie=`${ne}--bottom`,se=`${ne}--surround`,ce=`${ne}--top-bottom`,de=`${ne}-unset--top-bottom`,ue="van-haptics-feedback",pe=Symbol("van-form");function me(e,{args:t=[],done:o,canceled:n}){if(e){const l=e.apply(null,t);y(l)?l.then((e=>{e?o():n&&n()})).catch(a):l?o():n&&n()}else o()}function ve(e){return e.install=t=>{const{name:o}=e;t.component(o,e),t.component(j(`-${o}`),e)},e}const[he,fe]=ae("action-bar"),ge=Symbol(he),be={safeAreaInsetBottom:d};const ye=ve(t.defineComponent({name:he,props:be,setup(o,{slots:a}){const{linkChildren:n}=e.useChildren(ge);return n(),()=>{var e;return t.createVNode("div",{class:[fe(),{"van-safe-area-bottom":o.safeAreaInsetBottom}]},[null==(e=a.default)?void 0:e.call(a)])}}}));function xe(e){const o=t.getCurrentInstance();o&&n(o.proxy,e)}const Ve={to:[String,Object],url:String,replace:Boolean};function we({to:e,url:t,replace:o,$router:a}){e&&a?a[o?"replace":"push"](e):t&&(o?location.replace(t):location.href=t)}function Ne(){const e=t.getCurrentInstance().proxy;return()=>we(e)}const[Ce,ke]=ae("badge"),Se={dot:Boolean,max:c,tag:h("div"),color:String,offset:Array,content:c,showZero:d,position:h("top-right")};const Be=ve(t.defineComponent({name:Ce,props:Se,setup(e,{slots:o}){const a=()=>{if(o.content)return!0;const{content:t,showZero:a}=e;return f(t)&&""!==t&&(a||0!==t)},n=()=>{const{dot:t,max:n,content:l}=e;if(!t&&a())return o.content?o.content():f(n)&&w(l)&&+l>n?`${n}+`:l},l=t.computed((()=>{const t={background:e.color};if(e.offset){const[a,n]=e.offset;o.default?(t.top=$(n),t.right="number"==typeof a?$(-a):a.startsWith("-")?a.replace("-",""):`-${a}`):(t.marginTop=$(n),t.marginLeft=$(a))}return t})),r=()=>{if(a()||e.dot)return t.createVNode("div",{class:ke([e.position,{dot:e.dot,fixed:!!o.default}]),style:l.value},[n()])};return()=>{if(o.default){const{tag:a}=e;return t.createVNode(a,{class:ke("wrapper")},{default:()=>[o.default(),r()]})}return r()}}})),[Te,De]=ae("config-provider"),Ie=Symbol(Te),Pe={tag:h("div"),themeVars:Object,iconPrefix:String};var Ae=t.defineComponent({name:Te,props:Pe,setup(e,{slots:o}){const a=t.computed((()=>{if(e.themeVars)return function(e){const t={};return Object.keys(e).forEach((o=>{var a;t[`--van-${a=o,a.replace(/([A-Z])/g,"-$1").toLowerCase().replace(/^-/,"")}`]=e[o]})),t}(e.themeVars)}));return t.provide(Ie,e),()=>t.createVNode(e.tag,{class:De(),style:a.value},{default:()=>{var e;return[null==(e=o.default)?void 0:e.call(o)]}})}});const[Oe,ze]=ae("icon"),$e={dot:Boolean,tag:h("i"),name:String,size:c,badge:c,color:String,badgeProps:Object,classPrefix:String};const Ee=ve(t.defineComponent({name:Oe,props:$e,setup(e,{slots:o}){const a=t.inject(Ie,null),n=t.computed((()=>e.classPrefix||(null==a?void 0:a.iconPrefix)||ze()));return()=>{const{tag:a,dot:l,name:r,size:i,badge:s,color:c}=e,d=(e=>null==e?void 0:e.includes("/"))(r);return t.createVNode(Be,t.mergeProps({dot:l,tag:a,class:[n.value,d?"":`${n.value}-${r}`],style:{color:c,fontSize:$(i)},content:s},e.badgeProps),{default:()=>{var e;return[null==(e=o.default)?void 0:e.call(o),d&&t.createVNode("img",{class:ze("image"),src:r},null)]}})}}})),[Le,Me]=ae("loading"),Fe=Array(12).fill(null).map(((e,o)=>t.createVNode("i",{class:Me("line",String(o+1))},null))),Re=t.createVNode("svg",{class:Me("circular"),viewBox:"25 25 50 50"},[t.createVNode("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),He={size:c,type:h("circular"),color:String,vertical:Boolean,textSize:c,textColor:String};const je=ve(t.defineComponent({name:Le,props:He,setup(e,{slots:o}){const a=t.computed((()=>n({color:e.color},E(e.size)))),l=()=>{var a;if(o.default)return t.createVNode("span",{class:Me("text"),style:{fontSize:$(e.textSize),color:null!=(a=e.textColor)?a:e.color}},[o.default()])};return()=>{const{type:o,vertical:n}=e;return t.createVNode("div",{class:Me([o,{vertical:n}]),"aria-live":"polite","aria-busy":!0},[t.createVNode("span",{class:Me("spinner",o),style:a.value},["spinner"===o?Fe:Re]),l()])}}})),[We,Ye]=ae("button"),Ue=n({},Ve,{tag:h("button"),text:String,icon:String,type:h("default"),size:h("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:h("button"),loadingSize:c,loadingText:String,loadingType:String,iconPosition:h("left")});const qe=ve(t.defineComponent({name:We,props:Ue,emits:["click"],setup(e,{emit:o,slots:a}){const n=Ne(),l=()=>e.loading?a.loading?a.loading():t.createVNode(je,{size:e.loadingSize,type:e.loadingType,class:Ye("loading")},null):a.icon?t.createVNode("div",{class:Ye("icon")},[a.icon()]):e.icon?t.createVNode(Ee,{name:e.icon,class:Ye("icon"),classPrefix:e.iconPrefix},null):void 0,r=()=>{let o;if(o=e.loading?e.loadingText:a.default?a.default():e.text,o)return t.createVNode("span",{class:Ye("text")},[o])},i=()=>{const{color:t,plain:o}=e;if(t){const e={color:o?t:"white"};return o||(e.background=t),t.includes("gradient")?e.border=0:e.borderColor=t,e}},s=t=>{e.loading?P(t):e.disabled||(o("click",t),n())};return()=>{const{tag:o,type:a,size:n,block:c,round:d,plain:u,square:p,loading:m,disabled:v,hairline:h,nativeType:f,iconPosition:g}=e,b=[Ye([a,n,{plain:u,block:c,round:d,square:p,loading:m,disabled:v,hairline:h}]),{[se]:h}];return t.createVNode(o,{type:f,class:b,style:i(),disabled:v,onClick:s},{default:()=>[t.createVNode("div",{class:Ye("content")},["left"===g&&l(),r(),"right"===g&&l()])]})}}})),[Xe,Ge]=ae("action-bar-button"),Ze=n({},Ve,{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean});const Ke=ve(t.defineComponent({name:Xe,props:Ze,setup(o,{slots:a}){const n=Ne(),{parent:l,index:r}=e.useParent(ge),i=t.computed((()=>{if(l){const e=l.children[r.value-1];return!(e&&"isButton"in e)}})),s=t.computed((()=>{if(l){const e=l.children[r.value+1];return!(e&&"isButton"in e)}}));return xe({isButton:!0}),()=>{const{type:e,icon:l,text:r,color:c,loading:d,disabled:u}=o;return t.createVNode(qe,{class:Ge([e,{last:s.value,first:i.value}]),size:"large",type:e,icon:l,color:c,loading:d,disabled:u,onClick:n},{default:()=>[a.default?a.default():r]})}}})),[_e,Je]=ae("action-bar-icon"),Qe=n({},Ve,{dot:Boolean,text:String,icon:String,color:String,badge:c,iconClass:null,badgeProps:Object,iconPrefix:String});const et=ve(t.defineComponent({name:_e,props:Qe,setup(o,{slots:a}){const n=Ne();e.useParent(ge);const l=()=>{const{dot:e,badge:n,icon:l,color:r,iconClass:i,badgeProps:s,iconPrefix:c}=o;return a.icon?t.createVNode(Be,t.mergeProps({dot:e,class:Je("icon"),content:n},s),{default:a.icon}):t.createVNode(Ee,{tag:"div",dot:e,name:l,badge:n,color:r,class:[Je("icon"),i],badgeProps:s,classPrefix:c},null)};return()=>t.createVNode("div",{role:"button",class:Je(),tabindex:0,onClick:n},[l(),a.default?a.default():o.text])}})),tt={show:Boolean,zIndex:c,overlay:d,duration:c,teleport:[String,Object],lockScroll:d,lazyRender:d,beforeClose:Function,overlayStyle:Object,overlayClass:null,transitionAppear:Boolean,closeOnClickOverlay:d},ot=Object.keys(tt);function at(){const e=t.ref(0),o=t.ref(0),a=t.ref(0),n=t.ref(0),l=t.ref(0),r=t.ref(0),i=t.ref(""),s=()=>{a.value=0,n.value=0,l.value=0,r.value=0,i.value=""};return{move:t=>{const s=t.touches[0];a.value=(s.clientX<0?0:s.clientX)-e.value,n.value=s.clientY-o.value,l.value=Math.abs(a.value),r.value=Math.abs(n.value);var c,d;(!i.value||l.value<10&&r.value<10)&&(i.value=(c=l.value,d=r.value,c>d?"horizontal":d>c?"vertical":""))},start:t=>{s(),e.value=t.touches[0].clientX,o.value=t.touches[0].clientY},reset:s,startX:e,startY:o,deltaX:a,deltaY:n,offsetX:l,offsetY:r,direction:i,isVertical:()=>"vertical"===i.value,isHorizontal:()=>"horizontal"===i.value}}let nt=0;function lt(e){const o=t.ref(!1);return t.watch(e,(e=>{e&&(o.value=e)}),{immediate:!0}),e=>()=>o.value?e():null}const rt=Symbol();function it(e){const o=t.inject(rt,null);o&&t.watch(o,(t=>{t&&e()}))}const[st,ct]=ae("overlay"),dt={show:Boolean,zIndex:c,duration:c,className:null,lockScroll:d,lazyRender:d,customStyle:Object};const ut=ve(t.defineComponent({name:st,props:dt,setup(e,{slots:o}){const l=lt((()=>e.show||!e.lazyRender)),r=e=>{P(e,!0)},i=l((()=>{var l;const i=n(L(e.zIndex),e.customStyle);return f(e.duration)&&(i.animationDuration=`${e.duration}s`),t.withDirectives(t.createVNode("div",{style:i,class:[ct(),e.className],onTouchmove:e.lockScroll?r:a},[null==(l=o.default)?void 0:l.call(o)]),[[t.vShow,e.show]])}));return()=>t.createVNode(t.Transition,{name:"van-fade",appear:!0},{default:i})}})),pt=n({},tt,{round:Boolean,position:h("center"),closeIcon:h("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:h("top-right"),safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[mt,vt]=ae("popup");let ht=2e3;const ft=ve(t.defineComponent({name:mt,inheritAttrs:!1,props:pt,emits:["open","close","opened","closed","keydown","update:show","click-overlay","click-close-icon"],setup(o,{emit:a,attrs:n,slots:l}){let r,i;const s=t.ref(),c=t.ref(),d=lt((()=>o.show||!o.lazyRender)),u=t.computed((()=>{const e={zIndex:s.value};if(f(o.duration)){e["center"===o.position?"animationDuration":"transitionDuration"]=`${o.duration}s`}return e})),p=()=>{r||(void 0!==o.zIndex&&(ht=+o.zIndex),r=!0,s.value=++ht,a("open"))},m=()=>{r&&me(o.beforeClose,{done(){r=!1,a("close"),a("update:show",!1)}})},v=e=>{a("click-overlay",e),o.closeOnClickOverlay&&m()},h=()=>{if(o.overlay)return t.createVNode(ut,{show:o.show,class:o.overlayClass,zIndex:s.value,duration:o.duration,customStyle:o.overlayStyle,onClick:v},{default:l["overlay-content"]})},g=e=>{a("click-close-icon",e),m()},b=()=>{if(o.closeable)return t.createVNode(Ee,{role:"button",tabindex:0,name:o.closeIcon,class:[vt("close-icon",o.closeIconPosition),ue],classPrefix:o.iconPrefix,onClick:g},null)},y=()=>a("opened"),x=()=>a("closed"),V=e=>a("keydown",e),w=d((()=>{var e;const{round:a,position:r,safeAreaInsetTop:i,safeAreaInsetBottom:s}=o;return t.withDirectives(t.createVNode("div",t.mergeProps({ref:c,style:u.value,class:[vt({round:a,[r]:r}),{"van-safe-area-top":i,"van-safe-area-bottom":s}],onKeydown:V},n),[null==(e=l.default)?void 0:e.call(l),b()]),[[t.vShow,o.show]])})),N=()=>{const{position:e,transition:a,transitionAppear:n}=o,l="center"===e?"van-fade":`van-popup-slide-${e}`;return t.createVNode(t.Transition,{name:a||l,appear:n,onAfterEnter:y,onAfterLeave:x},{default:w})};return t.watch((()=>o.show),(e=>{e&&!r&&(p(),0===n.tabindex&&t.nextTick((()=>{var e;null==(e=c.value)||e.focus()}))),!e&&r&&(r=!1,a("close"))})),xe({popupRef:c}),function(o,a){const n=at(),l=t=>{n.move(t);const a=n.deltaY.value>0?"10":"01",l=e.getScrollParent(t.target,o.value),{scrollHeight:r,offsetHeight:i,scrollTop:s}=l;let c="11";0===s?c=i>=r?"00":"01":s+i>=r&&(c="10"),"11"===c||!n.isVertical()||parseInt(c,2)&parseInt(a,2)||P(t,!0)},r=()=>{document.addEventListener("touchstart",n.start),document.addEventListener("touchmove",l,{passive:!1}),nt||document.body.classList.add("van-overflow-hidden"),nt++},i=()=>{nt&&(document.removeEventListener("touchstart",n.start),document.removeEventListener("touchmove",l),nt--,nt||document.body.classList.remove("van-overflow-hidden"))},s=()=>a()&&i();e.onMountedOrActivated((()=>a()&&r())),t.onDeactivated(s),t.onBeforeUnmount(s),t.watch(a,(e=>{e?r():i()}))}(c,(()=>o.show&&o.lockScroll)),e.useEventListener("popstate",(()=>{o.closeOnPopstate&&(m(),i=!1)})),t.onMounted((()=>{o.show&&p()})),t.onActivated((()=>{i&&(a("update:show",!0),i=!1)})),t.onDeactivated((()=>{o.show&&o.teleport&&(m(),i=!0)})),t.provide(rt,(()=>o.show)),()=>o.teleport?t.createVNode(t.Teleport,{to:o.teleport},{default:()=>[h(),N()]}):t.createVNode(t.Fragment,null,[h(),N()])}})),[gt,bt]=ae("action-sheet"),yt=n({},tt,{title:String,round:d,actions:p(),closeIcon:h("cross"),closeable:d,cancelText:String,description:String,closeOnPopstate:d,closeOnClickAction:Boolean,safeAreaInsetBottom:d}),xt=[...ot,"round","closeOnPopstate","safeAreaInsetBottom"];const Vt=ve(t.defineComponent({name:gt,props:yt,emits:["select","cancel","update:show"],setup(e,{slots:o,emit:a}){const n=e=>a("update:show",e),l=()=>{n(!1),a("cancel")},r=()=>{if(e.title)return t.createVNode("div",{class:bt("header")},[e.title,e.closeable&&t.createVNode(Ee,{name:e.closeIcon,class:[bt("close"),ue],onClick:l},null)])},s=()=>{if(o.cancel||e.cancelText)return[t.createVNode("div",{class:bt("gap")},null),t.createVNode("button",{type:"button",class:bt("cancel"),onClick:l},[o.cancel?o.cancel():e.cancelText])]},c=(e,a)=>e.loading?t.createVNode(je,{class:bt("loading-icon")},null):o.action?o.action({action:e,index:a}):[t.createVNode("span",{class:bt("name")},[e.name]),e.subname&&t.createVNode("div",{class:bt("subname")},[e.subname])],d=(o,l)=>{const{color:r,loading:i,callback:s,disabled:d,className:u}=o;return t.createVNode("button",{type:"button",style:{color:r},class:[bt("item",{loading:i,disabled:d}),u],onClick:()=>{d||i||(s&&s(o),e.closeOnClickAction&&n(!1),t.nextTick((()=>a("select",o,l))))}},[c(o,l)])},u=()=>{if(e.description||o.description){const a=o.description?o.description():e.description;return t.createVNode("div",{class:bt("description")},[a])}};return()=>t.createVNode(ft,t.mergeProps({class:bt(),position:"bottom","onUpdate:show":n},i(e,xt)),{default:()=>{var a;return[r(),u(),t.createVNode("div",{class:bt("content")},[e.actions.map(d),null==(a=o.default)?void 0:a.call(o)]),s()]}})}}));function wt(e){if(!f(e))return e;if(Array.isArray(e))return e.map((e=>wt(e)));if(b(e)){const t={};return Object.keys(e).forEach((o=>{t[o]=wt(e[o])})),t}return e}const[Nt,Ct]=ae("picker-column");const kt=Symbol(Nt),St=e=>b(e)&&e.disabled;var Bt=t.defineComponent({name:Nt,props:{textKey:u(String),readonly:Boolean,allowHtml:Boolean,className:null,itemHeight:u(Number),defaultIndex:m(0),swipeDuration:u(c),initialOptions:p(),visibleItemCount:u(c)},emits:["change"],setup(o,{emit:a,slots:n}){let l,r,i,s,c;const d=t.ref(),u=t.reactive({index:o.defaultIndex,offset:0,duration:0,options:wt(o.initialOptions)}),p=at(),m=()=>u.options.length,v=()=>o.itemHeight*(+o.visibleItemCount-1)/2,h=(e,t)=>{const n=-(e=(e=>{for(let t=e=Y(e,0,m());t<m();t++)if(!St(u.options[t]))return t;for(let t=e-1;t>=0;t--)if(!St(u.options[t]))return t})(e)||0)*o.itemHeight,r=()=>{e!==u.index&&(u.index=e,t&&a("change",e))};l&&n!==u.offset?c=r:r(),u.offset=n},f=e=>{JSON.stringify(e)!==JSON.stringify(u.options)&&(u.options=wt(e),h(o.defaultIndex))},g=e=>b(e)&&o.textKey in e?e[o.textKey]:e,y=e=>Y(Math.round(-e/o.itemHeight),0,m()-1),x=()=>{l=!1,u.duration=0,c&&(c(),c=null)},V=e=>{if(!o.readonly){if(p.start(e),l){const e=function(e){const{transform:t}=window.getComputedStyle(e),o=t.slice(7,t.length-1).split(", ")[5];return Number(o)}(d.value);u.offset=Math.min(0,e-v()),r=u.offset}else r=u.offset;u.duration=0,i=Date.now(),s=r,c=null}},w=e=>{if(o.readonly)return;p.move(e),p.isVertical()&&(l=!0,P(e,!0)),u.offset=Y(r+p.deltaY.value,-m()*o.itemHeight,o.itemHeight);const t=Date.now();t-i>300&&(i=t,s=u.offset)},N=()=>{if(o.readonly)return;const e=u.offset-s,t=Date.now()-i;if(t<300&&Math.abs(e)>15)return void((e,t)=>{const a=Math.abs(e/t);e=u.offset+a/.003*(e<0?-1:1);const n=y(e);u.duration=+o.swipeDuration,h(n,!0)})(e,t);const a=y(u.offset);u.duration=200,h(a,!0),setTimeout((()=>{l=!1}),0)},C=()=>{const e={height:`${o.itemHeight}px`};return u.options.map(((a,r)=>{const i=g(a),s=St(a),d={role:"button",style:e,tabindex:s?-1:0,class:Ct("item",{disabled:s,selected:r===u.index}),onClick:()=>(e=>{l||o.readonly||(c=null,u.duration=200,h(e,!0))})(r)},p={class:"van-ellipsis",[o.allowHtml?"innerHTML":"textContent"]:i};return t.createVNode("li",d,[n.option?n.option(a):t.createVNode("div",p,null)])}))};return h(u.index),e.useParent(kt),xe({state:u,setIndex:h,getValue:()=>u.options[u.index],setValue:e=>{const{options:t}=u;for(let o=0;o<t.length;o++)if(g(t[o])===e)return h(o)},setOptions:f,hasOptions:()=>u.options.length,stopMomentum:x}),t.watch((()=>o.initialOptions),f),t.watch((()=>o.defaultIndex),(e=>h(e))),()=>t.createVNode("div",{class:[Ct(),o.className],onTouchstart:V,onTouchmove:w,onTouchend:N,onTouchcancel:N},[t.createVNode("ul",{ref:d,style:{transform:`translate3d(0, ${u.offset+v()}px, 0)`,transitionDuration:`${u.duration}ms`,transitionProperty:u.duration?"all":"none"},class:Ct("wrapper"),onTransitionend:x},[C()])])}});const[Tt,Dt,It]=ae("picker"),Pt={title:String,loading:Boolean,readonly:Boolean,allowHtml:Boolean,itemHeight:v(44),showToolbar:d,swipeDuration:v(1e3),visibleItemCount:v(6),cancelButtonText:String,confirmButtonText:String},At=n({},Pt,{columns:p(),valueKey:String,defaultIndex:v(0),toolbarPosition:h("top"),columnsFieldNames:Object});const Ot=ve(t.defineComponent({name:Tt,props:At,emits:["confirm","cancel","change"],setup(o,{emit:a,slots:n}){const l=t.ref(!1),r=t.ref([]),i=t.computed((()=>{const{columnsFieldNames:e}=o;return{text:(null==e?void 0:e.text)||o.valueKey||"text",values:(null==e?void 0:e.values)||"values",children:(null==e?void 0:e.children)||"children"}})),{children:s,linkChildren:c}=e.useChildren(kt);c();const d=t.computed((()=>R(o.itemHeight))),u=t.computed((()=>{const e=o.columns[0];if("object"==typeof e){if(i.value.children in e)return"cascade";if(i.value.values in e)return"object"}return"plain"})),p=()=>s.map((e=>e.state.index)),m=(e,t)=>{const o=s[e];o&&(o.setOptions(t),l.value=!0)},v=e=>{let t={[i.value.children]:o.columns};const a=p();for(let o=0;o<=e;o++)t=t[i.value.children][a[o]];for(;t&&t[i.value.children];)e++,m(e,t[i.value.children]),t=t[i.value.children][t.defaultIndex||0]},h=e=>s[e],f=e=>{const t=h(e);if(t)return t.getValue()},g=(e,t)=>{const o=h(e);o&&(o.setValue(t),"cascade"===u.value&&v(e))},b=e=>{const t=h(e);if(t)return t.state.index},y=(e,t)=>{const o=h(e);o&&(o.setIndex(t),"cascade"===u.value&&v(e))},x=()=>s.map((e=>e.getValue())),V=e=>{"plain"===u.value?a(e,f(0),b(0)):a(e,x(),p())},w=()=>{s.forEach((e=>e.stopMomentum())),V("confirm")},N=()=>V("cancel"),C=()=>{const e=o.cancelButtonText||It("cancel");return t.createVNode("button",{type:"button",class:[Dt("cancel"),ue],onClick:N},[n.cancel?n.cancel():e])},k=()=>{const e=o.confirmButtonText||It("confirm");return t.createVNode("button",{type:"button",class:[Dt("confirm"),ue],onClick:w},[n.confirm?n.confirm():e])},S=()=>{if(o.showToolbar){const e=n.toolbar||n.default;return t.createVNode("div",{class:Dt("toolbar")},[e?e():[C(),n.title?n.title():o.title?t.createVNode("div",{class:[Dt("title"),"van-ellipsis"]},[o.title]):void 0,k()]])}},B=()=>r.value.map(((e,l)=>{var r;return t.createVNode(Bt,{textKey:i.value.text,readonly:o.readonly,allowHtml:o.allowHtml,className:e.className,itemHeight:d.value,defaultIndex:null!=(r=e.defaultIndex)?r:+o.defaultIndex,swipeDuration:o.swipeDuration,initialOptions:e[i.value.values],visibleItemCount:o.visibleItemCount,onChange:()=>(e=>{"cascade"===u.value&&v(e),"plain"===u.value?a("change",f(0),b(0)):a("change",x(),e)})(l)},{option:n.option})})),T=e=>{if(l.value){const o={height:`${d.value}px`},a={backgroundSize:`100% ${(e-d.value)/2}px`};return[t.createVNode("div",{class:Dt("mask"),style:a},null),t.createVNode("div",{class:[de,Dt("frame")],style:o},null)]}},D=()=>{const e=d.value*+o.visibleItemCount,a={height:`${e}px`};return t.createVNode("div",{class:Dt("columns"),style:a,onTouchmove:P},[B(),T(e)])};return t.watch((()=>o.columns),(()=>{const{columns:e}=o;"plain"===u.value?r.value=[{[i.value.values]:e}]:"cascade"===u.value?(()=>{var e;const t=[];let a={[i.value.children]:o.columns};for(;a&&a[i.value.children];){const n=a[i.value.children];let l=null!=(e=a.defaultIndex)?e:+o.defaultIndex;for(;n[l]&&n[l].disabled;){if(!(l<n.length-1)){l=0;break}l++}t.push({[i.value.values]:a[i.value.children],className:a.className,defaultIndex:l}),a=n[l]}r.value=t})():r.value=e,l.value=r.value.some((e=>e[i.value.values]&&0!==e[i.value.values].length))||s.some((e=>e.hasOptions))}),{immediate:!0}),xe({confirm:w,getValues:x,setValues:e=>{e.forEach(((e,t)=>{g(t,e)}))},getIndexes:p,setIndexes:e=>{e.forEach(((e,t)=>{y(t,e)}))},getColumnIndex:b,setColumnIndex:y,getColumnValue:f,setColumnValue:g,getColumnValues:e=>{const t=h(e);if(t)return t.state.options},setColumnValues:m}),()=>{var e,a;return t.createVNode("div",{class:Dt()},["top"===o.toolbarPosition?S():null,o.loading?t.createVNode(je,{class:Dt("loading")},null):null,null==(e=n["columns-top"])?void 0:e.call(n),D(),null==(a=n["columns-bottom"])?void 0:a.call(n),"bottom"===o.toolbarPosition?S():null])}}})),[zt,$t]=ae("area"),Et=["title","cancel","confirm","toolbar","columns-top","columns-bottom"],Lt=["title","loading","readonly","itemHeight","swipeDuration","visibleItemCount","cancelButtonText","confirmButtonText"],Mt=n({},Pt,{value:String,columnsNum:v(3),columnsPlaceholder:p(),areaList:{type:Object,default:()=>({})},isOverseaCode:{type:Function,default:e=>"9"===e[0]}});const Ft=ve(t.defineComponent({name:zt,props:Mt,emits:["change","confirm","cancel"],setup(e,{emit:o,slots:a}){const n=t.ref(),l=t.reactive({code:e.value,columns:[{values:[]},{values:[]},{values:[]}]}),r=t.computed((()=>{const{areaList:t}=e;return{province:t.province_list||{},city:t.city_list||{},county:t.county_list||{}}})),s=t.computed((()=>{const{columnsPlaceholder:t}=e;return{province:t[0]||"",city:t[1]||"",county:t[2]||""}})),c=(t,o)=>{let a=[];if("province"!==t&&!o)return a;const n=r.value[t];if(a=Object.keys(n).map((e=>({code:e,name:n[e]}))),o&&("city"===t&&e.isOverseaCode(o)&&(o="9"),a=a.filter((e=>0===e.code.indexOf(o)))),s.value[t]&&a.length){let e="";"city"===t?e="000000".slice(2,4):"county"===t&&(e="000000".slice(4,6)),a.unshift({code:o+e,name:s.value[t]})}return a},d=(t,o)=>{let a=o.length;"province"===t&&(a=e.isOverseaCode(o)?1:2),"city"===t&&(a=4),o=o.slice(0,a);const n=c(t,a>2?o.slice(0,a-2):"");for(let e=0;e<n.length;e++)if(n[e].code.slice(0,a)===o)return e;return 0},u=()=>{const t=n.value;if(!t)return;let o=l.code||(()=>{if(e.columnsPlaceholder.length)return"000000";const{county:t,city:o}=r.value,a=Object.keys(t);if(a[0])return a[0];const n=Object.keys(o);return n[0]?n[0]:""})();const a=c("province"),i=c("city",o.slice(0,2));t.setColumnValues(0,a),t.setColumnValues(1,i),i.length&&"00"===o.slice(2,4)&&!e.isOverseaCode(o)&&([{code:o}]=i),t.setColumnValues(2,c("county",o.slice(0,4))),t.setIndexes([d("province",o),d("city",o),d("county",o)])},p=t=>t.map(((t,o)=>(t&&((t=wt(t)).code&&t.name!==e.columnsPlaceholder[o]||(t.code="",t.name="")),t))),m=()=>{if(n.value){const e=n.value.getValues().filter(Boolean);return p(e)}return[]},v=(e,t)=>{if(l.code=e[t].code,u(),n.value){const e=p(n.value.getValues());o("change",e,t)}},h=(e,t)=>{u(),o("confirm",p(e),t)},f=(...e)=>o("cancel",...e);return t.onMounted(u),t.watch((()=>e.value),(e=>{l.code=e,u()})),t.watch((()=>e.areaList),u,{deep:!0}),t.watch((()=>e.columnsNum),(()=>{t.nextTick(u)})),xe({reset:(e="")=>{l.code=e,u()},getArea:()=>{const t=m(),o={code:"",country:"",province:"",city:"",county:""};if(!t.length)return o;const a=t.map((e=>e.name)),n=t.filter((e=>e.code));return o.code=n.length?n[n.length-1].code:"",e.isOverseaCode(o.code)?(o.country=a[1]||"",o.province=a[2]||""):(o.province=a[0]||"",o.city=a[1]||"",o.county=a[2]||""),o},getValues:m}),()=>{const o=l.columns.slice(0,+e.columnsNum);return t.createVNode(Ot,t.mergeProps({ref:n,class:$t(),columns:o,columnsFieldNames:{text:"name"},onChange:v,onCancel:f,onConfirm:h},i(e,Lt)),i(a,Et))}}})),[Rt,Ht]=ae("cell"),jt={icon:String,size:String,title:c,value:c,label:c,center:Boolean,isLink:Boolean,border:d,required:Boolean,iconPrefix:String,valueClass:null,labelClass:null,titleClass:null,titleStyle:null,arrowDirection:String,clickable:{type:Boolean,default:null}},Wt=n({},jt,Ve);const Yt=ve(t.defineComponent({name:Rt,props:Wt,setup(e,{slots:o}){const a=Ne(),n=()=>{if(o.label||f(e.label))return t.createVNode("div",{class:[Ht("label"),e.labelClass]},[o.label?o.label():e.label])},l=()=>{if(o.title||f(e.title))return t.createVNode("div",{class:[Ht("title"),e.titleClass],style:e.titleStyle},[o.title?o.title():t.createVNode("span",null,[e.title]),n()])},r=()=>{const a=o.value||o.default;if(a||f(e.value)){const n=o.title||f(e.title);return t.createVNode("div",{class:[Ht("value",{alone:!n}),e.valueClass]},[a?a():t.createVNode("span",null,[e.value])])}},i=()=>{if(o["right-icon"])return o["right-icon"]();if(e.isLink){const o=e.arrowDirection?`arrow-${e.arrowDirection}`:"arrow";return t.createVNode(Ee,{name:o,class:Ht("right-icon")},null)}};return()=>{var n,s;const{size:c,center:d,border:u,isLink:p,required:m}=e,v=null!=(n=e.clickable)?n:p,h={center:d,required:m,clickable:v,borderless:!u};return c&&(h[c]=!!c),t.createVNode("div",{class:Ht(h),role:v?"button":void 0,tabindex:v?0:void 0,onClick:a},[o.icon?o.icon():e.icon?t.createVNode(Ee,{name:e.icon,class:Ht("left-icon"),classPrefix:e.iconPrefix},null):void 0,l(),r(),i(),null==(s=o.extra)?void 0:s.call(o)])}}})),[Ut,qt]=ae("form"),Xt={colon:Boolean,disabled:Boolean,readonly:Boolean,showError:Boolean,labelWidth:c,labelAlign:String,inputAlign:String,scrollToError:Boolean,validateFirst:Boolean,submitOnEnter:d,showErrorMessage:d,errorMessageAlign:String,validateTrigger:{type:[String,Array],default:"onBlur"}};const Gt=ve(t.defineComponent({name:Ut,props:Xt,emits:["submit","failed"],setup(o,{emit:a,slots:n}){const{children:l,linkChildren:r}=e.useChildren(pe),i=e=>e?l.filter((t=>e.includes(t.name))):l,s=e=>{return"string"==typeof e?(e=>{const t=l.find((t=>t.name===e));return t?new Promise(((e,o)=>{t.validate().then((t=>{t?o(t):e()}))})):Promise.reject()})(e):o.validateFirst?(t=e,new Promise(((e,o)=>{const a=[];i(t).reduce(((e,t)=>e.then((()=>{if(!a.length)return t.validate().then((e=>{e&&a.push(e)}))}))),Promise.resolve()).then((()=>{a.length?o(a):e()}))}))):(e=>new Promise(((t,o)=>{const a=i(e);Promise.all(a.map((e=>e.validate()))).then((e=>{(e=e.filter(Boolean)).length?o(e):t()}))})))(e);var t},c=(e,t)=>{l.some((o=>o.name===e&&(o.$el.scrollIntoView(t),!0)))},d=()=>l.reduce(((e,t)=>(e[t.name]=t.formValue.value,e)),{}),u=()=>{const e=d();s().then((()=>a("submit",e))).catch((t=>{a("failed",{values:e,errors:t}),o.scrollToError&&t[0].name&&c(t[0].name)}))},p=e=>{P(e),u()};return r({props:o}),xe({submit:u,validate:s,getValues:d,scrollToField:c,resetValidation:e=>{"string"==typeof e&&(e=[e]);i(e).forEach((e=>{e.resetValidation()}))},getValidationStatus:()=>l.reduce(((e,t)=>(e[t.name]=t.getValidationStatus(),e)),{})}),()=>{var e;return t.createVNode("form",{class:qt(),onSubmit:p},[null==(e=n.default)?void 0:e.call(n)])}}}));function Zt(e,t){return(!t.required||!function(e){return Array.isArray(e)?!e.length:0!==e&&!e}(e))&&!(t.pattern&&!t.pattern.test(String(e)))}function Kt(e,t){const{message:o}=t;return g(o)?o(e,t):o||""}function _t({target:e}){e.composing=!0}function Jt({target:e}){e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}function Qt(e){return[...e].length}let eo=0;function to(){const e=t.getCurrentInstance(),{name:o="unknown"}=(null==e?void 0:e.type)||{};return`${o}-${++eo}`}const[oo,ao]=ae("field"),no={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:c,formatter:Function,clearIcon:h("clear"),modelValue:v(""),inputAlign:String,placeholder:String,autocomplete:String,errorMessage:String,enterkeyhint:String,clearTrigger:h("focus"),formatTrigger:h("onChange"),error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null}},lo=n({},jt,no,{rows:c,type:h("text"),rules:Array,autosize:[Boolean,Object],labelWidth:c,labelClass:null,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}});const ro=ve(t.defineComponent({name:oo,props:lo,emits:["blur","focus","clear","keypress","click-input","click-left-icon","click-right-icon","update:modelValue"],setup(o,{emit:a,slots:n}){const l=to(),r=t.reactive({status:"unvalidated",focused:!1,validateMessage:""}),i=t.ref(),c=t.ref(),{parent:d}=e.useParent(pe),u=()=>{var e;return String(null!=(e=o.modelValue)?e:"")},p=e=>f(o[e])?o[e]:d&&f(d.props[e])?d.props[e]:void 0,m=t.computed((()=>{const e=p("readonly");if(o.clearable&&!e){const e=""!==u(),t="always"===o.clearTrigger||"focus"===o.clearTrigger&&r.focused;return e&&t}return!1})),v=t.computed((()=>c.value&&n.input?c.value():o.modelValue)),h=e=>e.reduce(((e,t)=>e.then((()=>{if("failed"===r.status)return;let{value:e}=v;return t.formatter&&(e=t.formatter(e,t)),Zt(e,t)?t.validator?function(e,t){return new Promise((o=>{const a=t.validator(e,t);y(a)?a.then(o):o(a)}))}(e,t).then((o=>{o&&"string"==typeof o?(r.status="failed",r.validateMessage=o):!1===o&&(r.status="failed",r.validateMessage=Kt(e,t))})):void 0:(r.status="failed",void(r.validateMessage=Kt(e,t)))}))),Promise.resolve()),g=()=>{r.status="unvalidated",r.validateMessage=""},x=(e=o.rules)=>new Promise((t=>{g(),e?h(e).then((()=>{"failed"===r.status?t({name:o.name,message:r.validateMessage}):(r.status="passed",t())})):t()})),V=e=>{if(d&&o.rules){const{validateTrigger:t}=d.props,a=s(t).includes(e),n=o.rules.filter((t=>t.trigger?s(t.trigger).includes(e):a));n.length&&x(n)}},w=(e,t="onChange")=>{if(e=(e=>{const{maxlength:t}=o;if(f(t)&&Qt(e)>t){const o=u();return o&&Qt(o)===+t?o:function(e,t){return[...e].slice(0,t).join("")}(e,+t)}return e})(e),"number"===o.type||"digit"===o.type){const t="number"===o.type;e=q(e,t,t)}o.formatter&&t===o.formatTrigger&&(e=o.formatter(e)),i.value&&i.value.value!==e&&(i.value.value=e),e!==o.modelValue&&a("update:modelValue",e)},N=e=>{e.target.composing||w(e.target.value)},C=()=>{var e;return null==(e=i.value)?void 0:e.blur()},B=()=>{const e=i.value;"textarea"===o.type&&o.autosize&&e&&function(e,t){const o=k();e.style.height="auto";let a=e.scrollHeight;if(b(t)){const{maxHeight:e,minHeight:o}=t;void 0!==e&&(a=Math.min(a,e)),void 0!==o&&(a=Math.max(a,o))}a&&(e.style.height=`${a}px`,S(o))}(e,o.autosize)},T=e=>{r.focused=!0,a("focus",e),t.nextTick(B),p("readonly")&&C()},I=e=>{p("readonly")||(r.focused=!1,w(u(),"onBlur"),a("blur",e),V("onBlur"),t.nextTick(B),D())},A=e=>a("click-input",e),O=e=>a("click-left-icon",e),z=e=>a("click-right-icon",e),E=e=>{P(e),a("update:modelValue",""),a("clear",e)},L=t.computed((()=>"boolean"==typeof o.error?o.error:!(!d||!d.props.showError||"failed"!==r.status)||void 0)),M=t.computed((()=>{const e=p("labelWidth");if(e)return{width:$(e)}})),F=e=>{if(13===e.keyCode){d&&d.props.submitOnEnter||"textarea"===o.type||P(e),"search"===o.type&&C()}a("keypress",e)},R=()=>o.id||`${l}-input`,H=()=>{const e=ao("control",[p("inputAlign"),{error:L.value,custom:!!n.input,"min-height":"textarea"===o.type&&!o.autosize}]);if(n.input)return t.createVNode("div",{class:e,onClick:A},[n.input()]);const a={id:R(),ref:i,name:o.name,rows:void 0!==o.rows?+o.rows:void 0,class:e,disabled:p("disabled"),readonly:p("readonly"),autofocus:o.autofocus,placeholder:o.placeholder,autocomplete:o.autocomplete,enterkeyhint:o.enterkeyhint,"aria-labelledby":o.label?`${l}-label`:void 0,onBlur:I,onFocus:T,onInput:N,onClick:A,onChange:Jt,onKeypress:F,onCompositionend:Jt,onCompositionstart:_t};return"textarea"===o.type?t.createVNode("textarea",a,null):t.createVNode("input",t.mergeProps("number"===(r=o.type)?{type:"text",inputmode:"decimal"}:"digit"===r?{type:"tel",inputmode:"numeric"}:{type:r},a),null);var r},j=()=>{const e=n["right-icon"];if(o.rightIcon||e)return t.createVNode("div",{class:ao("right-icon"),onClick:z},[e?e():t.createVNode(Ee,{name:o.rightIcon,classPrefix:o.iconPrefix},null)])},W=()=>{if(o.showWordLimit&&o.maxlength){const e=Qt(u());return t.createVNode("div",{class:ao("word-limit")},[t.createVNode("span",{class:ao("word-num")},[e]),t.createTextVNode("/"),o.maxlength])}},Y=()=>{if(d&&!1===d.props.showErrorMessage)return;const e=o.errorMessage||r.validateMessage;if(e){const o=n["error-message"],a=p("errorMessageAlign");return t.createVNode("div",{class:ao("error-message",a)},[o?o({message:e}):e])}},U=()=>[t.createVNode("div",{class:ao("body")},[H(),m.value&&t.createVNode(Ee,{name:o.clearIcon,class:ao("clear"),onTouchstart:E},null),j(),n.button&&t.createVNode("div",{class:ao("button")},[n.button()])]),W(),Y()];return xe({blur:C,focus:()=>{var e;return null==(e=i.value)?void 0:e.focus()},validate:x,formValue:v,resetValidation:g,getValidationStatus:()=>r.status}),t.provide(e.CUSTOM_FIELD_INJECTION_KEY,{customValue:c,resetValidation:g,validateWithTrigger:V}),t.watch((()=>o.modelValue),(()=>{w(u()),g(),V("onChange"),t.nextTick(B)})),t.onMounted((()=>{w(u(),o.formatTrigger),t.nextTick(B)})),()=>{const e=p("disabled"),a=p("labelAlign"),r=(()=>{const e=p("colon")?":":"";return n.label?[n.label(),e]:o.label?t.createVNode("label",{id:`${l}-label`,for:R()},[o.label+e]):void 0})(),i=(()=>{const e=n["left-icon"];if(o.leftIcon||e)return t.createVNode("div",{class:ao("left-icon"),onClick:O},[e?e():t.createVNode(Ee,{name:o.leftIcon,classPrefix:o.iconPrefix},null)])})();return t.createVNode(Yt,{size:o.size,icon:o.leftIcon,class:ao({error:L.value,disabled:e,[`label-${a}`]:a}),center:o.center,border:o.border,isLink:o.isLink,clickable:o.clickable,titleStyle:M.value,valueClass:ao("value"),titleClass:[ao("label",[a,{required:o.required}]),o.labelClass],arrowDirection:o.arrowDirection},{icon:i?()=>i:null,title:r?()=>r:null,value:U,extra:n.extra})}}}));function io(){const e=t.reactive({show:!1}),o=t=>{e.show=t},a=t=>{n(e,t,{transitionAppear:!0}),o(!0)},l=()=>o(!1);return xe({open:a,close:l,toggle:o}),{open:a,close:l,state:e,toggle:o}}function so(e){const o=t.createApp(e),a=document.createElement("div");return document.body.appendChild(a),{instance:o.mount(a),unmount(){o.unmount(),document.body.removeChild(a)}}}let co=0;const[uo,po]=ae("toast"),mo=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay"],vo={icon:String,show:Boolean,type:h("text"),overlay:Boolean,message:c,iconSize:c,duration:m(2e3),position:h("middle"),teleport:[String,Object],className:null,iconPrefix:String,transition:h("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:null,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean};var ho=t.defineComponent({name:uo,props:vo,emits:["update:show"],setup(e,{emit:o}){let a,n=!1;const l=()=>{const t=e.show&&e.forbidClick;n!==t&&(n=t,n?(co||document.body.classList.add("van-toast--unclickable"),co++):co&&(co--,co||document.body.classList.remove("van-toast--unclickable")))},r=e=>o("update:show",e),s=()=>{e.closeOnClick&&r(!1)},c=()=>clearTimeout(a),d=()=>{const{icon:o,type:a,iconSize:n,iconPrefix:l,loadingType:r}=e;return o||"success"===a||"fail"===a?t.createVNode(Ee,{name:o||a,size:n,class:po("icon"),classPrefix:l},null):"loading"===a?t.createVNode(je,{class:po("loading"),size:n,type:r},null):void 0},u=()=>{const{type:o,message:a}=e;if(f(a)&&""!==a)return"html"===o?t.createVNode("div",{key:0,class:po("text"),innerHTML:String(a)},null):t.createVNode("div",{class:po("text")},[a])};return t.watch((()=>[e.show,e.forbidClick]),l),t.watch((()=>[e.show,e.type,e.message,e.duration]),(()=>{c(),e.show&&e.duration>0&&(a=setTimeout((()=>{r(!1)}),e.duration))})),t.onMounted(l),t.onUnmounted(l),()=>t.createVNode(ft,t.mergeProps({class:[po([e.position,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:s,onClosed:c,"onUpdate:show":r},i(e,mo)),{default:()=>[d(),u()]})}});const fo={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let go=[],bo=!1,yo=n({},fo);const xo=new Map;function Vo(e){return b(e)?e:{message:e}}function wo(){if(!go.length||bo){const e=function(){const{instance:e,unmount:o}=so({setup(){const a=t.ref(""),{open:n,state:l,close:r,toggle:i}=io(),s=()=>{bo&&(go=go.filter((t=>t!==e)),o())};return t.watch(a,(e=>{l.message=e})),t.getCurrentInstance().render=()=>{const e={onClosed:s,"onUpdate:show":i};return t.createVNode(ho,t.mergeProps(l,e),null)},{open:n,clear:r,message:a}}});return e}();go.push(e)}return go[go.length-1]}function No(e={}){if(!l)return{};const t=wo(),o=Vo(e);return t.open(n({},yo,xo.get(o.type||yo.type),o)),t}const Co=e=>t=>No(n({type:e},Vo(t)));No.loading=Co("loading"),No.success=Co("success"),No.fail=Co("fail"),No.clear=e=>{var t;go.length&&(e?(go.forEach((e=>{e.clear()})),go=[]):bo?null==(t=go.shift())||t.clear():go[0].clear())},No.setDefaultOptions=function(e,t){"string"==typeof e?xo.set(e,t):n(yo,e)},No.resetDefaultOptions=e=>{"string"==typeof e?xo.delete(e):(yo=n({},fo),xo.clear())},No.allowMultiple=(e=!0)=>{bo=e},No.install=e=>{e.use(ve(ho)),e.config.globalProperties.$toast=No};const[ko,So]=ae("switch"),Bo={size:c,loading:Boolean,disabled:Boolean,modelValue:null,activeColor:String,inactiveColor:String,activeValue:{type:null,default:!0},inactiveValue:{type:null,default:!1}};const To=ve(t.defineComponent({name:ko,props:Bo,emits:["change","update:modelValue"],setup(o,{emit:a,slots:n}){const l=()=>o.modelValue===o.activeValue,r=()=>{if(!o.disabled&&!o.loading){const e=l()?o.inactiveValue:o.activeValue;a("update:modelValue",e),a("change",e)}},i=()=>{if(o.loading){const e=l()?o.activeColor:o.inactiveColor;return t.createVNode(je,{class:So("loading"),color:e},null)}if(n.node)return n.node()};return e.useCustomFieldValue((()=>o.modelValue)),()=>{var e;const{size:a,loading:s,disabled:c,activeColor:d,inactiveColor:u}=o,p=l(),m={fontSize:$(a),backgroundColor:p?d:u};return t.createVNode("div",{role:"switch",class:So({on:p,loading:s,disabled:c}),style:m,tabindex:c?void 0:0,"aria-checked":p,onClick:r},[t.createVNode("div",{class:So("node")},[i()]),null==(e=n.background)?void 0:e.call(n)])}}})),[Do,Io]=ae("address-edit-detail"),Po=ae("address-edit")[2];var Ao=t.defineComponent({name:Do,props:{show:Boolean,rows:c,value:String,rules:Array,focused:Boolean,maxlength:c,searchResult:Array,showSearchResult:Boolean},emits:["blur","focus","input","select-search"],setup(e,{emit:o}){const a=t.ref(),n=()=>e.focused&&e.searchResult&&e.showSearchResult,l=()=>{if(!n())return;const{searchResult:a}=e;return a.map((a=>t.createVNode(Yt,{clickable:!0,key:a.name+a.address,icon:"location-o",label:a.address,class:Io("search-item"),border:!1,onClick:()=>(e=>{o("select-search",e),o("input",`${e.address||""} ${e.name||""}`.trim())})(a)},{title:()=>(o=>{if(o.name){const a=o.name.replace(e.value,`<span class=${Io("keyword")}>${e.value}</span>`);return t.createVNode("div",{innerHTML:a},null)}})(a)})))},r=e=>o("blur",e),i=e=>o("focus",e),s=e=>o("input",e);return()=>{if(e.show)return t.createVNode(t.Fragment,null,[t.createVNode(ro,{autosize:!0,clearable:!0,ref:a,class:Io(),rows:e.rows,type:"textarea",rules:e.rules,label:Po("addressDetail"),border:!n(),maxlength:e.maxlength,modelValue:e.value,placeholder:Po("addressDetail"),onBlur:r,onFocus:i,"onUpdate:modelValue":s},null),l()])}}});const[Oo,zo,$o]=ae("address-edit"),Eo={name:"",tel:"",city:"",county:"",country:"",province:"",areaCode:"",isDefault:!1,postalCode:"",addressDetail:""},Lo={areaList:Object,isSaving:Boolean,isDeleting:Boolean,validator:Function,showArea:d,showDetail:d,showDelete:Boolean,showPostal:Boolean,disableArea:Boolean,searchResult:Array,telMaxlength:c,showSetDefault:Boolean,saveButtonText:String,areaPlaceholder:String,deleteButtonText:String,showSearchResult:Boolean,detailRows:v(1),detailMaxlength:v(200),areaColumnsPlaceholder:p(),addressInfo:{type:Object,default:()=>n({},Eo)},telValidator:{type:Function,default:V},postalValidator:{type:Function,default:e=>/^\d{6}$/.test(e)}};const Mo=ve(t.defineComponent({name:Oo,props:Lo,emits:["save","focus","delete","click-area","change-area","change-detail","select-search","change-default"],setup(e,{emit:o,slots:a}){const l=t.ref(),r=t.reactive({}),i=t.ref(!1),s=t.ref(!1),c=t.computed((()=>b(e.areaList)&&Object.keys(e.areaList).length)),d=t.computed((()=>{const{country:e,province:t,city:o,county:a,areaCode:n}=r;if(n){const n=[e,t,o,a];return t&&t===o&&n.splice(1,1),n.filter(Boolean).join("/")}return""})),u=t.computed((()=>{var t;return(null==(t=e.searchResult)?void 0:t.length)&&s.value})),p=()=>{if(l.value){const e=l.value.getArea();e.areaCode=e.code,delete e.code,n(r,e)}},m=e=>{s.value="addressDetail"===e,o("focus",e)},v=t.computed((()=>{const{validator:t,telValidator:o,postalValidator:a}=e,n=(e,o)=>({validator:a=>{if(t){const o=t(e,a);if(o)return o}return!!a||o}});return{name:[n("name",$o("nameEmpty"))],tel:[n("tel",$o("telInvalid")),{validator:o,message:$o("telInvalid")}],areaCode:[n("areaCode",$o("areaEmpty"))],addressDetail:[n("addressDetail",$o("addressEmpty"))],postalCode:[n("addressDetail",$o("postalEmpty")),{validator:a,message:$o("postalEmpty")}]}})),h=()=>o("save",r),f=e=>{r.addressDetail=e,o("change-detail",e)},g=e=>{(e=e.filter(Boolean)).some((e=>!e.code))?No($o("areaEmpty")):(i.value=!1,p(),o("change-area",e))},y=()=>o("delete",r),x=e=>{r.areaCode=e||"",e&&t.nextTick(p)},V=()=>{setTimeout((()=>{s.value=!1}))},w=()=>{if(e.showSetDefault){const e={"right-icon":()=>t.createVNode(To,{modelValue:r.isDefault,"onUpdate:modelValue":e=>r.isDefault=e,size:"24",onChange:e=>o("change-default",e)},null)};return t.withDirectives(t.createVNode(Yt,{center:!0,title:$o("defaultAddress"),class:zo("default")},e),[[t.vShow,!u.value]])}};return xe({getArea:()=>{var e;return(null==(e=l.value)?void 0:e.getValues())||[]},setAreaCode:x,setAddressDetail:e=>{r.addressDetail=e}}),t.watch((()=>e.areaList),(()=>x(r.areaCode))),t.watch((()=>e.addressInfo),(e=>{n(r,Eo,e),x(e.areaCode)}),{deep:!0,immediate:!0}),()=>{const{disableArea:n}=e;return t.createVNode(Gt,{class:zo(),onSubmit:h},{default:()=>{var p;return[t.createVNode("div",{class:zo("fields")},[t.createVNode(ro,{modelValue:r.name,"onUpdate:modelValue":e=>r.name=e,clearable:!0,label:$o("name"),rules:v.value.name,placeholder:$o("name"),onFocus:()=>m("name")},null),t.createVNode(ro,{modelValue:r.tel,"onUpdate:modelValue":e=>r.tel=e,clearable:!0,type:"tel",label:$o("tel"),rules:v.value.tel,maxlength:e.telMaxlength,placeholder:$o("tel"),onFocus:()=>m("tel")},null),t.withDirectives(t.createVNode(ro,{readonly:!0,label:$o("area"),"is-link":!n,modelValue:d.value,rules:v.value.areaCode,placeholder:e.areaPlaceholder||$o("area"),onFocus:()=>m("areaCode"),onClick:()=>{o("click-area"),i.value=!n}},null),[[t.vShow,e.showArea]]),t.createVNode(Ao,{show:e.showDetail,rows:e.detailRows,rules:v.value.addressDetail,value:r.addressDetail,focused:s.value,maxlength:e.detailMaxlength,searchResult:e.searchResult,showSearchResult:e.showSearchResult,onBlur:V,onFocus:()=>m("addressDetail"),onInput:f,"onSelect-search":e=>o("select-search",e)},null),e.showPostal&&t.withDirectives(t.createVNode(ro,{modelValue:r.postalCode,"onUpdate:modelValue":e=>r.postalCode=e,type:"tel",rules:v.value.postalCode,label:$o("postal"),maxlength:"6",placeholder:$o("postal"),onFocus:()=>m("postalCode")},null),[[t.vShow,!u.value]]),null==(p=a.default)?void 0:p.call(a)]),w(),t.withDirectives(t.createVNode("div",{class:zo("buttons")},[t.createVNode(qe,{block:!0,round:!0,type:"danger",text:e.saveButtonText||$o("save"),class:zo("button"),loading:e.isSaving,nativeType:"submit"},null),e.showDelete&&t.createVNode(qe,{block:!0,round:!0,class:zo("button"),loading:e.isDeleting,text:e.deleteButtonText||$o("delete"),onClick:y},null)]),[[t.vShow,!u.value]]),t.createVNode(ft,{show:i.value,"onUpdate:show":e=>i.value=e,round:!0,teleport:"body",position:"bottom",lazyRender:!1},{default:()=>[t.createVNode(Ft,{ref:l,value:r.areaCode,loading:!c.value,areaList:e.areaList,columnsPlaceholder:e.areaColumnsPlaceholder,onConfirm:g,onCancel:()=>{i.value=!1}},null)]})]}})}}})),[Fo,Ro]=ae("radio-group"),Ho={disabled:Boolean,iconSize:c,direction:String,modelValue:null,checkedColor:String},jo=Symbol(Fo);const Wo=ve(t.defineComponent({name:Fo,props:Ho,emits:["change","update:modelValue"],setup(o,{emit:a,slots:n}){const{linkChildren:l}=e.useChildren(jo);return t.watch((()=>o.modelValue),(e=>a("change",e))),l({props:o,updateValue:e=>a("update:modelValue",e)}),e.useCustomFieldValue((()=>o.modelValue)),()=>{var e;return t.createVNode("div",{class:Ro([o.direction]),role:"radiogroup"},[null==(e=n.default)?void 0:e.call(n)])}}})),[Yo,Uo]=ae("tag"),qo={size:String,mark:Boolean,show:d,type:h("default"),color:String,plain:Boolean,round:Boolean,textColor:String,closeable:Boolean};const Xo=ve(t.defineComponent({name:Yo,props:qo,emits:["close"],setup(e,{slots:o,emit:a}){const n=e=>{e.stopPropagation(),a("close",e)},l=()=>{var a;const{type:l,mark:r,plain:i,round:s,size:c,closeable:d}=e,u={mark:r,plain:i,round:s};c&&(u[c]=c);const p=d&&t.createVNode(Ee,{name:"cross",class:[Uo("close"),ue],onClick:n},null);return t.createVNode("span",{style:e.plain?{color:e.textColor||e.color,borderColor:e.color}:{color:e.textColor,background:e.color},class:Uo([u,l])},[null==(a=o.default)?void 0:a.call(o),p])};return()=>t.createVNode(t.Transition,{name:e.closeable?"van-fade":void 0},{default:()=>[e.show?l():null]})}})),Go={name:null,shape:h("round"),disabled:Boolean,iconSize:c,modelValue:null,checkedColor:String,labelPosition:String,labelDisabled:Boolean};var Zo=t.defineComponent({props:n({},Go,{bem:u(Function),role:String,parent:Object,checked:Boolean,bindGroup:d}),emits:["click","toggle"],setup(e,{emit:o,slots:a}){const n=t.ref(),l=t=>{if(e.parent&&e.bindGroup)return e.parent.props[t]},r=t.computed((()=>l("disabled")||e.disabled)),i=t.computed((()=>l("direction"))),s=t.computed((()=>{const t=e.checkedColor||l("checkedColor");if(t&&e.checked&&!r.value)return{borderColor:t,backgroundColor:t}})),c=t=>{const{target:a}=t,l=n.value,i=l===a||(null==l?void 0:l.contains(a));r.value||!i&&e.labelDisabled||o("toggle"),o("click",t)},d=()=>{const{bem:o,shape:i,checked:c}=e,d=e.iconSize||l("iconSize");return t.createVNode("div",{ref:n,class:o("icon",[i,{disabled:r.value,checked:c}]),style:{fontSize:$(d)}},[a.icon?a.icon({checked:c,disabled:r.value}):t.createVNode(Ee,{name:"success",style:s.value},null)])},u=()=>{if(a.default)return t.createVNode("span",{class:e.bem("label",[e.labelPosition,{disabled:r.value}])},[a.default()])};return()=>{const o="left"===e.labelPosition?[u(),d()]:[d(),u()];return t.createVNode("div",{role:e.role,class:e.bem([{disabled:r.value,"label-disabled":e.labelDisabled},i.value]),tabindex:r.value?void 0:0,"aria-checked":e.checked,onClick:c},[o])}}});const[Ko,_o]=ae("radio");const Jo=ve(t.defineComponent({name:Ko,props:Go,emits:["update:modelValue"],setup(o,{emit:a,slots:n}){const{parent:l}=e.useParent(jo),r=()=>{l?l.updateValue(o.name):a("update:modelValue",o.name)};return()=>t.createVNode(Zo,t.mergeProps({bem:_o,role:"radio",parent:l,checked:(l?l.props.modelValue:o.modelValue)===o.name,onToggle:r},o),i(n,["default","icon"]))}})),[Qo,ea]=ae("address-item");var ta=t.defineComponent({name:Qo,props:{address:u(Object),disabled:Boolean,switchable:Boolean,defaultTagText:String},emits:["edit","click","select"],setup(e,{slots:o,emit:a}){const l=()=>{e.switchable&&a("select"),a("click")},r=()=>t.createVNode(Ee,{name:"edit",class:ea("edit"),onClick:e=>{e.stopPropagation(),a("edit"),a("click")}},null),i=()=>{const{address:a,disabled:n,switchable:l}=e,r=[t.createVNode("div",{class:ea("name")},[`${a.name} ${a.tel}`,o.tag?o.tag(e.address):e.address.isDefault&&e.defaultTagText?t.createVNode(Xo,{type:"danger",round:!0,class:ea("tag")},{default:()=>[e.defaultTagText]}):void 0]),t.createVNode("div",{class:ea("address")},[a.address])];return l&&!n?t.createVNode(Jo,{name:a.id,iconSize:18},{default:()=>[r]}):r};return()=>{var a;const{disabled:s}=e;return t.createVNode("div",{class:ea({disabled:s}),onClick:l},[t.createVNode(Yt,{border:!1,valueClass:ea("value")},{value:i,"right-icon":r}),null==(a=o.bottom)?void 0:a.call(o,n({},e.address,{disabled:s}))])}}});const[oa,aa,na]=ae("address-list"),la={list:p(),modelValue:c,switchable:d,disabledText:String,disabledList:p(),addButtonText:String,defaultTagText:String};const ra=ve(t.defineComponent({name:oa,props:la,emits:["add","edit","select","click-item","edit-disabled","select-disabled","update:modelValue"],setup(e,{slots:o,emit:a}){const n=(n,l)=>{if(n)return n.map(((n,r)=>((n,l,r)=>t.createVNode(ta,{key:n.id,address:n,disabled:r,switchable:e.switchable,defaultTagText:e.defaultTagText,onEdit:()=>a(r?"edit-disabled":"edit",n,l),onClick:()=>a("click-item",n,l),onSelect:()=>{a(r?"select-disabled":"select",n,l),r||a("update:modelValue",n.id)}},{bottom:o["item-bottom"],tag:o.tag}))(n,r,l)))};return()=>{var l,r;const i=n(e.list),s=n(e.disabledList,!0),c=e.disabledText&&t.createVNode("div",{class:aa("disabled-text")},[e.disabledText]);return t.createVNode("div",{class:aa()},[null==(l=o.top)?void 0:l.call(o),t.createVNode(Wo,{modelValue:e.modelValue},{default:()=>[i]}),c,s,null==(r=o.default)?void 0:r.call(o),t.createVNode("div",{class:[aa("bottom"),"van-safe-area-bottom"]},[t.createVNode(qe,{round:!0,block:!0,type:"danger",text:e.addButtonText||na("add"),class:aa("add"),onClick:()=>a("add")},null)])])}}})),[ia,sa,ca]=ae("calendar");function da(e,t){const o=e.getFullYear(),a=t.getFullYear();if(o===a){const o=e.getMonth(),a=t.getMonth();return o===a?0:o>a?1:-1}return o>a?1:-1}function ua(e,t){const o=da(e,t);if(0===o){const o=e.getDate(),a=t.getDate();return o===a?0:o>a?1:-1}return o}const pa=e=>new Date(e),ma=e=>Array.isArray(e)?e.map(pa):pa(e);function va(e,t){const o=pa(e);return o.setDate(o.getDate()+t),o}const ha=e=>va(e,-1),fa=e=>va(e,1),ga=()=>{const e=new Date;return e.setHours(0,0,0,0),e};function ba(){const e=t.ref([]),o=[];t.onBeforeUpdate((()=>{e.value=[]}));return[e,t=>(o[t]||(o[t]=o=>{e.value[t]=o}),o[t])]}const ya=n({},Pt,{filter:Function,columnsOrder:Array,formatter:{type:Function,default:(e,t)=>t}}),xa=Object.keys(Pt);function Va(e,t){if(e<0)return[];const o=Array(e);let a=-1;for(;++a<e;)o[a]=t(a);return o}const wa=(e,t)=>32-new Date(e,t-1,32).getDate(),Na=(e,t)=>{const o=["setValues","setIndexes","setColumnIndex","setColumnValue"];return new Proxy(e,{get:(e,a)=>o.includes(a)?(...o)=>{e[a](...o),t()}:e[a]})},Ca=o=>{const a=t.ref(),n=()=>{a.value=e.useRect(o).height};return t.onMounted((()=>{t.nextTick(n),setTimeout(n,100)})),a},[ka]=ae("calendar-day");var Sa=t.defineComponent({name:ka,props:{item:u(Object),color:String,index:Number,offset:m(0),rowHeight:String},emits:["click"],setup(e,{emit:o,slots:a}){const n=t.computed((()=>{var t;const{item:o,index:a,color:n,offset:l,rowHeight:r}=e,i={height:r};if("placeholder"===o.type)return i.width="100%",i;if(0===a&&(i.marginLeft=100*l/7+"%"),n)switch(o.type){case"end":case"start":case"start-end":case"multiple-middle":case"multiple-selected":i.background=n;break;case"middle":i.color=n}return l+((null==(t=o.date)?void 0:t.getDate())||1)>28&&(i.marginBottom=0),i})),l=()=>{"disabled"!==e.item.type&&o("click",e.item)},r=()=>{const{topInfo:o}=e.item;if(o||a["top-info"])return t.createVNode("div",{class:sa("top-info")},[a["top-info"]?a["top-info"](e.item):o])},i=()=>{const{bottomInfo:o}=e.item;if(o||a["bottom-info"])return t.createVNode("div",{class:sa("bottom-info")},[a["bottom-info"]?a["bottom-info"](e.item):o])},s=()=>{const{item:o,color:a,rowHeight:n}=e,{type:l,text:s}=o,c=[r(),s,i()];return"selected"===l?t.createVNode("div",{class:sa("selected-day"),style:{width:n,height:n,background:a}},[c]):c};return()=>{const{type:o,className:a}=e.item;return"placeholder"===o?t.createVNode("div",{class:sa("day"),style:n.value},null):t.createVNode("div",{role:"gridcell",style:n.value,class:[sa("day",o),a],tabindex:"disabled"===o?void 0:-1,onClick:l},[s()])}}});const[Ba]=ae("calendar-month"),Ta={date:u(Date),type:String,color:String,minDate:u(Date),maxDate:u(Date),showMark:Boolean,rowHeight:c,formatter:Function,lazyRender:Boolean,currentDate:[Date,Array],allowSameDay:Boolean,showSubtitle:Boolean,showMonthTitle:Boolean,firstDayOfWeek:Number};var Da=t.defineComponent({name:Ba,props:Ta,emits:["click","update-height"],setup(o,{emit:a,slots:n}){const[l,r]=e.useToggle(),s=t.ref(),c=t.ref(),d=Ca(c),u=t.computed((()=>{return e=o.date,ca("monthTitle",e.getFullYear(),e.getMonth()+1);var e})),p=t.computed((()=>$(o.rowHeight))),m=t.computed((()=>{const e=o.date.getDay();return o.firstDayOfWeek?(e+7-o.firstDayOfWeek)%7:e})),v=t.computed((()=>wa(o.date.getFullYear(),o.date.getMonth()+1))),h=t.computed((()=>l.value||!o.lazyRender)),f=e=>{const{type:t,minDate:a,maxDate:n,currentDate:l}=o;if(ua(e,a)<0||ua(e,n)>0)return"disabled";if(null===l)return"";if(Array.isArray(l)){if("multiple"===t)return(e=>{const t=e=>o.currentDate.some((t=>0===ua(t,e)));if(t(e)){const o=ha(e),a=fa(e),n=t(o),l=t(a);return n&&l?"multiple-middle":n?"end":l?"start":"multiple-selected"}return""})(e);if("range"===t)return(e=>{const[t,a]=o.currentDate;if(!t)return"";const n=ua(e,t);if(!a)return 0===n?"start":"";const l=ua(e,a);return o.allowSameDay&&0===n&&0===l?"start-end":0===n?"start":0===l?"end":n>0&&l<0?"middle":""})(e)}else if("single"===t)return 0===ua(e,l)?"selected":"";return""},g=e=>{if("range"===o.type){if("start"===e||"end"===e)return ca(e);if("start-end"===e)return`${ca("start")}/${ca("end")}`}},b=()=>{if(o.showMonthTitle)return t.createVNode("div",{class:sa("month-title")},[u.value])},y=()=>{if(o.showMark&&h.value)return t.createVNode("div",{class:sa("month-mark")},[o.date.getMonth()+1])},x=t.computed((()=>{const e=Math.ceil((v.value+m.value)/7);return Array(e).fill({type:"placeholder"})})),V=t.computed((()=>{const e=[],t=o.date.getFullYear(),a=o.date.getMonth();for(let n=1;n<=v.value;n++){const l=new Date(t,a,n),r=f(l);let i={date:l,type:r,text:n,bottomInfo:g(r)};o.formatter&&(i=o.formatter(i)),e.push(i)}return e})),w=t.computed((()=>V.value.filter((e=>"disabled"===e.type)))),N=(e,l)=>t.createVNode(Sa,{item:e,index:l,color:o.color,offset:m.value,rowHeight:p.value,onClick:e=>a("click",e)},i(n,["top-info","bottom-info"]));return xe({getTitle:()=>u.value,getHeight:()=>d.value,setVisible:r,scrollToDate:(t,o)=>{if(s.value){const a=e.useRect(s.value),n=x.value.length,l=(Math.ceil((o.getDate()+m.value)/7)-1)*a.height/n;C(t,a.top+l+t.scrollTop-e.useRect(t).top)}},disabledDays:w}),()=>t.createVNode("div",{class:sa("month"),ref:c},[b(),t.createVNode("div",{ref:s,role:"grid",class:sa("days")},[y(),(h.value?V:x).value.map(N)])])}});const[Ia]=ae("calendar-header");var Pa=t.defineComponent({name:Ia,props:{title:String,subtitle:String,showTitle:Boolean,showSubtitle:Boolean,firstDayOfWeek:Number},emits:["click-subtitle"],setup(e,{slots:o,emit:a}){const n=()=>{if(e.showTitle){const a=e.title||ca("title"),n=o.title?o.title():a;return t.createVNode("div",{class:sa("header-title")},[n])}},l=e=>a("click-subtitle",e),r=()=>{if(e.showSubtitle){const a=o.subtitle?o.subtitle():e.subtitle;return t.createVNode("div",{class:sa("header-subtitle"),onClick:l},[a])}},i=()=>{const{firstDayOfWeek:o}=e,a=ca("weekdays"),n=[...a.slice(o,7),...a.slice(0,o)];return t.createVNode("div",{class:sa("weekdays")},[n.map((e=>t.createVNode("span",{class:sa("weekday")},[e])))])};return()=>t.createVNode("div",{class:sa("header")},[n(),r(),i()])}});const Aa={show:Boolean,type:h("single"),title:String,color:String,round:d,readonly:Boolean,poppable:d,maxRange:v(null),position:h("bottom"),teleport:[String,Object],showMark:d,showTitle:d,formatter:Function,rowHeight:c,confirmText:String,rangePrompt:String,lazyRender:d,showConfirm:d,defaultDate:[Date,Array],allowSameDay:Boolean,showSubtitle:d,closeOnPopstate:d,showRangePrompt:d,confirmDisabledText:String,closeOnClickOverlay:d,safeAreaInsetTop:Boolean,safeAreaInsetBottom:d,minDate:{type:Date,validator:x,default:ga},maxDate:{type:Date,validator:x,default:()=>{const e=ga();return new Date(e.getFullYear(),e.getMonth()+6,e.getDate())}},firstDayOfWeek:{type:c,default:0,validator:e=>e>=0&&e<=6}};const Oa=ve(t.defineComponent({name:ia,props:Aa,emits:["select","confirm","unselect","month-show","over-range","update:show","click-subtitle"],setup(o,{emit:a,slots:n}){const l=(e,t=o.minDate,a=o.maxDate)=>-1===ua(e,t)?t:1===ua(e,a)?a:e,r=(e=o.defaultDate)=>{const{type:t,minDate:a,maxDate:n}=o;if(null===e)return e;const r=ga();if("range"===t){Array.isArray(e)||(e=[]);return[l(e[0]||r,a,ha(n)),l(e[1]||r,fa(a))]}return"multiple"===t?Array.isArray(e)?e.map((e=>l(e))):[l(r)]:(e&&!Array.isArray(e)||(e=r),l(e))};let s;const c=t.ref(),d=t.ref(""),u=t.ref(r()),[p,m]=ba(),v=t.computed((()=>o.firstDayOfWeek?+o.firstDayOfWeek%7:0)),h=t.computed((()=>{const e=[],t=new Date(o.minDate);if(o.lazyRender&&!o.show&&o.poppable)return e;t.setDate(1);do{e.push(new Date(t)),t.setMonth(t.getMonth()+1)}while(1!==da(t,o.maxDate));return e})),f=t.computed((()=>{if(u.value){if("range"===o.type)return!u.value[0]||!u.value[1];if("multiple"===o.type)return!u.value.length}return!u.value})),g=()=>{const e=N(c.value),t=e+s,o=h.value.map(((e,t)=>p.value[t].getHeight()));if(t>o.reduce(((e,t)=>e+t),0)&&e>0)return;let n,l=0;const r=[-1,-1];for(let i=0;i<h.value.length;i++){const s=p.value[i];l<=t&&l+o[i]>=e&&(r[1]=i,n||(n=s,r[0]=i),p.value[i].showed||(p.value[i].showed=!0,a("month-show",{date:s.date,title:s.getTitle()}))),l+=o[i]}h.value.forEach(((e,t)=>{const o=t>=r[0]-1&&t<=r[1]+1;p.value[t].setVisible(o)})),n&&(d.value=n.getTitle())},b=t=>{e.raf((()=>{h.value.some(((e,o)=>0===da(e,t)&&(c.value&&p.value[o].scrollToDate(c.value,t),!0))),g()}))},y=()=>{if(!o.poppable||o.show)if(u.value){const e="single"===o.type?u.value:u.value[0];b(e)}else e.raf(g)},x=()=>{o.poppable&&!o.show||(e.raf((()=>{s=Math.floor(e.useRect(c).height)})),y())},V=(e=r())=>{u.value=e,y()},w=()=>{var e;return a("confirm",null!=(e=u.value)?e:ma(u.value))},C=(e,t)=>{const n=e=>{u.value=e,a("select",ma(e))};if(t&&"range"===o.type){const t=(e=>{const{maxRange:t,rangePrompt:n,showRangePrompt:l}=o;return!(t&&function(e){const t=e[0].getTime();return(e[1].getTime()-t)/864e5+1}(e)>t&&(l&&No(n||ca("rangePrompt",t)),a("over-range"),1))})(e);if(!t)return void n([e[0],va(e[0],+o.maxRange-1)])}n(e),t&&!o.showConfirm&&w()},k=t.computed((()=>p.value.reduce(((e,t)=>{var o,a;return e.push(...null!=(a=null==(o=t.disabledDays)?void 0:o.value)?a:[]),e}),[]))),S=e=>{if(o.readonly||!e.date)return;const{date:t}=e,{type:n}=o;if("range"===n){if(!u.value)return void C([t]);const[e,a]=u.value;if(e&&!a){const a=ua(t,e);if(1===a){const o=((e,t,o)=>{var a;return null==(a=e.find((e=>-1===ua(t,e.date)&&-1===ua(e.date,o))))?void 0:a.date})(k.value,e,t);if(o){const a=ha(o);-1===ua(e,a)?C([e,a]):C([t])}else C([e,t],!0)}else-1===a?C([t]):o.allowSameDay&&C([t,t],!0)}else C([t])}else if("multiple"===n){if(!u.value)return void C([t]);const e=u.value,n=e.findIndex((e=>0===ua(e,t)));if(-1!==n){const[t]=e.splice(n,1);a("unselect",pa(t))}else o.maxRange&&e.length>=o.maxRange?No(o.rangePrompt||ca("rangePrompt",o.maxRange)):C([...e,t])}else C(t,!0)},B=e=>a("update:show",e),T=(e,a)=>{const l=0!==a||!o.showSubtitle;return t.createVNode(Da,t.mergeProps({ref:m(a),date:e,currentDate:u.value,showMonthTitle:l,firstDayOfWeek:v.value},i(o,["type","color","minDate","maxDate","showMark","formatter","rowHeight","lazyRender","showSubtitle","allowSameDay"]),{onClick:S}),i(n,["top-info","bottom-info"]))},D=()=>{if(n.footer)return n.footer();if(o.showConfirm){const e=n["confirm-text"],a=f.value,l=a?o.confirmDisabledText:o.confirmText;return t.createVNode(qe,{round:!0,block:!0,type:"danger",color:o.color,class:sa("confirm"),disabled:a,nativeType:"button",onClick:w},{default:()=>[e?e({disabled:a}):l||ca("confirm")]})}},I=()=>t.createVNode("div",{class:sa()},[t.createVNode(Pa,{title:o.title,subtitle:d.value,showTitle:o.showTitle,showSubtitle:o.showSubtitle,firstDayOfWeek:v.value,"onClick-subtitle":e=>a("click-subtitle",e)},i(n,["title","subtitle"])),t.createVNode("div",{ref:c,class:sa("body"),onScroll:g},[h.value.map(T)]),t.createVNode("div",{class:[sa("footer"),{"van-safe-area-bottom":o.safeAreaInsetBottom}]},[D()])]);return t.watch((()=>o.show),x),t.watch((()=>[o.type,o.minDate,o.maxDate]),(()=>V(r(u.value)))),t.watch((()=>o.defaultDate),((e=null)=>{u.value=e,y()})),xe({reset:V,scrollToDate:b}),e.onMountedOrActivated(x),()=>o.poppable?t.createVNode(ft,{show:o.show,class:sa("popup"),round:o.round,position:o.position,closeable:o.showTitle||o.showSubtitle,teleport:o.teleport,closeOnPopstate:o.closeOnPopstate,safeAreaInsetTop:o.safeAreaInsetTop,closeOnClickOverlay:o.closeOnClickOverlay,"onUpdate:show":B},{default:I}):I()}})),[za,$a]=ae("image"),Ea={src:String,alt:String,fit:String,position:String,round:Boolean,width:c,height:c,radius:c,lazyLoad:Boolean,iconSize:c,showError:d,errorIcon:h("photo-fail"),iconPrefix:String,showLoading:d,loadingIcon:h("photo")};const La=ve(t.defineComponent({name:za,props:Ea,emits:["load","error"],setup(e,{emit:o,slots:a}){const n=t.ref(!1),r=t.ref(!0),i=t.ref(),{$Lazyload:s}=t.getCurrentInstance().proxy,c=t.computed((()=>{const t={width:$(e.width),height:$(e.height)};return f(e.radius)&&(t.overflow="hidden",t.borderRadius=$(e.radius)),t}));t.watch((()=>e.src),(()=>{n.value=!1,r.value=!0}));const d=e=>{r.value=!1,o("load",e)},u=e=>{n.value=!0,r.value=!1,o("error",e)},p=(o,a,n)=>n?n():t.createVNode(Ee,{name:o,size:e.iconSize,class:a,classPrefix:e.iconPrefix},null),m=()=>{if(n.value||!e.src)return;const o={alt:e.alt,class:$a("img"),style:{objectFit:e.fit,objectPosition:e.position}};return e.lazyLoad?t.withDirectives(t.createVNode("img",t.mergeProps({ref:i},o),null),[[t.resolveDirective("lazy"),e.src]]):t.createVNode("img",t.mergeProps({src:e.src,onLoad:d,onError:u},o),null)},v=({el:e})=>{const o=()=>{e===i.value&&r.value&&d()};i.value?o():t.nextTick(o)},h=({el:e})=>{e!==i.value||n.value||u()};return s&&l&&(s.$on("loaded",v),s.$on("error",h),t.onBeforeUnmount((()=>{s.$off("loaded",v),s.$off("error",h)}))),()=>{var o;return t.createVNode("div",{class:$a({round:e.round}),style:c.value},[m(),r.value&&e.showLoading?t.createVNode("div",{class:$a("loading")},[p(e.loadingIcon,$a("loading-icon"),a.loading)]):n.value&&e.showError?t.createVNode("div",{class:$a("error")},[p(e.errorIcon,$a("error-icon"),a.error)]):void 0,null==(o=a.default)?void 0:o.call(a)])}}})),[Ma,Fa]=ae("card"),Ra={tag:String,num:c,desc:String,thumb:String,title:String,price:c,centered:Boolean,lazyLoad:Boolean,currency:h("¥"),thumbLink:String,originPrice:c};const Ha=ve(t.defineComponent({name:Ma,props:Ra,emits:["click-thumb"],setup(e,{slots:o,emit:a}){const n=()=>{if(o.tag||e.tag)return t.createVNode("div",{class:Fa("tag")},[o.tag?o.tag():t.createVNode(Xo,{mark:!0,type:"danger"},{default:()=>[e.tag]})])},l=()=>{if(o.thumb||e.thumb)return t.createVNode("a",{href:e.thumbLink,class:Fa("thumb"),onClick:e=>a("click-thumb",e)},[o.thumb?o.thumb():t.createVNode(La,{src:e.thumb,fit:"cover",width:"100%",height:"100%",lazyLoad:e.lazyLoad},null),n()])},r=()=>{const o=e.price.toString().split(".");return t.createVNode("div",null,[t.createVNode("span",{class:Fa("price-currency")},[e.currency]),t.createVNode("span",{class:Fa("price-integer")},[o[0]]),t.createTextVNode("."),t.createVNode("span",{class:Fa("price-decimal")},[o[1]])])};return()=>{var a,n,i;const s=o.num||f(e.num),c=o.price||f(e.price),d=o["origin-price"]||f(e.originPrice),u=s||c||d||o.bottom,p=c&&t.createVNode("div",{class:Fa("price")},[o.price?o.price():r()]),m=d&&t.createVNode("div",{class:Fa("origin-price")},[o["origin-price"]?o["origin-price"]():`${e.currency} ${e.originPrice}`]),v=s&&t.createVNode("div",{class:Fa("num")},[o.num?o.num():`x${e.num}`]),h=o.footer&&t.createVNode("div",{class:Fa("footer")},[o.footer()]),g=u&&t.createVNode("div",{class:Fa("bottom")},[null==(a=o["price-top"])?void 0:a.call(o),p,m,v,null==(n=o.bottom)?void 0:n.call(o)]);return t.createVNode("div",{class:Fa()},[t.createVNode("div",{class:Fa("header")},[l(),t.createVNode("div",{class:Fa("content",{centered:e.centered})},[t.createVNode("div",null,[o.title?o.title():e.title?t.createVNode("div",{class:[Fa("title"),"van-multi-ellipsis--l2"]},[e.title]):void 0,o.desc?o.desc():e.desc?t.createVNode("div",{class:[Fa("desc"),"van-ellipsis"]},[e.desc]):void 0,null==(i=o.tags)?void 0:i.call(o)]),g])]),h])}}}));const[ja,Wa]=ae("sticky"),Ya={zIndex:c,position:h("top"),container:Object,offsetTop:v(0),offsetBottom:v(0)};const Ua=ve(t.defineComponent({name:ja,props:Ya,emits:["scroll","change"],setup(o,{emit:a,slots:r}){const i=t.ref(),s=e.useScrollParent(i),c=t.reactive({fixed:!1,width:0,height:0,transform:0}),d=t.computed((()=>R("top"===o.position?o.offsetTop:o.offsetBottom))),u=t.computed((()=>{const{fixed:e,height:t,width:o}=c;if(e)return{width:`${o}px`,height:`${t}px`}})),p=t.computed((()=>{if(!c.fixed)return;const e=n(L(o.zIndex),{width:`${c.width}px`,height:`${c.height}px`,[o.position]:`${d.value}px`});return c.transform&&(e.transform=`translate3d(0, ${c.transform}px, 0)`),e})),m=()=>{if(!i.value||A(i))return;const{container:t,position:n}=o,l=e.useRect(i),r=N(window);if(c.width=l.width,c.height=l.height,"top"===n)if(t){const o=e.useRect(t),a=o.bottom-d.value-c.height;c.fixed=d.value>l.top&&o.bottom>0,c.transform=a<0?a:0}else c.fixed=d.value>l.top;else{const{clientHeight:o}=document.documentElement;if(t){const a=e.useRect(t),n=o-a.top-d.value-c.height;c.fixed=o-d.value<l.bottom&&o>a.top,c.transform=n<0?-n:0}else c.fixed=o-d.value<l.bottom}(e=>{a("scroll",{scrollTop:e,isFixed:c.fixed})})(r)};return t.watch((()=>c.fixed),(e=>a("change",e))),e.useEventListener("scroll",m,{target:s}),function(o,a){if(!l||!window.IntersectionObserver)return;const n=new IntersectionObserver((e=>{a(e[0].intersectionRatio>0)}),{root:document.body}),r=()=>{o.value&&n.unobserve(o.value)};t.onDeactivated(r),t.onBeforeUnmount(r),e.onMountedOrActivated((()=>{o.value&&n.observe(o.value)}))}(i,m),()=>{var e;return t.createVNode("div",{ref:i,style:u.value},[t.createVNode("div",{class:Wa({fixed:c.fixed}),style:p.value},[null==(e=r.default)?void 0:e.call(r)])])}}})),[qa,Xa]=ae("tab");var Ga=t.defineComponent({name:qa,props:{id:String,dot:Boolean,type:String,color:String,title:String,badge:c,shrink:Boolean,isActive:Boolean,disabled:Boolean,controls:String,scrollable:Boolean,activeColor:String,inactiveColor:String,showZeroBadge:d},setup(e,{slots:o}){const a=t.computed((()=>{const t={},{type:o,color:a,disabled:n,isActive:l,activeColor:r,inactiveColor:i}=e;a&&"card"===o&&(t.borderColor=a,n||(l?t.backgroundColor=a:t.color=a));const s=l?r:i;return s&&(t.color=s),t})),n=()=>{const a=t.createVNode("span",{class:Xa("text",{ellipsis:!e.scrollable})},[o.title?o.title():e.title]);return e.dot||f(e.badge)&&""!==e.badge?t.createVNode(Be,{dot:e.dot,content:e.badge,showZero:e.showZeroBadge},{default:()=>[a]}):a};return()=>t.createVNode("div",{id:e.id,role:"tab",class:[Xa([e.type,{grow:e.scrollable&&!e.shrink,shrink:e.shrink,active:e.isActive,disabled:e.disabled}])],style:a.value,tabindex:e.disabled?void 0:e.isActive?0:-1,"aria-selected":e.isActive,"aria-disabled":e.disabled||void 0,"aria-controls":e.controls},[n()])}});const[Za,Ka]=ae("swipe"),_a={loop:d,width:c,height:c,vertical:Boolean,autoplay:v(0),duration:v(500),touchable:d,lazyRender:Boolean,initialSwipe:v(0),indicatorColor:String,showIndicators:d,stopPropagation:d},Ja=Symbol(Za);const Qa=ve(t.defineComponent({name:Za,props:_a,emits:["change"],setup(o,{emit:a,slots:n}){const l=t.ref(),r=t.reactive({rect:null,width:0,height:0,offset:0,active:0,swiping:!1}),i=at(),{children:s,linkChildren:c}=e.useChildren(Ja),d=t.computed((()=>s.length)),u=t.computed((()=>r[o.vertical?"height":"width"])),p=t.computed((()=>o.vertical?i.deltaY.value:i.deltaX.value)),m=t.computed((()=>{if(r.rect){return(o.vertical?r.rect.height:r.rect.width)-u.value*d.value}return 0})),v=t.computed((()=>Math.ceil(Math.abs(m.value)/u.value))),h=t.computed((()=>d.value*u.value)),f=t.computed((()=>(r.active+d.value)%d.value)),g=t.computed((()=>{const e=o.vertical?"vertical":"horizontal";return i.direction.value===e})),b=t.computed((()=>{const e={transitionDuration:`${r.swiping?0:o.duration}ms`,transform:`translate${o.vertical?"Y":"X"}(${r.offset}px)`};if(u.value){const t=o.vertical?"height":"width",a=o.vertical?"width":"height";e[t]=`${h.value}px`,e[a]=o[a]?`${o[a]}px`:""}return e})),y=(e,t=0)=>{let a=e*u.value;o.loop||(a=Math.min(a,-m.value));let n=t-a;return o.loop||(n=Y(n,m.value,0)),n},x=({pace:e=0,offset:t=0,emitChange:n})=>{if(d.value<=1)return;const{active:l}=r,i=(e=>{const{active:t}=r;return e?o.loop?Y(t+e,-1,d.value):Y(t+e,0,v.value):t})(e),c=y(i,t);if(o.loop){if(s[0]&&c!==m.value){const e=c<m.value;s[0].setOffset(e?h.value:0)}if(s[d.value-1]&&0!==c){const e=c>0;s[d.value-1].setOffset(e?-h.value:0)}}r.active=i,r.offset=c,n&&i!==l&&a("change",f.value)},V=()=>{r.swiping=!0,r.active<=-1?x({pace:d.value}):r.active>=d.value&&x({pace:-d.value})},w=()=>{V(),i.reset(),e.doubleRaf((()=>{r.swiping=!1,x({pace:1,emitChange:!0})}))};let N;const C=()=>clearTimeout(N),k=()=>{C(),o.autoplay>0&&d.value>1&&(N=setTimeout((()=>{w(),k()}),+o.autoplay))},S=(e=+o.initialSwipe)=>{if(!l.value)return;const a=()=>{var t,a;if(!A(l)){const e={width:l.value.offsetWidth,height:l.value.offsetHeight};r.rect=e,r.width=+(null!=(t=o.width)?t:e.width),r.height=+(null!=(a=o.height)?a:e.height)}d.value&&(e=Math.min(d.value-1,e)),r.active=e,r.swiping=!0,r.offset=y(e),s.forEach((e=>{e.setOffset(0)})),k()};A(l)?t.nextTick().then(a):a()},B=()=>S(r.active);let T;const D=e=>{o.touchable&&(i.start(e),T=Date.now(),C(),V())},I=e=>{o.touchable&&r.swiping&&(i.move(e),g.value&&(P(e,o.stopPropagation),x({offset:p.value})))},$=()=>{if(!o.touchable||!r.swiping)return;const e=Date.now()-T,t=p.value/e;if((Math.abs(t)>.25||Math.abs(p.value)>u.value/2)&&g.value){const e=o.vertical?i.offsetY.value:i.offsetX.value;let t=0;t=o.loop?e>0?p.value>0?-1:1:0:-Math[p.value>0?"ceil":"floor"](p.value/u.value),x({pace:t,emitChange:!0})}else p.value&&x({pace:0});r.swiping=!1,k()},E=(e,a)=>{const n=a===f.value,l=n?{backgroundColor:o.indicatorColor}:void 0;return t.createVNode("i",{style:l,class:Ka("indicator",{active:n})},null)};return xe({prev:()=>{V(),i.reset(),e.doubleRaf((()=>{r.swiping=!1,x({pace:-1,emitChange:!0})}))},next:w,state:r,resize:B,swipeTo:(t,a={})=>{V(),i.reset(),e.doubleRaf((()=>{let n;n=o.loop&&t===d.value?0===r.active?0:t:t%d.value,a.immediate?e.doubleRaf((()=>{r.swiping=!1})):r.swiping=!1,x({pace:n-r.active,emitChange:!0})}))}}),c({size:u,props:o,count:d,activeIndicator:f}),t.watch((()=>o.initialSwipe),(e=>S(+e))),t.watch(d,(()=>S(r.active))),t.watch((()=>o.autoplay),k),t.watch([O,z],B),t.watch(e.usePageVisibility(),(e=>{"visible"===e?k():C()})),t.onMounted(S),t.onActivated((()=>S(r.active))),it((()=>S(r.active))),t.onDeactivated(C),t.onBeforeUnmount(C),()=>{var e;return t.createVNode("div",{ref:l,class:Ka()},[t.createVNode("div",{style:b.value,class:Ka("track",{vertical:o.vertical}),onTouchstart:D,onTouchmove:I,onTouchend:$,onTouchcancel:$},[null==(e=n.default)?void 0:e.call(n)]),n.indicator?n.indicator({active:f.value,total:d.value}):o.showIndicators&&d.value>1?t.createVNode("div",{class:Ka("indicators",{vertical:o.vertical})},[Array(d.value).fill("").map(E)]):void 0])}}})),[en,tn]=ae("tabs");var on=t.defineComponent({name:en,props:{count:u(Number),inited:Boolean,animated:Boolean,duration:u(c),swipeable:Boolean,lazyRender:Boolean,currentIndex:u(Number)},emits:["change"],setup(e,{emit:o,slots:a}){const n=t.ref(),l=e=>o("change",e),r=()=>{var o;const r=null==(o=a.default)?void 0:o.call(a);return e.animated||e.swipeable?t.createVNode(Qa,{ref:n,loop:!1,class:tn("track"),duration:1e3*+e.duration,touchable:e.swipeable,lazyRender:e.lazyRender,showIndicators:!1,onChange:l},{default:()=>[r]}):r},i=t=>{const o=n.value;o&&o.state.active!==t&&o.swipeTo(t,{immediate:!e.inited})};return t.watch((()=>e.currentIndex),i),t.onMounted((()=>{i(e.currentIndex)})),()=>t.createVNode("div",{class:tn("content",{animated:e.animated||e.swipeable})},[r()])}});const[an,nn]=ae("tabs"),ln={type:h("line"),color:String,border:Boolean,sticky:Boolean,shrink:Boolean,active:v(0),duration:v(.3),animated:Boolean,ellipsis:d,swipeable:Boolean,scrollspy:Boolean,offsetTop:v(0),background:String,lazyRender:d,lineWidth:c,lineHeight:c,beforeChange:Function,swipeThreshold:v(5),titleActiveColor:String,titleInactiveColor:String},rn=Symbol(an);var sn=t.defineComponent({name:an,props:ln,emits:["click","change","scroll","disabled","rendered","click-tab","update:active"],setup(o,{emit:a,slots:n}){let l,r,s;const c=t.ref(),d=t.ref(),u=t.ref(),p=to(),m=e.useScrollParent(c),[v,h]=ba(),{children:g,linkChildren:b}=e.useChildren(rn),y=t.reactive({inited:!1,position:"",lineStyle:{},currentIndex:-1}),x=t.computed((()=>g.length>o.swipeThreshold||!o.ellipsis||o.shrink)),V=t.computed((()=>({borderColor:o.color,background:o.background}))),w=(e,t)=>{var o;return null!=(o=e.name)?o:t},k=t.computed((()=>{const e=g[y.currentIndex];if(e)return w(e,y.currentIndex)})),T=t.computed((()=>R(o.offsetTop))),D=t.computed((()=>o.sticky?T.value+l:0)),I=t=>{const a=d.value,n=v.value;if(!(x.value&&a&&n&&n[y.currentIndex]))return;const l=n[y.currentIndex].$el;!function(t,o,a){let n=0;const l=t.scrollLeft,r=0===a?1:Math.round(1e3*a/16);!function a(){t.scrollLeft+=(o-l)/r,++n<r&&e.raf(a)}()}(a,l.offsetLeft-(a.offsetWidth-l.offsetWidth)/2,t?0:+o.duration)},P=()=>{const e=y.inited;t.nextTick((()=>{const t=v.value;if(!t||!t[y.currentIndex]||"line"!==o.type||A(c.value))return;const a=t[y.currentIndex].$el,{lineWidth:n,lineHeight:l}=o,r=a.offsetLeft+a.offsetWidth/2,i={width:$(n),backgroundColor:o.color,transform:`translateX(${r}px) translateX(-50%)`};if(e&&(i.transitionDuration=`${o.duration}s`),f(l)){const e=$(l);i.height=e,i.borderRadius=e}y.lineStyle=i}))},z=e=>{const t=(e=>{const t=e<y.currentIndex?-1:1;for(;e>=0&&e<g.length;){if(!g[e].disabled)return e;e+=t}})(e);if(!f(t))return;const n=g[t],l=w(n,t),r=null!==y.currentIndex;y.currentIndex=t,l!==o.active&&(a("update:active",l),r&&a("change",l,n.title))},E=e=>{const t=g.find(((t,o)=>w(t,o)===e)),o=t?g.indexOf(t):0;z(o)},L=(t=!1)=>{if(o.scrollspy){const a=g[y.currentIndex].$el;if(a&&m.value){const n=B(a,m.value)-D.value;r=!0,function(t,o,a,n){let l=N(t);const r=l<o,i=0===a?1:Math.round(1e3*a/16),s=(o-l)/i;!function a(){l+=s,(r&&l>o||!r&&l<o)&&(l=o),C(t,l),r&&l<o||!r&&l>o?e.raf(a):n&&e.raf(n)}()}(m.value,n,t?0:+o.duration,(()=>{r=!1}))}}},M=e=>{s=e.isFixed,a("scroll",e)},F=()=>g.map(((e,n)=>t.createVNode(Ga,t.mergeProps({key:e.id,id:`${p}-${n}`,ref:h(n),type:o.type,color:o.color,style:e.titleStyle,class:e.titleClass,shrink:o.shrink,isActive:n===y.currentIndex,controls:e.id,scrollable:x.value,activeColor:o.titleActiveColor,inactiveColor:o.titleInactiveColor,onClick:t=>((e,t,n)=>{const{title:l,disabled:r}=g[t],i=w(g[t],t);r?a("disabled",i,l):(me(o.beforeChange,{args:[i],done:()=>{z(t),L()}}),a("click",i,l),we(e)),a("click-tab",{name:i,title:l,event:n,disabled:r})})(e,n,t)},i(e,["dot","badge","title","disabled","showZeroBadge"])),{title:e.$slots.title}))),H=()=>{if("line"===o.type&&g.length)return t.createVNode("div",{class:nn("line"),style:y.lineStyle},null)},j=()=>{var e,a;const{type:l,border:r}=o;return t.createVNode("div",{ref:u,class:[nn("wrap"),{[ce]:"line"===l&&r}]},[t.createVNode("div",{ref:d,role:"tablist",class:nn("nav",[l,{shrink:o.shrink,complete:x.value}]),style:V.value,"aria-orientation":"horizontal"},[null==(e=n["nav-left"])?void 0:e.call(n),F(),H(),null==(a=n["nav-right"])?void 0:a.call(n)])])};t.watch([()=>o.color,O],P),t.watch((()=>o.active),(e=>{e!==k.value&&E(e)})),t.watch((()=>g.length),(()=>{y.inited&&(E(o.active),P(),t.nextTick((()=>{I(!0)})))})),t.watch((()=>y.currentIndex),(()=>{I(),P(),s&&!o.scrollspy&&S(Math.ceil(B(c.value)-T.value))}));return xe({resize:P,scrollTo:e=>{t.nextTick((()=>{E(e),L(!0)}))}}),t.onActivated(P),it(P),e.onMountedOrActivated((()=>{E(o.active),t.nextTick((()=>{y.inited=!0,u.value&&(l=e.useRect(u.value).height),I(!0)}))})),e.useEventListener("scroll",(()=>{if(o.scrollspy&&!r){const t=(()=>{for(let t=0;t<g.length;t++){const{top:o}=e.useRect(g[t].$el);if(o>D.value)return 0===t?0:t-1}return g.length-1})();z(t)}}),{target:m}),b({id:p,props:o,setLine:P,onRendered:(e,t)=>a("rendered",e,t),currentName:k,scrollIntoView:I}),()=>{var e;return t.createVNode("div",{ref:c,class:nn([o.type])},[o.sticky?t.createVNode(Ua,{container:c.value,offsetTop:T.value,onScroll:M},{default:()=>{var e;return[j(),null==(e=n["nav-bottom"])?void 0:e.call(n)]}}):[j(),null==(e=n["nav-bottom"])?void 0:e.call(n)],t.createVNode(on,{count:g.length,inited:y.inited,animated:o.animated,duration:o.duration,swipeable:o.swipeable,lazyRender:o.lazyRender,currentIndex:y.currentIndex,onChange:z},{default:()=>{var e;return[null==(e=n.default)?void 0:e.call(n)]}})])}}});const cn=Symbol(),[dn,un]=ae("swipe-item");const pn=ve(t.defineComponent({name:dn,setup(o,{slots:a}){let n;const l=t.reactive({offset:0,inited:!1,mounted:!1}),{parent:r,index:i}=e.useParent(Ja);if(!r)return;const s=t.computed((()=>{const e={},{vertical:t}=r.props;return r.size.value&&(e[t?"height":"width"]=`${r.size.value}px`),l.offset&&(e.transform=`translate${t?"Y":"X"}(${l.offset}px)`),e})),c=t.computed((()=>{const{loop:e,lazyRender:t}=r.props;if(!t||n)return!0;if(!l.mounted)return!1;const o=r.activeIndicator.value,a=r.count.value-1,s=0===o&&e?a:o-1,c=o===a&&e?0:o+1;return n=i.value===o||i.value===s||i.value===c,n}));return t.onMounted((()=>{t.nextTick((()=>{l.mounted=!0}))})),xe({setOffset:e=>{l.offset=e}}),()=>{var e;return t.createVNode("div",{class:un(),style:s.value},[c.value?null==(e=a.default)?void 0:e.call(a):null])}}})),[mn,vn]=ae("tab"),hn=n({},Ve,{dot:Boolean,name:c,badge:c,title:String,disabled:Boolean,titleClass:null,titleStyle:[String,Object],showZeroBadge:d});const fn=ve(t.defineComponent({name:mn,props:hn,setup(o,{slots:a}){const n=to(),l=t.ref(!1),{parent:r,index:i}=e.useParent(rn);if(!r)return;const s=()=>{var e;return null!=(e=o.name)?e:i.value},c=t.computed((()=>{const e=s()===r.currentName.value;return e&&!l.value&&(l.value=!0,r.props.lazyRender&&t.nextTick((()=>{r.onRendered(s(),o.title)}))),e}));return t.watch((()=>o.title),(()=>{r.setLine(),r.scrollIntoView()})),t.provide(cn,c),()=>{var e;const o=`${r.id}-${i.value}`,{animated:s,swipeable:d,scrollspy:u,lazyRender:p}=r.props;if(!a.default&&!s)return;const m=u||c.value;if(s||d)return t.createVNode(pn,{id:n,role:"tabpanel",class:vn("panel-wrapper",{inactive:!c.value}),tabindex:c.value?0:-1,"aria-hidden":!c.value,"aria-labelledby":o},{default:()=>{var e;return[t.createVNode("div",{class:vn("panel")},[null==(e=a.default)?void 0:e.call(a)])]}});const v=l.value||u||!p?null==(e=a.default)?void 0:e.call(a):null;return xe({id:n}),t.withDirectives(t.createVNode("div",{id:n,role:"tabpanel",class:vn("panel"),tabindex:m?0:-1,"aria-labelledby":o},[v]),[[t.vShow,m]])}}})),gn=ve(sn),[bn,yn,xn]=ae("cascader"),Vn={title:String,options:p(),closeable:d,swipeable:d,closeIcon:h("cross"),showHeader:d,modelValue:c,fieldNames:Object,placeholder:String,activeColor:String};const wn=ve(t.defineComponent({name:bn,props:Vn,emits:["close","change","finish","click-tab","update:modelValue"],setup(e,{slots:o,emit:a}){const l=t.ref([]),r=t.ref(0),{text:i,value:s,children:c}=n({text:"text",value:"value",children:"children"},e.fieldNames),d=(e,t)=>{for(const o of e){if(o[s]===t)return[o];if(o[c]){const e=d(o[c],t);if(e)return[o,...e]}}},u=()=>{const{options:o,modelValue:a}=e;if(void 0!==a){const e=d(o,a);if(e){let a=o;return l.value=e.map((e=>{const t={options:a,selected:e},o=a.find((t=>t[s]===e[s]));return o&&(a=o[c]),t})),a&&l.value.push({options:a,selected:null}),void t.nextTick((()=>{r.value=l.value.length-1}))}}l.value=[{options:o,selected:null}]},p=()=>a("close"),m=({name:e,title:t})=>a("click-tab",e,t),v=(n,d,u)=>{const{disabled:p}=n,m=!(!d||n[s]!==d[s]),v=n.color||(m?e.activeColor:void 0),h=o.option?o.option({option:n,selected:m}):t.createVNode("span",null,[n[i]]);return t.createVNode("li",{role:"menuitemradio",class:[yn("option",{selected:m,disabled:p}),n.className],style:{color:v},tabindex:p?void 0:m?0:-1,"aria-checked":m,"aria-disabled":p||void 0,onClick:()=>((e,o)=>{if(e.disabled)return;if(l.value[o].selected=e,l.value.length>o+1&&(l.value=l.value.slice(0,o+1)),e[c]){const a={options:e[c],selected:null};l.value[o+1]?l.value[o+1]=a:l.value.push(a),t.nextTick((()=>{r.value++}))}const n=l.value.map((e=>e.selected)).filter(Boolean);a("update:modelValue",e[s]);const i={value:e[s],tabIndex:o,selectedOptions:n};a("change",i),e[c]||a("finish",i)})(n,u)},[h,m?t.createVNode(Ee,{name:"success",class:yn("selected-icon")},null):null])},h=(e,o,a)=>t.createVNode("ul",{role:"menu",class:yn("options")},[e.map((e=>v(e,o,a)))]),f=(a,n)=>{const{options:l,selected:r}=a,s=e.placeholder||xn("select"),c=r?r[i]:s;return t.createVNode(fn,{title:c,titleClass:yn("tab",{unselected:!r})},{default:()=>{var e,t;return[null==(e=o["options-top"])?void 0:e.call(o,{tabIndex:n}),h(l,r,n),null==(t=o["options-bottom"])?void 0:t.call(o,{tabIndex:n})]}})};return u(),t.watch((()=>e.options),u,{deep:!0}),t.watch((()=>e.modelValue),(e=>{if(void 0!==e){if(l.value.map((e=>{var t;return null==(t=e.selected)?void 0:t[s]})).includes(e))return}u()})),()=>t.createVNode("div",{class:yn()},[e.showHeader?t.createVNode("div",{class:yn("header")},[t.createVNode("h2",{class:yn("title")},[o.title?o.title():e.title]),e.closeable?t.createVNode(Ee,{name:e.closeIcon,class:[yn("close-icon"),ue],onClick:p},null):null]):null,t.createVNode(gn,{active:r.value,"onUpdate:active":e=>r.value=e,shrink:!0,animated:!0,class:yn("tabs"),color:e.activeColor,swipeable:e.swipeable,"onClick-tab":m},{default:()=>[l.value.map(f)]})])}})),[Nn,Cn]=ae("cell-group"),kn={title:String,inset:Boolean,border:d};const Sn=ve(t.defineComponent({name:Nn,inheritAttrs:!1,props:kn,setup(e,{slots:o,attrs:a}){const n=()=>{var n;return t.createVNode("div",t.mergeProps({class:[Cn({inset:e.inset}),{[ce]:e.border&&!e.inset}]},a),[null==(n=o.default)?void 0:n.call(o)])};return()=>e.title||o.title?t.createVNode(t.Fragment,null,[t.createVNode("div",{class:Cn("title",{inset:e.inset})},[o.title?o.title():e.title]),n()]):n()}})),[Bn,Tn]=ae("checkbox-group"),Dn={max:c,disabled:Boolean,iconSize:c,direction:String,modelValue:p(),checkedColor:String},In=Symbol(Bn);var Pn=t.defineComponent({name:Bn,props:Dn,emits:["change","update:modelValue"],setup(o,{emit:a,slots:n}){const{children:l,linkChildren:r}=e.useChildren(In),i=e=>a("update:modelValue",e);return t.watch((()=>o.modelValue),(e=>a("change",e))),xe({toggleAll:(e={})=>{"boolean"==typeof e&&(e={checked:e});const{checked:t,skipDisabled:o}=e,a=l.filter((e=>!!e.props.bindGroup&&(e.props.disabled&&o?e.checked.value:null!=t?t:!e.checked.value))).map((e=>e.name));i(a)}}),e.useCustomFieldValue((()=>o.modelValue)),r({props:o,updateValue:i}),()=>{var e;return t.createVNode("div",{class:Tn([o.direction])},[null==(e=n.default)?void 0:e.call(n)])}}});const[An,On]=ae("checkbox"),zn=n({},Go,{bindGroup:d});const $n=ve(t.defineComponent({name:An,props:zn,emits:["change","update:modelValue"],setup(o,{emit:a,slots:n}){const{parent:l}=e.useParent(In),r=t.computed((()=>l&&o.bindGroup?-1!==l.props.modelValue.indexOf(o.name):!!o.modelValue)),s=(e=!r.value)=>{l&&o.bindGroup?(e=>{const{name:t}=o,{max:a,modelValue:n}=l.props,r=n.slice();if(e)a&&r.length>=a||r.includes(t)||(r.push(t),o.bindGroup&&l.updateValue(r));else{const e=r.indexOf(t);-1!==e&&(r.splice(e,1),o.bindGroup&&l.updateValue(r))}})(e):a("update:modelValue",e)};return t.watch((()=>o.modelValue),(e=>a("change",e))),xe({toggle:s,props:o,checked:r}),e.useCustomFieldValue((()=>o.modelValue)),()=>t.createVNode(Zo,t.mergeProps({bem:On,role:"checkbox",parent:l,checked:r.value,onToggle:s},o),i(n,["default","icon"]))}})),En=ve(Pn),[Ln,Mn]=ae("circle");let Fn=0;const Rn=e=>Math.min(Math.max(+e,0),100);const Hn={text:String,size:c,fill:h("none"),rate:v(100),speed:v(0),color:[String,Object],clockwise:d,layerColor:String,currentRate:m(0),strokeWidth:v(40),strokeLinecap:String,startPosition:h("top")};const jn=ve(t.defineComponent({name:Ln,props:Hn,emits:["update:currentRate"],setup(o,{emit:a,slots:n}){const l="van-circle-"+Fn++,r=t.computed((()=>+o.strokeWidth+1e3)),i=t.computed((()=>function(e,t){const o=e?1:0;return`M ${t/2} ${t/2} m 0, -500 a 500, 500 0 1, ${o} 0, 1000 a 500, 500 0 1, ${o} 0, -1000`}(o.clockwise,r.value))),s=t.computed((()=>{const e={top:0,right:90,bottom:180,left:270}[o.startPosition];if(e)return{transform:`rotate(${e}deg)`}}));t.watch((()=>o.rate),(t=>{let n;const l=Date.now(),r=o.currentRate,i=Rn(t),s=Math.abs(1e3*(r-i)/+o.speed),c=()=>{const t=Date.now(),o=Math.min((t-l)/s,1)*(i-r)+r;a("update:currentRate",Rn(parseFloat(o.toFixed(1)))),(i>r?o<i:o>i)&&(n=e.raf(c))};o.speed?(n&&e.cancelRaf(n),n=e.raf(c)):a("update:currentRate",i)}),{immediate:!0});const c=()=>{const{strokeWidth:e,currentRate:a,strokeLinecap:n}=o,r=3140*a/100,s=b(o.color)?`url(#${l})`:o.color,c={stroke:s,strokeWidth:+e+1+"px",strokeLinecap:n,strokeDasharray:`${r}px 3140px`};return t.createVNode("path",{d:i.value,style:c,class:Mn("hover"),stroke:s},null)},d=()=>{const e={fill:o.fill,stroke:o.layerColor,strokeWidth:`${o.strokeWidth}px`};return t.createVNode("path",{class:Mn("layer"),style:e,d:i.value},null)},u=()=>{const{color:e}=o;if(!b(e))return;const a=Object.keys(e).sort(((e,t)=>parseFloat(e)-parseFloat(t))).map(((o,a)=>t.createVNode("stop",{key:a,offset:o,"stop-color":e[o]},null)));return t.createVNode("defs",null,[t.createVNode("linearGradient",{id:l,x1:"100%",y1:"0%",x2:"0%",y2:"0%"},[a])])};return()=>t.createVNode("div",{class:Mn(),style:E(o.size)},[t.createVNode("svg",{viewBox:`0 0 ${r.value} ${r.value}`,style:s.value},[u(),d(),c()]),n.default?n.default():o.text?t.createVNode("div",{class:Mn("text")},[o.text]):void 0])}})),[Wn,Yn]=ae("row"),Un=Symbol(Wn),qn={tag:h("div"),wrap:d,align:String,gutter:v(0),justify:String};var Xn=t.defineComponent({name:Wn,props:qn,setup(o,{slots:a}){const{children:n,linkChildren:l}=e.useChildren(Un),r=t.computed((()=>{const e=[[]];let t=0;return n.forEach(((o,a)=>{t+=Number(o.span),t>24?(e.push([a]),t-=24):e[e.length-1].push(a)})),e}));return l({spaces:t.computed((()=>{const e=Number(o.gutter),t=[];return e?(r.value.forEach((o=>{const a=e*(o.length-1)/o.length;o.forEach(((o,n)=>{if(0===n)t.push({right:a});else{const n=e-t[o-1].right,l=a-n;t.push({left:n,right:l})}}))})),t):t}))}),()=>{const{tag:e,wrap:n,align:l,justify:r}=o;return t.createVNode(e,{class:Yn({[`align-${l}`]:l,[`justify-${r}`]:r,nowrap:!n})},{default:()=>{var e;return[null==(e=a.default)?void 0:e.call(a)]}})}}});const[Gn,Zn]=ae("col"),Kn={tag:h("div"),span:v(0),offset:c};const _n=ve(t.defineComponent({name:Gn,props:Kn,setup(o,{slots:a}){const{parent:n,index:l}=e.useParent(Un),r=t.computed((()=>{if(!n)return;const{spaces:e}=n;if(e&&e.value&&e.value[l.value]){const{left:t,right:o}=e.value[l.value];return{paddingLeft:t?`${t}px`:null,paddingRight:o?`${o}px`:null}}}));return()=>{const{tag:e,span:n,offset:l}=o;return t.createVNode(e,{style:r.value,class:Zn({[n]:n,[`offset-${l}`]:l})},{default:()=>{var e;return[null==(e=a.default)?void 0:e.call(a)]}})}}})),[Jn,Qn]=ae("collapse"),el=Symbol(Jn),tl={border:d,accordion:Boolean,modelValue:{type:[String,Number,Array],default:""}};const ol=ve(t.defineComponent({name:Jn,props:tl,emits:["change","update:modelValue"],setup(o,{emit:a,slots:n}){const{linkChildren:l}=e.useChildren(el),r=e=>{a("change",e),a("update:modelValue",e)};return l({toggle:(e,t)=>{const{accordion:a,modelValue:n}=o;r(a?e===n?"":e:t?n.concat(e):n.filter((t=>t!==e)))},isExpanded:e=>{const{accordion:t,modelValue:a}=o;return t?a===e:a.includes(e)}}),()=>{var e;return t.createVNode("div",{class:[Qn(),{[ce]:o.border}]},[null==(e=n.default)?void 0:e.call(n)])}}})),[al,nl]=ae("collapse-item"),ll=["icon","title","value","label","right-icon"],rl=n({},jt,{name:c,isLink:d,disabled:Boolean,readonly:Boolean,lazyRender:d});const il=ve(t.defineComponent({name:al,props:rl,setup(o,{slots:a}){const n=t.ref(),l=t.ref(),{parent:r,index:s}=e.useParent(el);if(!r)return;const c=t.computed((()=>{var e;return null!=(e=o.name)?e:s.value})),d=t.computed((()=>r.isExpanded(c.value))),u=t.ref(d.value),p=lt((()=>u.value||!o.lazyRender)),m=()=>{d.value?n.value&&(n.value.style.height=""):u.value=!1};t.watch(d,((o,a)=>{if(null===a)return;o&&(u.value=!0);(o?t.nextTick:e.raf)((()=>{if(!l.value||!n.value)return;const{offsetHeight:t}=l.value;if(t){const a=`${t}px`;n.value.style.height=o?"0":a,e.doubleRaf((()=>{n.value&&(n.value.style.height=o?a:"0")}))}else m()}))}));const v=(e=!d.value)=>{r.toggle(c.value,e)},h=()=>{o.disabled||o.readonly||v()},f=()=>{const{border:e,disabled:n,readonly:l}=o,r=i(o,Object.keys(jt));return l&&(r.isLink=!1),(n||l)&&(r.clickable=!1),t.createVNode(Yt,t.mergeProps({role:"button",class:nl("title",{disabled:n,expanded:d.value,borderless:!e}),"aria-expanded":String(d.value),onClick:h},r),i(a,ll))},g=p((()=>{var e;return t.withDirectives(t.createVNode("div",{ref:n,class:nl("wrapper"),onTransitionend:m},[t.createVNode("div",{ref:l,class:nl("content")},[null==(e=a.default)?void 0:e.call(a)])]),[[t.vShow,u.value]])}));return xe({toggle:v}),()=>t.createVNode("div",{class:[nl({border:s.value&&o.border})]},[f(),g()])}})),sl=ve(Ae),[cl,dl,ul]=ae("contact-card"),pl={tel:String,name:String,type:h("add"),addText:String,editable:d};const ml=ve(t.defineComponent({name:cl,props:pl,emits:["click"],setup(e,{emit:o}){const a=t=>{e.editable&&o("click",t)},n=()=>"add"===e.type?e.addText||ul("addContact"):[t.createVNode("div",null,[`${ul("name")}：${e.name}`]),t.createVNode("div",null,[`${ul("tel")}：${e.tel}`])];return()=>t.createVNode(Yt,{center:!0,icon:"edit"===e.type?"contact":"add-square",class:dl([e.type]),border:!1,isLink:e.editable,valueClass:dl("value"),onClick:a},{value:n})}})),[vl,hl,fl]=ae("contact-edit"),gl={tel:"",name:""},bl={isEdit:Boolean,isSaving:Boolean,isDeleting:Boolean,showSetDefault:Boolean,setDefaultLabel:String,contactInfo:{type:Object,default:()=>n({},gl)},telValidator:{type:Function,default:V}};const yl=ve(t.defineComponent({name:vl,props:bl,emits:["save","delete","change-default"],setup(e,{emit:o}){const a=t.reactive(n({},gl,e.contactInfo)),l=()=>{e.isSaving||o("save",a)},r=()=>o("delete",a),i=()=>t.createVNode(To,{modelValue:a.isDefault,"onUpdate:modelValue":e=>a.isDefault=e,size:24,onChange:e=>o("change-default",e)},null),s=()=>{if(e.showSetDefault)return t.createVNode(Yt,{title:e.setDefaultLabel,class:hl("switch-cell"),border:!1},{"right-icon":i})};return t.watch((()=>e.contactInfo),(e=>n(a,gl,e))),()=>t.createVNode(Gt,{class:hl(),onSubmit:l},{default:()=>[t.createVNode("div",{class:hl("fields")},[t.createVNode(ro,{modelValue:a.name,"onUpdate:modelValue":e=>a.name=e,clearable:!0,label:fl("name"),rules:[{required:!0,message:fl("nameEmpty")}],maxlength:"30",placeholder:fl("name")},null),t.createVNode(ro,{modelValue:a.tel,"onUpdate:modelValue":e=>a.tel=e,clearable:!0,type:"tel",label:fl("tel"),rules:[{validator:e.telValidator,message:fl("telInvalid")}],placeholder:fl("tel")},null)]),s(),t.createVNode("div",{class:hl("buttons")},[t.createVNode(qe,{block:!0,round:!0,type:"danger",text:fl("save"),class:hl("button"),loading:e.isSaving,nativeType:"submit"},null),e.isEdit&&t.createVNode(qe,{block:!0,round:!0,text:fl("delete"),class:hl("button"),loading:e.isDeleting,onClick:r},null)])]})}})),[xl,Vl,wl]=ae("contact-list"),Nl={list:Array,addText:String,modelValue:null,defaultTagText:String};const Cl=ve(t.defineComponent({name:xl,props:Nl,emits:["add","edit","select","update:modelValue"],setup(e,{emit:o}){const a=(a,n)=>t.createVNode(Yt,{key:a.id,isLink:!0,center:!0,class:Vl("item"),valueClass:Vl("item-value"),onClick:()=>{o("update:modelValue",a.id),o("select",a,n)}},{icon:()=>t.createVNode(Ee,{name:"edit",class:Vl("edit"),onClick:e=>{e.stopPropagation(),o("edit",a,n)}},null),value:()=>{const o=[`${a.name}，${a.tel}`];return a.isDefault&&e.defaultTagText&&o.push(t.createVNode(Xo,{type:"danger",round:!0,class:Vl("item-tag")},{default:()=>[e.defaultTagText]})),o},"right-icon":()=>t.createVNode(Jo,{class:Vl("radio"),name:a.id,iconSize:16},null)});return()=>t.createVNode("div",{class:Vl()},[t.createVNode(Wo,{modelValue:e.modelValue,class:Vl("group")},{default:()=>[e.list&&e.list.map(a)]}),t.createVNode("div",{class:[Vl("bottom"),"van-safe-area-bottom"]},[t.createVNode(qe,{round:!0,block:!0,type:"danger",class:Vl("add"),text:e.addText||wl("addContact"),onClick:()=>o("add")},null)])])}}));const[kl,Sl]=ae("count-down"),Bl={time:v(0),format:h("HH:mm:ss"),autoStart:d,millisecond:Boolean};const Tl=ve(t.defineComponent({name:kl,props:Bl,emits:["change","finish"],setup(o,{emit:a,slots:n}){const{start:l,pause:r,reset:i,current:s}=e.useCountDown({time:+o.time,millisecond:o.millisecond,onChange:e=>a("change",e),onFinish:()=>a("finish")}),c=t.computed((()=>function(e,t){const{days:o}=t;let{hours:a,minutes:n,seconds:l,milliseconds:r}=t;if(e.includes("DD")?e=e.replace("DD",W(o)):a+=24*o,e.includes("HH")?e=e.replace("HH",W(a)):n+=60*a,e.includes("mm")?e=e.replace("mm",W(n)):l+=60*n,e.includes("ss")?e=e.replace("ss",W(l)):r+=1e3*l,e.includes("S")){const t=W(r,3);e=e.includes("SSS")?e.replace("SSS",t):e.includes("SS")?e.replace("SS",t.slice(0,2)):e.replace("S",t.charAt(0))}return e}(o.format,s.value))),d=()=>{i(+o.time),o.autoStart&&l()};return t.watch((()=>o.time),d,{immediate:!0}),xe({start:l,pause:r,reset:d}),()=>t.createVNode("div",{role:"timer",class:Sl()},[n.default?n.default(s.value):c.value])}}));function Dl(e){const t=new Date(1e3*e);return`${t.getFullYear()}.${W(t.getMonth()+1)}.${W(t.getDate())}`}const Il=e=>(e/100).toFixed(e%100==0?0:e%10==0?1:2),[Pl,Al,Ol]=ae("coupon");const zl=ve(t.defineComponent({name:Pl,props:{chosen:Boolean,coupon:u(Object),disabled:Boolean,currency:h("¥")},setup(e){const o=t.computed((()=>{const{startAt:t,endAt:o}=e.coupon;return`${Dl(t)} - ${Dl(o)}`})),a=t.computed((()=>{const{coupon:o,currency:a}=e;if(o.valueDesc)return[o.valueDesc,t.createVNode("span",null,[o.unitDesc||""])];if(o.denominations){const e=Il(o.denominations);return[t.createVNode("span",null,[a]),` ${e}`]}return o.discount?Ol("discount",((n=o.discount)/10).toFixed(n%10==0?0:1)):"";var n})),n=t.computed((()=>{const t=Il(e.coupon.originCondition||0);return"0"===t?Ol("unlimited"):Ol("condition",t)}));return()=>{const{chosen:l,coupon:r,disabled:i}=e,s=i&&r.reason||r.description;return t.createVNode("div",{class:Al({disabled:i})},[t.createVNode("div",{class:Al("content")},[t.createVNode("div",{class:Al("head")},[t.createVNode("h2",{class:Al("amount")},[a.value]),t.createVNode("p",{class:Al("condition")},[r.condition||n.value])]),t.createVNode("div",{class:Al("body")},[t.createVNode("p",{class:Al("name")},[r.name]),t.createVNode("p",{class:Al("valid")},[o.value]),!i&&t.createVNode($n,{class:Al("corner"),modelValue:l},null)])]),s&&t.createVNode("p",{class:Al("description")},[s])])}}})),[$l,El,Ll]=ae("coupon-cell"),Ml={title:String,border:d,editable:d,coupons:p(),currency:h("¥"),chosenCoupon:v(-1)};function Fl({coupons:e,chosenCoupon:t,currency:o}){const a=e[+t];if(a){let e=0;return f(a.value)?({value:e}=a):f(a.denominations)&&(e=a.denominations),`-${o} ${(e/100).toFixed(2)}`}return 0===e.length?Ll("noCoupon"):Ll("count",e.length)}const Rl=ve(t.defineComponent({name:$l,props:Ml,setup:e=>()=>{const o=e.coupons[+e.chosenCoupon];return t.createVNode(Yt,{class:El(),value:Fl(e),title:e.title||Ll("title"),border:e.border,isLink:e.editable,valueClass:El("value",{selected:o})},null)}})),Hl=e=>`van-empty-${e}`,jl=e=>`url(#${Hl(e)})`,Wl=(e,o,a)=>t.createVNode("stop",{"stop-color":e,offset:`${o}%`,"stop-opacity":a},null),Yl=(e,t)=>[Wl(e,0),Wl(t,100)],Ul=e=>[t.createVNode("defs",null,[t.createVNode("radialGradient",{id:Hl(e),cx:"50%",cy:"54%",fx:"50%",fy:"54%",r:"297%",gradientTransform:"matrix(-.16 0 0 -.33 .58 .72)"},[Wl("#EBEDF0",0),Wl("#F2F3F5",100,.3)])]),t.createVNode("ellipse",{fill:jl(e),opacity:".8",cx:"80",cy:"140",rx:"46",ry:"8"},null)],ql=()=>[t.createVNode("defs",null,[t.createVNode("linearGradient",{id:Hl("a"),x1:"64%",y1:"100%",x2:"64%"},[Wl("#FFF",0,.5),Wl("#F2F3F5",100)])]),t.createVNode("g",{opacity:".8"},[t.createVNode("path",{d:"M36 131V53H16v20H2v58h34z",fill:jl("a")},null),t.createVNode("path",{d:"M123 15h22v14h9v77h-31V15z",fill:jl("a")},null)])],Xl=()=>[t.createVNode("defs",null,[t.createVNode("linearGradient",{id:Hl("b"),x1:"64%",y1:"97%",x2:"64%",y2:"0%"},[Wl("#F2F3F5",0,.3),Wl("#F2F3F5",100)])]),t.createVNode("g",{opacity:".8"},[t.createVNode("path",{d:"M87 6c3 0 7 3 8 6a8 8 0 1 1-1 16H80a7 7 0 0 1-8-6c0-4 3-7 6-7 0-5 4-9 9-9Z",fill:jl("b")},null),t.createVNode("path",{d:"M19 23c2 0 3 1 4 3 2 0 4 2 4 4a4 4 0 0 1-4 3v1h-7v-1l-1 1c-2 0-3-2-3-4 0-1 1-3 3-3 0-2 2-4 4-4Z",fill:jl("b")},null)])],[Gl,Zl]=ae("empty"),Kl={error:()=>t.createVNode("svg",{viewBox:"0 0 160 160"},[t.createVNode("defs",null,[t.createVNode("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:Hl(8)},[Yl("#EAEDF1","#DCDEE0")])]),ql(),Xl(),Ul("c"),t.createVNode("path",{d:"m59 60 21 21 21-21h3l9 9v3L92 93l21 21v3l-9 9h-3l-21-21-21 21h-3l-9-9v-3l21-21-21-21v-3l9-9h3Z",fill:jl(8)},null)]),search:()=>t.createVNode("svg",{viewBox:"0 0 160 160"},[t.createVNode("defs",null,[t.createVNode("linearGradient",{x1:"50%",y1:"100%",x2:"50%",id:Hl(9)},[Yl("#EEE","#D8D8D8")]),t.createVNode("linearGradient",{x1:"100%",y1:"50%",y2:"50%",id:Hl(10)},[Yl("#F2F3F5","#DCDEE0")]),t.createVNode("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:Hl(11)},[Yl("#F2F3F5","#DCDEE0")]),t.createVNode("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:Hl(12)},[Yl("#FFF","#F7F8FA")])]),ql(),Xl(),Ul("d"),t.createVNode("g",{transform:"rotate(-45 113 -4)",fill:"none"},[t.createVNode("rect",{fill:jl(9),x:"24",y:"52.8",width:"5.8",height:"19",rx:"1"},null),t.createVNode("rect",{fill:jl(10),x:"22.1",y:"67.3",width:"9.9",height:"28",rx:"1"},null),t.createVNode("circle",{stroke:jl(11),"stroke-width":"8",cx:"27",cy:"27",r:"27"},null),t.createVNode("circle",{fill:jl(12),cx:"27",cy:"27",r:"16"},null),t.createVNode("path",{d:"M37 7c-8 0-15 5-16 12",stroke:jl(11),"stroke-width":"3",opacity:".5","stroke-linecap":"round",transform:"rotate(45 29 13)"},null)])]),network:()=>t.createVNode("svg",{viewBox:"0 0 160 160"},[t.createVNode("defs",null,[t.createVNode("linearGradient",{id:Hl(1),x1:"64%",y1:"100%",x2:"64%"},[Wl("#FFF",0,.5),Wl("#F2F3F5",100)]),t.createVNode("linearGradient",{id:Hl(2),x1:"50%",x2:"50%",y2:"84%"},[Wl("#EBEDF0",0),Wl("#DCDEE0",100,0)]),t.createVNode("linearGradient",{id:Hl(3),x1:"100%",x2:"100%",y2:"100%"},[Yl("#EAEDF0","#DCDEE0")]),t.createVNode("radialGradient",{id:Hl(4),cx:"50%",cy:"0%",fx:"50%",fy:"0%",r:"100%",gradientTransform:"matrix(0 1 -.54 0 .5 -.5)"},[Wl("#EBEDF0",0),Wl("#FFF",100,0)])]),t.createVNode("g",{fill:"none"},[ql(),t.createVNode("path",{fill:jl(4),d:"M0 139h160v21H0z"},null),t.createVNode("path",{d:"M80 54a7 7 0 0 1 3 13v27l-2 2h-2a2 2 0 0 1-2-2V67a7 7 0 0 1 3-13z",fill:jl(2)},null),t.createVNode("g",{opacity:".6","stroke-linecap":"round","stroke-width":"7"},[t.createVNode("path",{d:"M64 47a19 19 0 0 0-5 13c0 5 2 10 5 13",stroke:jl(3)},null),t.createVNode("path",{d:"M53 36a34 34 0 0 0 0 48",stroke:jl(3)},null),t.createVNode("path",{d:"M95 73a19 19 0 0 0 6-13c0-5-2-9-6-13",stroke:jl(3)},null),t.createVNode("path",{d:"M106 84a34 34 0 0 0 0-48",stroke:jl(3)},null)]),t.createVNode("g",{transform:"translate(31 105)"},[t.createVNode("rect",{fill:"#EBEDF0",width:"98",height:"34",rx:"2"},null),t.createVNode("rect",{fill:"#FFF",x:"9",y:"8",width:"80",height:"18",rx:"1.1"},null),t.createVNode("rect",{fill:"#EBEDF0",x:"15",y:"12",width:"18",height:"6",rx:"1.1"},null)])])]),default:()=>t.createVNode("svg",{viewBox:"0 0 160 160"},[t.createVNode("defs",null,[t.createVNode("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:Hl(5)},[Yl("#F2F3F5","#DCDEE0")]),t.createVNode("linearGradient",{x1:"95%",y1:"48%",x2:"5.5%",y2:"51%",id:Hl(6)},[Yl("#EAEDF1","#DCDEE0")]),t.createVNode("linearGradient",{y1:"45%",x2:"100%",y2:"54%",id:Hl(7)},[Yl("#EAEDF1","#DCDEE0")])]),ql(),Xl(),t.createVNode("g",{transform:"translate(36 50)",fill:"none"},[t.createVNode("g",{transform:"translate(8)"},[t.createVNode("rect",{fill:"#EBEDF0",opacity:".6",x:"38",y:"13",width:"36",height:"53",rx:"2"},null),t.createVNode("rect",{fill:jl(5),width:"64",height:"66",rx:"2"},null),t.createVNode("rect",{fill:"#FFF",x:"6",y:"6",width:"52",height:"55",rx:"1"},null),t.createVNode("g",{transform:"translate(15 17)",fill:jl(6)},[t.createVNode("rect",{width:"34",height:"6",rx:"1"},null),t.createVNode("path",{d:"M0 14h34v6H0z"},null),t.createVNode("rect",{y:"28",width:"34",height:"6",rx:"1"},null)])]),t.createVNode("rect",{fill:jl(7),y:"61",width:"88",height:"28",rx:"1"},null),t.createVNode("rect",{fill:"#F7F8FA",x:"29",y:"72",width:"30",height:"6",rx:"1"},null)])])},_l={image:h("default"),imageSize:[Number,String,Array],description:String};const Jl=ve(t.defineComponent({name:Gl,props:_l,setup(e,{slots:o}){const a=()=>{const a=o.description?o.description():e.description;if(a)return t.createVNode("p",{class:Zl("description")},[a])},n=()=>{if(o.default)return t.createVNode("div",{class:Zl("bottom")},[o.default()])};return()=>{return t.createVNode("div",{class:Zl()},[t.createVNode("div",{class:Zl("image"),style:E(e.imageSize)},[o.image?o.image():(null==(l=Kl[e.image])?void 0:l.call(Kl))||t.createVNode("img",{src:e.image},null)]),a(),n()]);var l}}})),[Ql,er,tr]=ae("coupon-list"),or={code:h(""),coupons:p(),currency:h("¥"),showCount:d,emptyImage:String,chosenCoupon:m(-1),enabledTitle:String,disabledTitle:String,disabledCoupons:p(),showExchangeBar:d,showCloseButton:d,closeButtonText:String,inputPlaceholder:String,exchangeMinLength:m(1),exchangeButtonText:String,displayedCouponIndex:m(-1),exchangeButtonLoading:Boolean,exchangeButtonDisabled:Boolean};const ar=ve(t.defineComponent({name:Ql,props:or,emits:["change","exchange","update:code"],setup(o,{emit:a,slots:n}){const[l,r]=ba(),i=t.ref(),s=t.ref(),c=t.ref(0),d=t.ref(0),u=t.ref(o.code),p=t.computed((()=>!o.exchangeButtonLoading&&(o.exchangeButtonDisabled||!u.value||u.value.length<o.exchangeMinLength))),m=()=>{const t=e.useRect(i).height,o=e.useRect(s).height+44;d.value=(t>o?t:z.value)-o},v=()=>{a("exchange",u.value),o.code||(u.value="")},h=e=>{t.nextTick((()=>{var t;return null==(t=l.value[e])?void 0:t.scrollIntoView()}))},f=()=>t.createVNode(Jl,{image:o.emptyImage},{default:()=>[t.createVNode("p",{class:er("empty-tip")},[tr("noCoupon")])]}),g=()=>{if(o.showExchangeBar)return t.createVNode("div",{ref:s,class:er("exchange-bar")},[t.createVNode(ro,{modelValue:u.value,"onUpdate:modelValue":e=>u.value=e,clearable:!0,border:!1,class:er("field"),placeholder:o.inputPlaceholder||tr("placeholder"),maxlength:"20"},null),t.createVNode(qe,{plain:!0,type:"danger",class:er("exchange"),text:o.exchangeButtonText||tr("exchange"),loading:o.exchangeButtonLoading,disabled:p.value,onClick:v},null)])},b=()=>{const{coupons:e}=o,l=o.showCount?` (${e.length})`:"",i=(o.enabledTitle||tr("enable"))+l;return t.createVNode(fn,{title:i},{default:()=>{var l;return[t.createVNode("div",{class:er("list",{"with-bottom":o.showCloseButton}),style:{height:`${d.value}px`}},[e.map(((e,n)=>t.createVNode(zl,{key:e.id,ref:r(n),coupon:e,chosen:n===o.chosenCoupon,currency:o.currency,onClick:()=>a("change",n)},null))),!e.length&&f(),null==(l=n["list-footer"])?void 0:l.call(n)])]}})},y=()=>{const{disabledCoupons:e}=o,a=o.showCount?` (${e.length})`:"",l=(o.disabledTitle||tr("disabled"))+a;return t.createVNode(fn,{title:l},{default:()=>{var a;return[t.createVNode("div",{class:er("list",{"with-bottom":o.showCloseButton}),style:{height:`${d.value}px`}},[e.map((e=>t.createVNode(zl,{disabled:!0,key:e.id,coupon:e,currency:o.currency},null))),!e.length&&f(),null==(a=n["disabled-list-footer"])?void 0:a.call(n)])]}})};return t.watch((()=>o.code),(e=>{u.value=e})),t.watch(z,m),t.watch(u,(e=>a("update:code",e))),t.watch((()=>o.displayedCouponIndex),h),t.onMounted((()=>{m(),h(o.displayedCouponIndex)})),()=>t.createVNode("div",{ref:i,class:er()},[g(),t.createVNode(gn,{active:c.value,"onUpdate:active":e=>c.value=e,class:er("tab")},{default:()=>[b(),y()]}),t.createVNode("div",{class:er("bottom")},[t.withDirectives(t.createVNode(qe,{round:!0,block:!0,type:"danger",class:er("close"),text:o.closeButtonText||tr("close"),onClick:()=>a("change",-1)},null),[[t.vShow,o.showCloseButton]])])])}})),[nr]=ae("time-picker");var lr=t.defineComponent({name:nr,props:n({},ya,{minHour:v(0),maxHour:v(23),minMinute:v(0),maxMinute:v(59),modelValue:String}),emits:["confirm","cancel","change","update:modelValue"],setup(e,{emit:o,slots:a}){const n=t=>{const{minHour:o,maxHour:a,maxMinute:n,minMinute:l}=e;t||(t=`${W(o)}:${W(l)}`);let[r,i]=t.split(":");return r=W(Y(+r,+o,+a)),i=W(Y(+i,+l,+n)),`${r}:${i}`},l=t.ref(),r=t.ref(n(e.modelValue)),s=t.computed((()=>[{type:"hour",range:[+e.minHour,+e.maxHour]},{type:"minute",range:[+e.minMinute,+e.maxMinute]}])),c=t.computed((()=>s.value.map((({type:t,range:o})=>{let a=Va(o[1]-o[0]+1,(e=>W(o[0]+e)));return e.filter&&(a=e.filter(t,a)),{type:t,values:a}})))),d=t.computed((()=>c.value.map((t=>({values:t.values.map((o=>e.formatter(t.type,o)))}))))),u=()=>{const o=r.value.split(":"),a=[e.formatter("hour",o[0]),e.formatter("minute",o[1])];t.nextTick((()=>{var e;null==(e=l.value)||e.setValues(a)}))},p=()=>{const[e,t]=l.value.getIndexes(),[o,a]=c.value,i=o.values[e]||o.values[0],s=a.values[t]||a.values[0];r.value=n(`${i}:${s}`),u()},m=()=>o("confirm",r.value),v=()=>o("cancel"),h=()=>{p(),t.nextTick((()=>{t.nextTick((()=>o("change",r.value)))}))};return t.onMounted((()=>{u(),t.nextTick(p)})),t.watch(d,u),t.watch((()=>[e.filter,e.maxHour,e.minMinute,e.maxMinute]),p),t.watch((()=>e.minHour),(()=>{t.nextTick(p)})),t.watch(r,(e=>o("update:modelValue",e))),t.watch((()=>e.modelValue),(e=>{(e=n(e))!==r.value&&(r.value=e,u())})),xe({getPicker:()=>l.value&&Na(l.value,p)}),()=>t.createVNode(Ot,t.mergeProps({ref:l,columns:d.value,onChange:h,onCancel:v,onConfirm:m},i(e,xa)),a)}});const rr=(new Date).getFullYear(),[ir]=ae("date-picker");var sr=t.defineComponent({name:ir,props:n({},ya,{type:h("datetime"),modelValue:Date,minDate:{type:Date,default:()=>new Date(rr-10,0,1),validator:x},maxDate:{type:Date,default:()=>new Date(rr+10,11,31),validator:x}}),emits:["confirm","cancel","change","update:modelValue"],setup(e,{emit:o,slots:a}){const n=t=>{if(x(t)){const o=Y(t.getTime(),e.minDate.getTime(),e.maxDate.getTime());return new Date(o)}},l=t.ref(),r=t.ref(n(e.modelValue)),s=(t,o)=>{const a=e[`${t}Date`],n=a.getFullYear();let l=1,r=1,i=0,s=0;return"max"===t&&(l=12,r=wa(o.getFullYear(),o.getMonth()+1),i=23,s=59),o.getFullYear()===n&&(l=a.getMonth()+1,o.getMonth()+1===l&&(r=a.getDate(),o.getDate()===r&&(i=a.getHours(),o.getHours()===i&&(s=a.getMinutes())))),{[`${t}Year`]:n,[`${t}Month`]:l,[`${t}Date`]:r,[`${t}Hour`]:i,[`${t}Minute`]:s}},c=t.computed((()=>{const{maxYear:t,maxDate:o,maxMonth:a,maxHour:n,maxMinute:l}=s("max",r.value||e.minDate),{minYear:i,minDate:c,minMonth:d,minHour:u,minMinute:p}=s("min",r.value||e.minDate);let m=[{type:"year",range:[i,t]},{type:"month",range:[d,a]},{type:"day",range:[c,o]},{type:"hour",range:[u,n]},{type:"minute",range:[p,l]}];switch(e.type){case"date":m=m.slice(0,3);break;case"year-month":m=m.slice(0,2);break;case"month-day":m=m.slice(1,3);break;case"datehour":m=m.slice(0,4)}if(e.columnsOrder){const t=e.columnsOrder.concat(m.map((e=>e.type)));m.sort(((e,o)=>t.indexOf(e.type)-t.indexOf(o.type)))}return m})),d=t.computed((()=>c.value.map((({type:t,range:o})=>{let a=Va(o[1]-o[0]+1,(e=>W(o[0]+e)));return e.filter&&(a=e.filter(t,a)),{type:t,values:a}})))),u=t.computed((()=>d.value.map((t=>({values:t.values.map((o=>e.formatter(t.type,o)))}))))),p=()=>{const o=r.value||e.minDate,{formatter:a}=e,n=d.value.map((e=>{switch(e.type){case"year":return a("year",`${o.getFullYear()}`);case"month":return a("month",W(o.getMonth()+1));case"day":return a("day",W(o.getDate()));case"hour":return a("hour",W(o.getHours()));case"minute":return a("minute",W(o.getMinutes()));default:return""}}));t.nextTick((()=>{var e;null==(e=l.value)||e.setValues(n)}))},m=()=>{const{type:t}=e,o=l.value.getIndexes(),a=e=>{let t=0;d.value.forEach(((o,a)=>{e===o.type&&(t=a)}));const{values:a}=d.value[t];return function(e){if(!e)return 0;for(;Number.isNaN(parseInt(e,10));){if(!(e.length>1))return 0;e=e.slice(1)}return parseInt(e,10)}(a[o[t]])};let i,s,c;"month-day"===t?(i=(r.value||e.minDate).getFullYear(),s=a("month"),c=a("day")):(i=a("year"),s=a("month"),c="year-month"===t?1:a("day"));const u=wa(i,s);c=c>u?u:c;let p=0,m=0;"datehour"===t&&(p=a("hour")),"datetime"===t&&(p=a("hour"),m=a("minute"));const v=new Date(i,s-1,c,p,m);r.value=n(v)},v=()=>{o("update:modelValue",r.value),o("confirm",r.value)},h=()=>o("cancel"),f=()=>{m(),t.nextTick((()=>{m(),t.nextTick((()=>o("change",r.value)))}))};return t.onMounted((()=>{p(),t.nextTick(m)})),t.watch(u,p),t.watch(r,((e,t)=>o("update:modelValue",t?e:null))),t.watch((()=>[e.filter,e.minDate,e.maxDate]),(()=>{t.nextTick(m)})),t.watch((()=>e.modelValue),(e=>{var t;(e=n(e))&&e.valueOf()!==(null==(t=r.value)?void 0:t.valueOf())&&(r.value=e)})),xe({getPicker:()=>l.value&&Na(l.value,m)}),()=>t.createVNode(Ot,t.mergeProps({ref:l,columns:u.value,onChange:f,onCancel:h,onConfirm:v},i(e,xa)),a)}});const[cr,dr]=ae("datetime-picker"),ur=Object.keys(lr.props),pr=Object.keys(sr.props),mr=n({},lr.props,sr.props,{modelValue:[String,Date]});const vr=ve(t.defineComponent({name:cr,props:mr,setup(e,{attrs:o,slots:a}){const n=t.ref();return xe({getPicker:()=>{var e;return null==(e=n.value)?void 0:e.getPicker()}}),()=>{const l="time"===e.type,r=l?lr:sr,s=i(e,l?ur:pr);return t.createVNode(r,t.mergeProps({ref:n,class:dr()},s,o),a)}}})),[hr,fr,gr]=ae("dialog"),br=n({},tt,{title:String,theme:String,width:c,message:[String,Function],callback:Function,allowHtml:Boolean,className:null,transition:h("van-dialog-bounce"),messageAlign:String,closeOnPopstate:d,showCancelButton:Boolean,cancelButtonText:String,cancelButtonColor:String,cancelButtonDisabled:Boolean,confirmButtonText:String,confirmButtonColor:String,confirmButtonDisabled:Boolean,showConfirmButton:d,closeOnClickOverlay:Boolean}),yr=[...ot,"transition","closeOnPopstate"];var xr=t.defineComponent({name:hr,props:br,emits:["confirm","cancel","keydown","update:show"],setup(e,{emit:o,slots:n}){const l=t.ref(),r=t.reactive({confirm:!1,cancel:!1}),s=e=>o("update:show",e),c=t=>{var o;s(!1),null==(o=e.callback)||o.call(e,t)},d=t=>()=>{e.show&&(o(t),e.beforeClose?(r[t]=!0,me(e.beforeClose,{args:[t],done(){c(t),r[t]=!1},canceled(){r[t]=!1}})):c(t))},u=d("cancel"),p=d("confirm"),m=t.withKeys((t=>{var n,r;if(t.target!==(null==(r=null==(n=l.value)?void 0:n.popupRef)?void 0:r.value))return;({Enter:e.showConfirmButton?p:a,Escape:e.showCancelButton?u:a})[t.key](),o("keydown",t)}),["enter","esc"]),v=()=>{const o=n.title?n.title():e.title;if(o)return t.createVNode("div",{class:fr("header",{isolated:!e.message&&!n.default})},[o])},h=o=>{const{message:a,allowHtml:n,messageAlign:l}=e,r=fr("message",{"has-title":o,[l]:l}),i=g(a)?a():a;return n&&"string"==typeof i?t.createVNode("div",{class:r,innerHTML:i},null):t.createVNode("div",{class:r},[i])},f=()=>{if(n.default)return t.createVNode("div",{class:fr("content")},[n.default()]);const{title:o,message:a,allowHtml:l}=e;if(a){const e=!(!o&&!n.title);return t.createVNode("div",{key:l?1:0,class:fr("content",{isolated:!e})},[h(e)])}},b=()=>n.footer?n.footer():"round-button"===e.theme?t.createVNode(ye,{class:fr("footer")},{default:()=>[e.showCancelButton&&t.createVNode(Ke,{type:"warning",text:e.cancelButtonText||gr("cancel"),class:fr("cancel"),color:e.cancelButtonColor,loading:r.cancel,disabled:e.cancelButtonDisabled,onClick:u},null),e.showConfirmButton&&t.createVNode(Ke,{type:"danger",text:e.confirmButtonText||gr("confirm"),class:fr("confirm"),color:e.confirmButtonColor,loading:r.confirm,disabled:e.confirmButtonDisabled,onClick:p},null)]}):t.createVNode("div",{class:[le,fr("footer")]},[e.showCancelButton&&t.createVNode(qe,{size:"large",text:e.cancelButtonText||gr("cancel"),class:fr("cancel"),style:{color:e.cancelButtonColor},loading:r.cancel,disabled:e.cancelButtonDisabled,onClick:u},null),e.showConfirmButton&&t.createVNode(qe,{size:"large",text:e.confirmButtonText||gr("confirm"),class:[fr("confirm"),{[re]:e.showCancelButton}],style:{color:e.confirmButtonColor},loading:r.confirm,disabled:e.confirmButtonDisabled,onClick:p},null)]);return()=>{const{width:o,title:a,theme:n,message:r,className:c}=e;return t.createVNode(ft,t.mergeProps({ref:l,role:"dialog",class:[fr([n]),c],style:{width:$(o)},tabindex:0,"aria-labelledby":a||r,onKeydown:m,"onUpdate:show":s},i(e,yr)),{default:()=>[v(),f(),b()]})}}});let Vr;function wr(e){return l?new Promise(((o,a)=>{Vr||function(){const e={setup(){const{state:e,toggle:o}=io();return()=>t.createVNode(xr,t.mergeProps(e,{"onUpdate:show":o}),null)}};({instance:Vr}=so(e))}(),Vr.open(n({},wr.currentOptions,e,{callback:e=>{("confirm"===e?o:a)(e)}}))})):Promise.resolve()}wr.defaultOptions={title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:void 0,beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,cancelButtonDisabled:!1,confirmButtonText:"",confirmButtonColor:null,confirmButtonDisabled:!1,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1},wr.currentOptions=n({},wr.defaultOptions),wr.alert=wr,wr.confirm=e=>wr(n({showCancelButton:!0},e)),wr.close=()=>{Vr&&Vr.toggle(!1)},wr.setDefaultOptions=e=>{n(wr.currentOptions,e)},wr.resetDefaultOptions=()=>{wr.currentOptions=n({},wr.defaultOptions)},wr.Component=ve(xr),wr.install=e=>{e.use(wr.Component),e.config.globalProperties.$dialog=wr};const[Nr,Cr]=ae("divider"),kr={dashed:Boolean,hairline:d,contentPosition:h("center")};const Sr=ve(t.defineComponent({name:Nr,props:kr,setup:(e,{slots:o})=>()=>{var a;return t.createVNode("div",{role:"separator",class:Cr({dashed:e.dashed,hairline:e.hairline,[`content-${e.contentPosition}`]:!!o.default})},[null==(a=o.default)?void 0:a.call(o)])}})),[Br,Tr]=ae("dropdown-menu"),Dr={overlay:d,zIndex:c,duration:v(.2),direction:h("down"),activeColor:String,closeOnClickOutside:d,closeOnClickOverlay:d},Ir=Symbol(Br);var Pr=t.defineComponent({name:Br,props:Dr,setup(o,{slots:a}){const n=to(),l=t.ref(),r=t.ref(),i=t.ref(0),{children:s,linkChildren:c}=e.useChildren(Ir),d=e.useScrollParent(l),u=t.computed((()=>s.some((e=>e.state.showWrapper)))),p=t.computed((()=>{if(u.value&&f(o.zIndex))return{zIndex:+o.zIndex+1}})),m=()=>{if(r.value){const t=e.useRect(r);"down"===o.direction?i.value=t.bottom:i.value=z.value-t.top}},v=(e,a)=>{const{showPopup:l}=e.state,{disabled:r,titleClass:i}=e;return t.createVNode("div",{id:`${n}-${a}`,role:"button",tabindex:r?void 0:0,class:[Tr("item",{disabled:r}),{[ue]:!r}],onClick:()=>{var e;r||(e=a,s.forEach(((t,o)=>{o===e?(m(),t.toggle()):t.state.showPopup&&t.toggle(!1,{immediate:!0})})))}},[t.createVNode("span",{class:[Tr("title",{down:l===("down"===o.direction),active:l}),i],style:{color:l?o.activeColor:""}},[t.createVNode("div",{class:"van-ellipsis"},[e.renderTitle()])])])};return c({id:n,props:o,offset:i}),e.useClickAway(l,(()=>{o.closeOnClickOutside&&s.forEach((e=>{e.toggle(!1)}))})),e.useEventListener("scroll",(()=>{u.value&&m()}),{target:d}),()=>{var e;return t.createVNode("div",{ref:l,class:Tr()},[t.createVNode("div",{ref:r,style:p.value,class:Tr("bar",{opened:u.value})},[s.map(v)]),null==(e=a.default)?void 0:e.call(a)])}}});const[Ar,Or]=ae("dropdown-item"),zr={title:String,options:p(),disabled:Boolean,teleport:[String,Object],lazyRender:d,modelValue:null,titleClass:null};const $r=ve(t.defineComponent({name:Ar,props:zr,emits:["open","opened","close","closed","change","update:modelValue"],setup(o,{emit:a,slots:n}){const l=t.reactive({showPopup:!1,transition:!0,showWrapper:!1}),{parent:r,index:i}=e.useParent(Ir);if(!r)return;const s=e=>()=>a(e),c=s("open"),d=s("close"),u=s("opened"),p=()=>{l.showWrapper=!1,a("closed")},m=e=>{o.teleport&&e.stopPropagation()},v=e=>{const{activeColor:n}=r.props,i=e.value===o.modelValue;return t.createVNode(Yt,{role:"menuitem",key:e.value,icon:e.icon,title:e.text,class:Or("option",{active:i}),style:{color:i?n:""},tabindex:i?0:-1,clickable:!0,onClick:()=>{l.showPopup=!1,e.value!==o.modelValue&&(a("update:modelValue",e.value),a("change",e.value))}},{value:()=>{if(i)return t.createVNode(Ee,{class:Or("icon"),color:n,name:"success"},null)}})},h=()=>{const{offset:e}=r,{zIndex:a,overlay:s,duration:h,direction:f,closeOnClickOverlay:g}=r.props,b=L(a);return"down"===f?b.top=`${e.value}px`:b.bottom=`${e.value}px`,t.withDirectives(t.createVNode("div",{style:b,class:Or([f]),onClick:m},[t.createVNode(ft,{show:l.showPopup,"onUpdate:show":e=>l.showPopup=e,role:"menu",class:Or("content"),overlay:s,position:"down"===f?"top":"bottom",duration:l.transition?h:0,lazyRender:o.lazyRender,overlayStyle:{position:"absolute"},"aria-labelledby":`${r.id}-${i.value}`,closeOnClickOverlay:g,onOpen:c,onClose:d,onOpened:u,onClosed:p},{default:()=>{var e;return[o.options.map(v),null==(e=n.default)?void 0:e.call(n)]}})]),[[t.vShow,l.showWrapper]])};return xe({state:l,toggle:(e=!l.showPopup,t={})=>{e!==l.showPopup&&(l.showPopup=e,l.transition=!t.immediate,e&&(l.showWrapper=!0))},renderTitle:()=>{if(n.title)return n.title();if(o.title)return o.title;const e=o.options.find((e=>e.value===o.modelValue));return e?e.text:""}}),()=>o.teleport?t.createVNode(t.Teleport,{to:o.teleport},{default:()=>[h()]}):h()}})),Er=ve(Pr),[Lr,Mr]=ae("grid"),Fr={square:Boolean,center:d,border:d,gutter:c,reverse:Boolean,iconSize:c,direction:String,clickable:Boolean,columnNum:v(4)},Rr=Symbol(Lr);const Hr=ve(t.defineComponent({name:Lr,props:Fr,setup(o,{slots:a}){const{linkChildren:n}=e.useChildren(Rr);return n({props:o}),()=>{var e;return t.createVNode("div",{style:{paddingLeft:$(o.gutter)},class:[Mr(),{[le]:o.border&&!o.gutter}]},[null==(e=a.default)?void 0:e.call(a)])}}})),[jr,Wr]=ae("grid-item"),Yr=n({},Ve,{dot:Boolean,text:String,icon:String,badge:c,iconColor:String,iconPrefix:String,badgeProps:Object});const Ur=ve(t.defineComponent({name:jr,props:Yr,setup(o,{slots:a}){const{parent:n,index:l}=e.useParent(Rr),r=Ne();if(!n)return;const i=t.computed((()=>{const{square:e,gutter:t,columnNum:o}=n.props,a=100/+o+"%",r={flexBasis:a};if(e)r.paddingTop=a;else if(t){const e=$(t);r.paddingRight=e,l.value>=o&&(r.marginTop=e)}return r})),s=t.computed((()=>{const{square:e,gutter:t}=n.props;if(e&&t){const e=$(t);return{right:e,bottom:e,height:"auto"}}}));return()=>{const{center:e,border:l,square:c,gutter:d,reverse:u,direction:p,clickable:m}=n.props,v=[Wr("content",[p,{center:e,square:c,reverse:u,clickable:m,surround:l&&d}]),{[ne]:l}];return t.createVNode("div",{class:[Wr({square:c})],style:i.value},[t.createVNode("div",{role:m?"button":void 0,class:v,style:s.value,tabindex:m?0:void 0,onClick:r},[a.default?a.default():[a.icon?t.createVNode(Be,t.mergeProps({dot:o.dot,content:o.badge},o.badgeProps),{default:a.icon}):o.icon?t.createVNode(Ee,{dot:o.dot,name:o.icon,size:n.props.iconSize,badge:o.badge,class:Wr("icon"),color:o.iconColor,badgeProps:o.badgeProps,classPrefix:o.iconPrefix},null):void 0,a.text?a.text():o.text?t.createVNode("span",{class:Wr("text")},[o.text]):void 0]])])}}})),qr=e=>Math.sqrt((e[0].clientX-e[1].clientX)**2+(e[0].clientY-e[1].clientY)**2),Xr=ae("image-preview")[1];var Gr=t.defineComponent({props:{src:String,show:Boolean,active:Number,minZoom:u(c),maxZoom:u(c),rootWidth:u(Number),rootHeight:u(Number)},emits:["scale","close"],setup(e,{emit:o}){const a=t.reactive({scale:1,moveX:0,moveY:0,moving:!1,zooming:!1,imageRatio:0,displayWidth:0,displayHeight:0}),n=at(),l=t.computed((()=>{const{rootWidth:t,rootHeight:o}=e,n=o/t;return a.imageRatio>n})),r=t.computed((()=>{const{scale:e,moveX:t,moveY:o,moving:n,zooming:l}=a,r={transitionDuration:l||n?"0s":".3s"};if(1!==e){const a=t/e,n=o/e;r.transform=`scale(${e}, ${e}) translate(${a}px, ${n}px)`}return r})),i=t.computed((()=>{if(a.imageRatio){const{rootWidth:t,rootHeight:o}=e,n=l.value?o/a.imageRatio:t;return Math.max(0,(a.scale*n-t)/2)}return 0})),s=t.computed((()=>{if(a.imageRatio){const{rootWidth:t,rootHeight:o}=e,n=l.value?o:t*a.imageRatio;return Math.max(0,(a.scale*n-o)/2)}return 0})),c=t=>{(t=Y(t,+e.minZoom,+e.maxZoom+1))!==a.scale&&(a.scale=t,o("scale",{scale:t,index:e.active}))},d=()=>{c(1),a.moveX=0,a.moveY=0};let u,p,m,v,h,f,g;const b=e=>{const{touches:t}=e,{offsetX:o}=n;n.start(e),u=t.length,p=a.moveX,m=a.moveY,g=Date.now(),a.moving=1===u&&1!==a.scale,a.zooming=2===u&&!o.value,a.zooming&&(v=a.scale,h=qr(e.touches))},y=e=>{const{touches:t}=e;if(n.move(e),(a.moving||a.zooming)&&P(e,!0),a.moving){const{deltaX:e,deltaY:t}=n,o=e.value+p,l=t.value+m;a.moveX=Y(o,-i.value,i.value),a.moveY=Y(l,-s.value,s.value)}if(a.zooming&&2===t.length){const e=qr(t);c(v*e/h)}},x=()=>{if(u>1)return;const{offsetX:e,offsetY:t}=n,l=Date.now()-g;e.value<5&&t.value<5&&l<250&&(f?(clearTimeout(f),f=null,(()=>{const e=a.scale>1?1:2;c(e),a.moveX=0,a.moveY=0})()):f=setTimeout((()=>{o("close"),f=null}),250))},V=t=>{let o=!1;(a.moving||a.zooming)&&(o=!0,a.moving&&p===a.moveX&&m===a.moveY&&(o=!1),t.touches.length||(a.zooming&&(a.moveX=Y(a.moveX,-i.value,i.value),a.moveY=Y(a.moveY,-s.value,s.value),a.zooming=!1),a.moving=!1,p=0,m=0,v=1,a.scale<1&&d(),a.scale>e.maxZoom&&(a.scale=+e.maxZoom))),P(t,o),x(),n.reset()},w=e=>{const{naturalWidth:t,naturalHeight:o}=e.target;a.imageRatio=o/t};return t.watch((()=>e.active),d),t.watch((()=>e.show),(e=>{e||d()})),()=>{const o={loading:()=>t.createVNode(je,{type:"spinner"},null)};return t.createVNode(pn,{class:Xr("swipe-item"),onTouchstart:b,onTouchmove:y,onTouchend:V,onTouchcancel:V},{default:()=>[t.createVNode(La,{src:e.src,fit:"contain",class:Xr("image",{vertical:l.value}),style:r.value,onLoad:w},o)]})}}});const[Zr,Kr]=ae("image-preview"),_r=["show","transition","overlayStyle","closeOnPopstate"],Jr={show:Boolean,loop:d,images:p(),minZoom:v(1/3),maxZoom:v(3),overlay:d,closeable:Boolean,showIndex:d,className:null,closeIcon:h("clear"),transition:String,beforeClose:Function,overlayClass:null,overlayStyle:Object,swipeDuration:v(300),startPosition:v(0),showIndicators:Boolean,closeOnPopstate:d,closeIconPosition:h("top-right")};var Qr=t.defineComponent({name:Zr,props:Jr,emits:["scale","close","closed","change","update:show"],setup(o,{emit:a,slots:n}){const l=t.ref(),r=t.reactive({active:0,rootWidth:0,rootHeight:0}),s=()=>{if(l.value){const t=e.useRect(l.value.$el);r.rootWidth=t.width,r.rootHeight=t.height,l.value.resize()}},c=e=>a("scale",e),d=e=>a("update:show",e),u=()=>{me(o.beforeClose,{args:[r.active],done:()=>d(!1)})},p=e=>{e!==r.active&&(r.active=e,a("change",e))},m=()=>{if(o.showIndex)return t.createVNode("div",{class:Kr("index")},[n.index?n.index({index:r.active}):`${r.active+1} / ${o.images.length}`])},v=()=>{if(n.cover)return t.createVNode("div",{class:Kr("cover")},[n.cover()])},h=()=>{if(o.closeable)return t.createVNode(Ee,{role:"button",name:o.closeIcon,class:[Kr("close-icon",o.closeIconPosition),ue],onClick:u},null)},f=()=>a("closed"),g=(e,t)=>{var o;return null==(o=l.value)?void 0:o.swipeTo(e,t)};return xe({swipeTo:g}),t.onMounted(s),t.watch([O,z],s),t.watch((()=>o.startPosition),(e=>p(+e))),t.watch((()=>o.show),(e=>{const{images:n,startPosition:l}=o;e?(p(+l),t.nextTick((()=>{s(),g(+l,{immediate:!0})}))):a("close",{index:r.active,url:n[r.active]})})),()=>t.createVNode(ft,t.mergeProps({class:[Kr(),o.className],overlayClass:[Kr("overlay"),o.overlayClass],onClosed:f,"onUpdate:show":d},i(o,_r)),{default:()=>[h(),t.createVNode(Qa,{ref:l,lazyRender:!0,loop:o.loop,class:Kr("swipe"),duration:o.swipeDuration,initialSwipe:o.startPosition,showIndicators:o.showIndicators,indicatorColor:"white",onChange:p},{default:()=>[o.images.map((e=>t.createVNode(Gr,{src:e,show:o.show,active:r.active,maxZoom:o.maxZoom,minZoom:o.minZoom,rootWidth:r.rootWidth,rootHeight:r.rootHeight,onScale:c,onClose:u},null)))]}),m(),v()]})}});let ei;const ti={loop:!0,images:[],maxZoom:3,minZoom:1/3,onScale:void 0,onClose:void 0,onChange:void 0,teleport:"body",className:"",showIndex:!0,closeable:!1,closeIcon:"clear",transition:void 0,beforeClose:void 0,overlayStyle:void 0,overlayClass:void 0,startPosition:0,swipeDuration:300,showIndicators:!1,closeOnPopstate:!0,closeIconPosition:"top-right"};const oi=(e,o=0)=>{if(l)return ei||({instance:ei}=so({setup(){const{state:e,toggle:o}=io(),a=()=>{e.images=[]};return()=>t.createVNode(Qr,t.mergeProps(e,{onClosed:a,"onUpdate:show":o}),null)}})),e=Array.isArray(e)?{images:e,startPosition:o}:e,ei.open(n({},ti,e)),ei};oi.Component=ve(Qr),oi.install=e=>{e.use(oi.Component)};const[ai,ni]=ae("index-bar"),li={sticky:d,zIndex:c,teleport:[String,Object],highlightColor:String,stickyOffsetTop:m(0),indexList:{type:Array,default:function(){const e="A".charCodeAt(0);return Array(26).fill("").map(((t,o)=>String.fromCharCode(e+o)))}}},ri=Symbol(ai);var ii=t.defineComponent({name:ai,props:li,emits:["select","change"],setup(o,{emit:a,slots:n}){const l=t.ref(),r=t.ref(""),i=at(),s=e.useScrollParent(l),{children:c,linkChildren:d}=e.useChildren(ri);let u;d({props:o});const p=t.computed((()=>{if(f(o.zIndex))return{zIndex:+o.zIndex+1}})),m=t.computed((()=>{if(o.highlightColor)return{color:o.highlightColor}})),v=(e,t)=>{for(let a=c.length-1;a>=0;a--){const n=a>0?t[a-1].height:0;if(e+(o.sticky?n+o.stickyOffsetTop:0)>=t[a].top)return a}return-1},h=e=>c.find((t=>String(t.index)===e)),g=()=>{if(A(l))return;const{sticky:t,indexList:a}=o,n=N(s.value),i=e.useRect(s),d=c.map((e=>e.getRect(s.value,i)));let p=-1;if(u){const e=h(u);if(e){const t=e.getRect(s.value,i);p=v(t.top,d)}}else p=v(n,d);r.value=a[p],t&&c.forEach(((e,t)=>{const{state:a,$el:l}=e;if(t===p||t===p-1){const e=l.getBoundingClientRect();a.left=e.left,a.width=e.width}else a.left=null,a.width=null;if(t===p)a.active=!0,a.top=Math.max(o.stickyOffsetTop,d[t].top-n)+i.top;else if(t===p-1&&""===u){const e=d[p].top-n;a.active=e>0,a.top=e+i.top-d[t].height}else a.active=!1})),u=""},b=()=>{t.nextTick(g)};e.useEventListener("scroll",g,{target:s}),t.onMounted(b),t.watch((()=>o.indexList),b),t.watch(r,(e=>{e&&a("change",e)}));const y=t=>{u=String(t);const n=h(u);if(n){const t=N(s.value),l=e.useRect(s),{offsetHeight:r}=document.documentElement;if(t===r-l.height)return void g();n.$el.scrollIntoView(),o.sticky&&o.stickyOffsetTop&&S(k()-o.stickyOffsetTop),a("select",n.index)}},x=e=>{const{index:t}=e.dataset;t&&y(t)},V=e=>{x(e.target)};let w;const C=e=>{if(i.move(e),i.isVertical()){P(e);const{clientX:t,clientY:o}=e.touches[0],a=document.elementFromPoint(t,o);if(a){const{index:e}=a.dataset;e&&w!==e&&(w=e,x(a))}}},B=()=>t.createVNode("div",{class:ni("sidebar"),style:p.value,onClick:V,onTouchstart:i.start,onTouchmove:C},[o.indexList.map((e=>{const o=e===r.value;return t.createVNode("span",{class:ni("index",{active:o}),style:o?m.value:void 0,"data-index":e},[e])}))]);return xe({scrollTo:y}),()=>{var e;return t.createVNode("div",{ref:l,class:ni()},[o.teleport?t.createVNode(t.Teleport,{to:o.teleport},{default:()=>[B()]}):B(),null==(e=n.default)?void 0:e.call(n)])}}});const[si,ci]=ae("index-anchor"),di={index:c};const ui=ve(t.defineComponent({name:si,props:di,setup(o,{slots:a}){const l=t.reactive({top:0,left:null,rect:{top:0,height:0},width:null,active:!1}),r=t.ref(),{parent:i}=e.useParent(ri);if(!i)return;const s=()=>l.active&&i.props.sticky,c=t.computed((()=>{const{zIndex:e,highlightColor:t}=i.props;if(s())return n(L(e),{left:l.left?`${l.left}px`:void 0,width:l.width?`${l.width}px`:void 0,transform:l.top?`translate3d(0, ${l.top}px, 0)`:void 0,color:t})}));return xe({state:l,getRect:(t,o)=>{const a=e.useRect(r);return l.rect.height=a.height,t===window||t===document.body?l.rect.top=a.top+k():l.rect.top=a.top+N(t)-o.top,l.rect}}),()=>{const e=s();return t.createVNode("div",{ref:r,style:{height:e?`${l.rect.height}px`:void 0}},[t.createVNode("div",{style:c.value,class:[ci({sticky:e}),{[ie]:e}]},[a.default?a.default():o.index])])}}})),pi=ve(ii),[mi,vi,hi]=ae("list"),fi={error:Boolean,offset:v(300),loading:Boolean,finished:Boolean,errorText:String,direction:h("down"),loadingText:String,finishedText:String,immediateCheck:d};const gi=ve(t.defineComponent({name:mi,props:fi,emits:["load","update:error","update:loading"],setup(o,{emit:a,slots:n}){const l=t.ref(!1),r=t.ref(),i=t.ref(),s=t.inject(cn,null),c=e.useScrollParent(r),d=()=>{t.nextTick((()=>{if(l.value||o.finished||o.error||!1===(null==s?void 0:s.value))return;const{offset:t,direction:n}=o,d=e.useRect(c);if(!d.height||A(r))return;let u=!1;const p=e.useRect(i);u="up"===n?d.top-p.top<=t:p.bottom-d.bottom<=t,u&&(l.value=!0,a("update:loading",!0),a("load"))}))},u=()=>{if(o.finished){const e=n.finished?n.finished():o.finishedText;if(e)return t.createVNode("div",{class:vi("finished-text")},[e])}},p=()=>{a("update:error",!1),d()},m=()=>{if(o.error){const e=n.error?n.error():o.errorText;if(e)return t.createVNode("div",{role:"button",class:vi("error-text"),tabindex:0,onClick:p},[e])}},v=()=>{if(l.value&&!o.finished)return t.createVNode("div",{class:vi("loading")},[n.loading?n.loading():t.createVNode(je,{class:vi("loading-icon")},{default:()=>[o.loadingText||hi("loading")]})])};return t.watch((()=>[o.loading,o.finished,o.error]),d),s&&t.watch(s,(e=>{e&&d()})),t.onUpdated((()=>{l.value=o.loading})),t.onMounted((()=>{o.immediateCheck&&d()})),xe({check:d}),e.useEventListener("scroll",d,{target:c}),()=>{var e;const a=null==(e=n.default)?void 0:e.call(n),s=t.createVNode("div",{ref:i,class:vi("placeholder")},null);return t.createVNode("div",{ref:r,role:"feed",class:vi(),"aria-busy":l.value},["down"===o.direction?a:s,v(),u(),m(),"up"===o.direction?a:s])}}}));function bi(e,o){const a=Ca(e);return e=>t.createVNode("div",{class:o("placeholder"),style:{height:a.value?`${a.value}px`:void 0}},[e()])}const[yi,xi]=ae("nav-bar"),Vi={title:String,fixed:Boolean,zIndex:c,border:d,leftText:String,rightText:String,leftArrow:Boolean,placeholder:Boolean,safeAreaInsetTop:Boolean};const wi=ve(t.defineComponent({name:yi,props:Vi,emits:["click-left","click-right"],setup(e,{emit:o,slots:a}){const n=t.ref(),l=bi(n,xi),r=e=>o("click-left",e),i=e=>o("click-right",e),s=()=>{const{title:o,fixed:l,border:s,zIndex:c}=e,d=L(c),u=e.leftArrow||e.leftText||a.left,p=e.rightText||a.right;return t.createVNode("div",{ref:n,style:d,class:[xi({fixed:l}),{[ie]:s,"van-safe-area-top":e.safeAreaInsetTop}]},[t.createVNode("div",{class:xi("content")},[u&&t.createVNode("div",{class:[xi("left"),ue],onClick:r},[a.left?a.left():[e.leftArrow&&t.createVNode(Ee,{class:xi("arrow"),name:"arrow-left"},null),e.leftText&&t.createVNode("span",{class:xi("text")},[e.leftText])]]),t.createVNode("div",{class:[xi("title"),"van-ellipsis"]},[a.title?a.title():o]),p&&t.createVNode("div",{class:[xi("right"),ue],onClick:i},[a.right?a.right():t.createVNode("span",{class:xi("text")},[e.rightText])])])])};return()=>e.fixed&&e.placeholder?l(s):s()}})),[Ni,Ci]=ae("notice-bar"),ki={text:String,mode:String,color:String,delay:v(1),speed:v(60),leftIcon:String,wrapable:Boolean,background:String,scrollable:{type:Boolean,default:null}};const Si=ve(t.defineComponent({name:Ni,props:ki,emits:["close","replay"],setup(o,{emit:a,slots:n}){let l,r=0,i=0;const s=t.ref(),c=t.ref(),d=t.reactive({show:!0,offset:0,duration:0}),u=e=>{"closeable"===o.mode&&(d.show=!1,a("close",e))},p=()=>{if(n["right-icon"])return n["right-icon"]();const e="closeable"===o.mode?"cross":"link"===o.mode?"arrow":void 0;return e?t.createVNode(Ee,{name:e,class:Ci("right-icon"),onClick:u},null):void 0},m=()=>{d.offset=r,d.duration=0,e.raf((()=>{e.doubleRaf((()=>{d.offset=-i,d.duration=(i+r)/+o.speed,a("replay")}))}))},v=()=>{const e=!1===o.scrollable&&!o.wrapable,a={transform:d.offset?`translateX(${d.offset}px)`:"",transitionDuration:`${d.duration}s`};return t.createVNode("div",{ref:s,role:"marquee",class:Ci("wrap")},[t.createVNode("div",{ref:c,style:a,class:[Ci("content"),{"van-ellipsis":e}],onTransitionend:m},[n.default?n.default():o.text])])},h=()=>{const{delay:t,speed:a,scrollable:n}=o,u=f(t)?1e3*+t:0;r=0,i=0,d.offset=0,d.duration=0,clearTimeout(l),l=setTimeout((()=>{if(!s.value||!c.value||!1===n)return;const t=e.useRect(s).width,o=e.useRect(c).width;(n||o>t)&&e.doubleRaf((()=>{r=t,i=o,d.offset=-i,d.duration=i/+a}))}),u)};return it(h),e.onMountedOrActivated(h),e.useEventListener("pageshow",h),xe({reset:h}),t.watch((()=>[o.text,o.scrollable]),h),()=>{const{color:e,wrapable:a,background:l}=o;return t.withDirectives(t.createVNode("div",{role:"alert",class:Ci({wrapable:a}),style:{color:e,background:l}},[n["left-icon"]?n["left-icon"]():o.leftIcon?t.createVNode(Ee,{class:Ci("left-icon"),name:o.leftIcon},null):void 0,v(),p()]),[[t.vShow,d.show]])}}})),[Bi,Ti]=ae("notify"),Di=n({},tt,{type:h("danger"),color:String,message:c,position:h("top"),className:null,background:String,lockScroll:Boolean});var Ii=t.defineComponent({name:Bi,props:Di,emits:["update:show"],setup(e,{emit:o,slots:a}){const n=e=>o("update:show",e);return()=>t.createVNode(ft,{show:e.show,class:[Ti([e.type]),e.className],style:{color:e.color,background:e.background},overlay:!1,position:e.position,duration:.2,lockScroll:e.lockScroll,"onUpdate:show":n},{default:()=>[a.default?a.default():e.message]})}});let Pi,Ai;function Oi(e){var o;if(l)return Ai||({instance:Ai}=so({setup(){const{state:e,toggle:o}=io();return()=>t.createVNode(Ii,t.mergeProps(e,{"onUpdate:show":o}),null)}})),e=n({},Oi.currentOptions,b(o=e)?o:{message:o}),Ai.open(e),clearTimeout(Pi),e.duration>0&&(Pi=window.setTimeout(Oi.clear,e.duration)),Ai}Oi.clear=()=>{Ai&&Ai.toggle(!1)},Oi.currentOptions={type:"danger",color:void 0,message:"",onClose:void 0,onClick:void 0,onOpened:void 0,duration:3e3,position:void 0,className:"",lockScroll:!1,background:void 0},Oi.setDefaultOptions=e=>{n(Oi.currentOptions,e)},Oi.resetDefaultOptions=()=>{Oi.currentOptions={type:"danger",color:void 0,message:"",onClose:void 0,onClick:void 0,onOpened:void 0,duration:3e3,position:void 0,className:"",lockScroll:!1,background:void 0}},Oi.Component=ve(Ii),Oi.install=e=>{e.use(Oi.Component),e.config.globalProperties.$notify=Oi};const[zi,$i]=ae("key"),Ei=t.createVNode("svg",{class:$i("collapse-icon"),viewBox:"0 0 30 24"},[t.createVNode("path",{d:"M26 13h-2v2h2v-2zm-8-3h2V8h-2v2zm2-4h2V4h-2v2zm2 4h4V4h-2v4h-2v2zm-7 14 3-3h-6l3 3zM6 13H4v2h2v-2zm16 0H8v2h14v-2zm-12-3h2V8h-2v2zM28 0l1 1 1 1v15l-1 2H1l-1-2V2l1-1 1-1zm0 2H2v15h26V2zM6 4v2H4V4zm10 2h2V4h-2v2zM8 9v1H4V8zm8 0v1h-2V8zm-6-5v2H8V4zm4 0v2h-2V4z",fill:"currentColor"},null)]),Li=t.createVNode("svg",{class:$i("delete-icon"),viewBox:"0 0 32 22"},[t.createVNode("path",{d:"M28 0a4 4 0 0 1 4 4v14a4 4 0 0 1-4 4H10.4a2 2 0 0 1-1.4-.6L1 13.1c-.6-.5-.9-1.3-.9-2 0-1 .3-1.7.9-2.2L9 .6a2 2 0 0 1 1.4-.6zm0 2H10.4l-8.2 8.3a1 1 0 0 0-.3.7c0 .3.1.5.3.7l8.2 8.4H28a2 2 0 0 0 2-2V4c0-1.1-.9-2-2-2zm-5 4a1 1 0 0 1 .7.3 1 1 0 0 1 0 1.4L20.4 11l3.3 3.3c.2.2.3.5.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3L19 12.4l-3.4 3.3a1 1 0 0 1-.6.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.2.1-.5.3-.7l3.3-3.3-3.3-3.3A1 1 0 0 1 14 7c0-.3.1-.5.3-.7A1 1 0 0 1 15 6a1 1 0 0 1 .6.3L19 9.6l3.3-3.3A1 1 0 0 1 23 6z",fill:"currentColor"},null)]);var Mi=t.defineComponent({name:zi,props:{type:String,text:c,color:String,wider:Boolean,large:Boolean,loading:Boolean},emits:["press"],setup(e,{emit:o,slots:a}){const n=t.ref(!1),l=at(),r=e=>{l.start(e),n.value=!0},i=e=>{l.move(e),l.direction.value&&(n.value=!1)},s=t=>{n.value&&(a.default||P(t),n.value=!1,o("press",e.text,e.type))},c=()=>{if(e.loading)return t.createVNode(je,{class:$i("loading-icon")},null);const o=a.default?a.default():e.text;switch(e.type){case"delete":return o||Li;case"extra":return o||Ei;default:return o}};return()=>t.createVNode("div",{class:$i("wrapper",{wider:e.wider}),onTouchstart:r,onTouchmove:i,onTouchend:s,onTouchcancel:s},[t.createVNode("div",{role:"button",tabindex:0,class:$i([e.color,{large:e.large,active:n.value,delete:"delete"===e.type}])},[c()])])}});const[Fi,Ri]=ae("number-keyboard"),Hi={show:Boolean,title:String,theme:h("default"),zIndex:c,teleport:[String,Object],maxlength:v(1/0),modelValue:h(""),transition:d,blurOnClose:d,showDeleteKey:d,randomKeyOrder:Boolean,closeButtonText:String,deleteButtonText:String,closeButtonLoading:Boolean,hideOnClickOutside:d,safeAreaInsetBottom:d,extraKey:{type:[String,Array],default:""}};const ji=ve(t.defineComponent({name:Fi,props:Hi,emits:["show","hide","blur","input","close","delete","update:modelValue"],setup(o,{emit:a,slots:n}){const l=t.ref(),r=()=>{const e=Array(9).fill("").map(((e,t)=>({text:t+1})));return o.randomKeyOrder&&function(e){for(let t=e.length-1;t>0;t--){const o=Math.floor(Math.random()*(t+1)),a=e[t];e[t]=e[o],e[o]=a}}(e),e},i=t.computed((()=>"custom"===o.theme?(()=>{const e=r(),{extraKey:t}=o,a=Array.isArray(t)?t:[t];return 1===a.length?e.push({text:0,wider:!0},{text:a[0],type:"extra"}):2===a.length&&e.push({text:a[0],type:"extra"},{text:0},{text:a[1],type:"extra"}),e})():[...r(),{text:o.extraKey,type:"extra"},{text:0},{text:o.showDeleteKey?o.deleteButtonText:"",type:o.showDeleteKey?"delete":""}])),s=()=>{o.show&&a("blur")},c=()=>{a("close"),o.blurOnClose&&s()},d=()=>a(o.show?"show":"hide"),u=(e,t)=>{if(""===e)return void("extra"===t&&s());const n=o.modelValue;"delete"===t?(a("delete"),a("update:modelValue",n.slice(0,n.length-1))):"close"===t?c():n.length<o.maxlength&&(a("input",e),a("update:modelValue",n+e))},p=()=>{if("custom"===o.theme)return t.createVNode("div",{class:Ri("sidebar")},[o.showDeleteKey&&t.createVNode(Mi,{large:!0,text:o.deleteButtonText,type:"delete",onPress:u},{delete:n.delete}),t.createVNode(Mi,{large:!0,text:o.closeButtonText,type:"close",color:"blue",loading:o.closeButtonLoading,onPress:u},null)])};return t.watch((()=>o.show),(e=>{o.transition||a(e?"show":"hide")})),o.hideOnClickOutside&&e.useClickAway(l,s,{eventName:"touchstart"}),()=>{const e=(()=>{const{title:e,theme:a,closeButtonText:l}=o,r=n["title-left"],i=l&&"default"===a;if(e||i||r)return t.createVNode("div",{class:Ri("header")},[r&&t.createVNode("span",{class:Ri("title-left")},[r()]),e&&t.createVNode("h2",{class:Ri("title")},[e]),i&&t.createVNode("button",{type:"button",class:[Ri("close"),ue],onClick:c},[l])])})(),a=t.createVNode(t.Transition,{name:o.transition?"van-slide-up":""},{default:()=>[t.withDirectives(t.createVNode("div",{ref:l,style:L(o.zIndex),class:Ri({unfit:!o.safeAreaInsetBottom,"with-title":!!e}),onTouchstart:I,onAnimationend:d,onWebkitAnimationEnd:d},[e,t.createVNode("div",{class:Ri("body")},[t.createVNode("div",{class:Ri("keys")},[i.value.map((e=>{const o={};return"delete"===e.type&&(o.default=n.delete),"extra"===e.type&&(o.default=n["extra-key"]),t.createVNode(Mi,{key:e.text,text:e.text,type:e.type,wider:e.wider,color:e.color,onPress:u},o)}))]),p()])]),[[t.vShow,o.show]])]});return o.teleport?t.createVNode(t.Teleport,{to:o.teleport},{default:()=>[a]}):a}}})),[Wi,Yi,Ui]=ae("pagination"),qi=(e,t,o)=>({number:e,text:t,active:o}),Xi={mode:h("multi"),prevText:String,nextText:String,pageCount:v(0),modelValue:m(0),totalItems:v(0),showPageSize:v(5),itemsPerPage:v(10),forceEllipses:Boolean};const Gi=ve(t.defineComponent({name:Wi,props:Xi,emits:["change","update:modelValue"],setup(e,{emit:o,slots:a}){const n=t.computed((()=>{const{pageCount:t,totalItems:o,itemsPerPage:a}=e,n=+t||Math.ceil(+o/+a);return Math.max(1,n)})),l=t.computed((()=>{const t=[],o=n.value,a=+e.showPageSize,{modelValue:l,forceEllipses:r}=e;let i=1,s=o;const c=a<o;c&&(i=Math.max(l-Math.floor(a/2),1),s=i+a-1,s>o&&(s=o,i=s-a+1));for(let e=i;e<=s;e++){const o=qi(e,e,e===l);t.push(o)}if(c&&a>0&&r){if(i>1){const e=qi(i-1,"...");t.unshift(e)}if(s<o){const e=qi(s+1,"...");t.push(e)}}return t})),r=(t,a)=>{t=Y(t,1,n.value),e.modelValue!==t&&(o("update:modelValue",t),a&&o("change",t))};t.watchEffect((()=>r(e.modelValue)));const i=()=>{const{mode:o,modelValue:n}=e,l=a["prev-text"],i=1===n;return t.createVNode("li",{class:[Yi("item",{disabled:i,border:"simple"===o,prev:!0}),se]},[t.createVNode("button",{type:"button",disabled:i,onClick:()=>r(n-1,!0)},[l?l():e.prevText||Ui("prev")])])},s=()=>{const{mode:o,modelValue:l}=e,i=a["next-text"],s=l===n.value;return t.createVNode("li",{class:[Yi("item",{disabled:s,border:"simple"===o,next:!0}),se]},[t.createVNode("button",{type:"button",disabled:s,onClick:()=>r(l+1,!0)},[i?i():e.nextText||Ui("next")])])};return()=>t.createVNode("nav",{role:"navigation",class:Yi()},[t.createVNode("ul",{class:Yi("items")},[i(),"simple"===e.mode?t.createVNode("li",{class:Yi("page-desc")},[a.pageDesc?a.pageDesc():`${e.modelValue}/${n.value}`]):l.value.map((e=>t.createVNode("li",{class:[Yi("item",{active:e.active,page:!0}),se]},[t.createVNode("button",{type:"button","aria-current":e.active||void 0,onClick:()=>r(e.number,!0)},[a.page?a.page(e):e.text])]))),s()])])}})),[Zi,Ki]=ae("password-input"),_i={info:String,mask:d,value:h(""),gutter:c,length:v(6),focused:Boolean,errorInfo:String};const Ji=ve(t.defineComponent({name:Zi,props:_i,emits:["focus"],setup(e,{emit:o}){const a=e=>{e.stopPropagation(),o("focus",e)},n=()=>{const o=[],{mask:a,value:n,length:l,gutter:r,focused:i}=e;for(let e=0;e<l;e++){const l=n[e],s=0!==e&&!r,c=i&&e===n.length;let d;0!==e&&r&&(d={marginLeft:$(r)}),o.push(t.createVNode("li",{class:[{[re]:s},Ki("item",{focus:c})],style:d},[a?t.createVNode("i",{style:{visibility:l?"visible":"hidden"}},null):l,c&&t.createVNode("div",{class:Ki("cursor")},null)]))}return o};return()=>{const o=e.errorInfo||e.info;return t.createVNode("div",{class:Ki()},[t.createVNode("ul",{class:[Ki("security"),{[se]:!e.gutter}],onTouchstart:a},[n()]),o&&t.createVNode("div",{class:Ki(e.errorInfo?"error-info":"info")},[o])])}}})),[Qi,es]=ae("popover"),ts=["show","overlay","duration","teleport","overlayStyle","overlayClass","closeOnClickOverlay"],os={show:Boolean,theme:h("light"),overlay:Boolean,actions:p(),trigger:h("click"),duration:c,showArrow:d,placement:h("bottom"),iconPrefix:String,overlayClass:null,overlayStyle:Object,closeOnClickAction:d,closeOnClickOverlay:d,closeOnClickOutside:d,offset:{type:Array,default:()=>[0,8]},teleport:{type:[String,Object],default:"body"}};const as=ve(t.defineComponent({name:Qi,props:os,emits:["select","touchstart","update:show"],setup(a,{emit:l,slots:r,attrs:s}){let c;const d=t.ref(),u=t.ref(),p=()=>{t.nextTick((()=>{a.show&&(c?c.setOptions({placement:a.placement}):c=d.value&&u.value?o.createPopper(d.value,u.value.popupRef.value,{placement:a.placement,modifiers:[{name:"computeStyles",options:{adaptive:!1,gpuAcceleration:!1}},n({},o.offsetModifier,{options:{offset:a.offset}})]}):null)}))},m=e=>l("update:show",e),v=()=>{"click"===a.trigger&&m(!a.show)},h=e=>{e.stopPropagation(),l("touchstart",e)},f=(e,o)=>r.action?r.action({action:e,index:o}):[e.icon&&t.createVNode(Ee,{name:e.icon,classPrefix:a.iconPrefix,class:es("action-icon")},null),t.createVNode("div",{class:[es("action-text"),ie]},[e.text])],g=(e,o)=>{const{icon:n,color:r,disabled:i,className:s}=e;return t.createVNode("div",{role:"menuitem",class:[es("action",{disabled:i,"with-icon":n}),s],style:{color:r},tabindex:i?void 0:0,"aria-disabled":i||void 0,onClick:()=>((e,t)=>{e.disabled||(l("select",e,t),a.closeOnClickAction&&m(!1))})(e,o)},[f(e,o)])};return t.onMounted(p),t.onBeforeUnmount((()=>{c&&(c.destroy(),c=null)})),t.watch((()=>[a.show,a.placement]),p),e.useClickAway(d,(()=>{!a.closeOnClickOutside||a.overlay&&!a.closeOnClickOverlay||m(!1)}),{eventName:"touchstart"}),()=>{var e;return t.createVNode(t.Fragment,null,[t.createVNode("span",{ref:d,class:es("wrapper"),onClick:v},[null==(e=r.reference)?void 0:e.call(r)]),t.createVNode(ft,t.mergeProps({ref:u,class:es([a.theme]),position:"",transition:"van-popover-zoom",lockScroll:!1,onTouchstart:h,"onUpdate:show":m},s,i(a,ts)),{default:()=>[a.showArrow&&t.createVNode("div",{class:es("arrow")},null),t.createVNode("div",{role:"menu",class:es("content")},[r.default?r.default():a.actions.map(g)])]})])}}})),[ns,ls]=ae("progress"),rs={color:String,inactive:Boolean,pivotText:String,textColor:String,showPivot:d,pivotColor:String,trackColor:String,strokeWidth:c,percentage:{type:c,default:0,validator:e=>e>=0&&e<=100}};const is=ve(t.defineComponent({name:ns,props:rs,setup(e){const o=t.computed((()=>e.inactive?void 0:e.color)),a=()=>{const{textColor:a,pivotText:n,pivotColor:l,percentage:r}=e,i=null!=n?n:`${r}%`;if(e.showPivot&&i){const n={color:a,left:+r+"%",transform:`translate(-${+r}%,-50%)`,background:l||o.value};return t.createVNode("span",{style:n,class:ls("pivot",{inactive:e.inactive})},[i])}};return()=>{const{trackColor:n,percentage:l,strokeWidth:r}=e,i={background:n,height:$(r)},s={width:`${l}%`,background:o.value};return t.createVNode("div",{class:ls(),style:i},[t.createVNode("span",{class:ls("portion",{inactive:e.inactive}),style:s},null),a()])}}})),[ss,cs,ds]=ae("pull-refresh"),us=["pulling","loosing","success"],ps={disabled:Boolean,modelValue:Boolean,headHeight:v(50),successText:String,pullingText:String,loosingText:String,loadingText:String,pullDistance:c,successDuration:v(500),animationDuration:v(300)};const ms=ve(t.defineComponent({name:ss,props:ps,emits:["change","refresh","update:modelValue"],setup(o,{emit:a,slots:n}){let l;const r=t.ref(),i=e.useScrollParent(r),s=t.reactive({status:"normal",distance:0,duration:0}),c=at(),d=()=>{if(50!==o.headHeight)return{height:`${o.headHeight}px`}},u=()=>"loading"!==s.status&&"success"!==s.status&&!o.disabled,p=(e,t)=>{const n=+(o.pullDistance||o.headHeight);s.distance=e,s.status=t?"loading":0===e?"normal":e<n?"pulling":"loosing",a("change",{status:s.status,distance:e})},m=()=>{const{status:e}=s;return"normal"===e?"":o[`${e}Text`]||ds(e)},v=()=>{const{status:e,distance:o}=s;if(n[e])return n[e]({distance:o});const a=[];return us.includes(e)&&a.push(t.createVNode("div",{class:cs("text")},[m()])),"loading"===e&&a.push(t.createVNode(je,{class:cs("loading")},{default:m})),a},h=e=>{l=0===N(i.value),l&&(s.duration=0,c.start(e))},f=e=>{u()&&h(e)},g=e=>{if(u()){l||h(e);const{deltaY:t}=c;c.move(e),l&&t.value>=0&&c.isVertical()&&(P(e),p((e=>{const t=+(o.pullDistance||o.headHeight);return e>t&&(e=e<2*t?t+(e-t)/2:1.5*t+(e-2*t)/4),Math.round(e)})(t.value)))}},b=()=>{l&&c.deltaY.value&&u()&&(s.duration=+o.animationDuration,"loosing"===s.status?(p(+o.headHeight,!0),a("update:modelValue",!0),t.nextTick((()=>a("refresh")))):p(0))};return t.watch((()=>o.modelValue),(e=>{s.duration=+o.animationDuration,e?p(+o.headHeight,!0):n.success||o.successText?(s.status="success",setTimeout((()=>{p(0)}),+o.successDuration)):p(0,!1)})),()=>{var e;const o={transitionDuration:`${s.duration}ms`,transform:s.distance?`translate3d(0,${s.distance}px, 0)`:""};return t.createVNode("div",{ref:r,class:cs()},[t.createVNode("div",{class:cs("track"),style:o,onTouchstart:f,onTouchmove:g,onTouchend:b,onTouchcancel:b},[t.createVNode("div",{class:cs("head"),style:d()},[v()]),null==(e=n.default)?void 0:e.call(n)])])}}})),[vs,hs]=ae("rate");const fs={size:c,icon:h("star"),color:String,count:v(5),gutter:c,readonly:Boolean,disabled:Boolean,voidIcon:h("star-o"),allowHalf:Boolean,voidColor:String,touchable:d,iconPrefix:String,modelValue:m(0),disabledColor:String};const gs=ve(t.defineComponent({name:vs,props:fs,emits:["change","update:modelValue"],setup(o,{emit:a}){const n=at(),[l,r]=ba(),i=t.ref(),s=()=>o.readonly||o.disabled||!o.touchable,c=t.computed((()=>Array(+o.count).fill("").map(((e,t)=>function(e,t,o,a){if(e>=t)return{status:"full",value:1};if(e+.5>=t&&o&&!a)return{status:"half",value:.5};if(e+1>=t&&o&&a){const o=10**10;return{status:"half",value:Math.round((e-t+1)*o)/o}}return{status:"void",value:0}}(o.modelValue,t+1,o.allowHalf,o.readonly)))));let d,u,p=Number.MAX_SAFE_INTEGER,m=Number.MIN_SAFE_INTEGER;const v=()=>{u=e.useRect(i);const t=l.value.map(e.useRect);d=[],t.forEach(((e,t)=>{p=Math.min(e.top,p),m=Math.max(e.top,m),o.allowHalf?d.push({score:t+.5,left:e.left,top:e.top,height:e.height},{score:t+1,left:e.left+e.width/2,top:e.top,height:e.height}):d.push({score:t+1,left:e.left,top:e.top,height:e.height})}))},h=(e,t)=>{for(let o=d.length-1;o>0;o--)if(t>=u.top&&t<=u.bottom){if(e>d[o].left&&t>=d[o].top&&t<=d[o].top+d[o].height)return d[o].score}else{const a=t<u.top?p:m;if(e>d[o].left&&d[o].top===a)return d[o].score}return o.allowHalf?.5:1},f=e=>{o.disabled||o.readonly||e===o.modelValue||(a("update:modelValue",e),a("change",e))},g=e=>{s()||(n.start(e),v())},b=e=>{if(!s()&&(n.move(e),n.isHorizontal())){const{clientX:t,clientY:o}=e.touches[0];P(e),f(h(t,o))}},y=(e,a)=>{const{icon:n,size:l,color:i,count:s,gutter:c,voidIcon:d,disabled:u,voidColor:p,allowHalf:m,iconPrefix:g,disabledColor:b}=o,y=a+1,x="full"===e.status,V="void"===e.status,w=m&&e.value>0&&e.value<1;let N;c&&y!==+s&&(N={paddingRight:$(c)});return t.createVNode("div",{key:a,ref:r(a),role:"radio",style:N,class:hs("item"),tabindex:u?void 0:0,"aria-setsize":s,"aria-posinset":y,"aria-checked":!V,onClick:e=>{v(),f(m?h(e.clientX,e.clientY):y)}},[t.createVNode(Ee,{size:l,name:x?n:d,class:hs("icon",{disabled:u,full:x}),color:u?b:x?i:p,classPrefix:g},null),w&&t.createVNode(Ee,{size:l,style:{width:e.value+"em"},name:V?d:n,class:hs("icon",["half",{disabled:u,full:!V}]),color:u?b:V?p:i,classPrefix:g},null)])};return e.useCustomFieldValue((()=>o.modelValue)),()=>t.createVNode("div",{ref:i,role:"radiogroup",class:hs({readonly:o.readonly,disabled:o.disabled}),tabindex:o.disabled?void 0:0,"aria-disabled":o.disabled,"aria-readonly":o.readonly,onTouchstart:g,onTouchmove:b},[c.value.map(y)])}})),bs=ve(Xn),[ys,xs,Vs]=ae("search"),ws=n({},no,{label:String,shape:h("square"),leftIcon:h("search"),clearable:d,actionText:String,background:String,showAction:Boolean});const Ns=ve(t.defineComponent({name:ys,props:ws,emits:["blur","focus","clear","search","cancel","click-input","click-left-icon","click-right-icon","update:modelValue"],setup(e,{emit:o,slots:a,attrs:l}){const r=to(),s=t.ref(),c=()=>{a.action||(o("update:modelValue",""),o("cancel"))},d=t=>{13===t.keyCode&&(P(t),o("search",e.modelValue))},u=()=>e.id||`${r}-input`,p=()=>{if(a.label||e.label)return t.createVNode("label",{class:xs("label"),for:u()},[a.label?a.label():e.label])},m=()=>{if(e.showAction){const o=e.actionText||Vs("cancel");return t.createVNode("div",{class:xs("action"),role:"button",tabindex:0,onClick:c},[a.action?a.action():o])}},v=e=>o("blur",e),h=e=>o("focus",e),f=e=>o("clear",e),g=e=>o("click-input",e),b=e=>o("click-left-icon",e),y=e=>o("click-right-icon",e),x=Object.keys(no),V=()=>{const r=n({},l,i(e,x),{id:u()});return t.createVNode(ro,t.mergeProps({ref:s,type:"search",class:xs("field"),border:!1,onBlur:v,onFocus:h,onClear:f,onKeypress:d,"onClick-input":g,"onClick-left-icon":b,"onClick-right-icon":y,"onUpdate:modelValue":e=>o("update:modelValue",e)},r),i(a,["left-icon","right-icon"]))};return xe({focus:()=>{var e;return null==(e=s.value)?void 0:e.focus()},blur:()=>{var e;return null==(e=s.value)?void 0:e.blur()}}),()=>{var o;return t.createVNode("div",{class:xs({"show-action":e.showAction}),style:{background:e.background}},[null==(o=a.left)?void 0:o.call(a),t.createVNode("div",{class:xs("content",e.shape)},[p(),V()]),m()])}}})),Cs=[...ot,"round","closeOnPopstate","safeAreaInsetBottom"],ks={qq:"qq",link:"link-o",weibo:"weibo",qrcode:"qr",poster:"photo-o",wechat:"wechat","weapp-qrcode":"miniprogram-o","wechat-moments":"wechat-moments"},[Ss,Bs,Ts]=ae("share-sheet"),Ds=n({},tt,{title:String,round:d,options:p(),cancelText:String,description:String,closeOnPopstate:d,safeAreaInsetBottom:d});const Is=ve(t.defineComponent({name:Ss,props:Ds,emits:["cancel","select","update:show"],setup(e,{emit:o,slots:a}){const n=e=>o("update:show",e),l=()=>{n(!1),o("cancel")},r=()=>{const o=a.title?a.title():e.title,n=a.description?a.description():e.description;if(o||n)return t.createVNode("div",{class:Bs("header")},[o&&t.createVNode("h2",{class:Bs("title")},[o]),n&&t.createVNode("span",{class:Bs("description")},[n])])},s=e=>ks[e]?t.createVNode("div",{class:Bs("icon",[e])},[t.createVNode(Ee,{name:ks[e]||e},null)]):t.createVNode("img",{src:e,class:Bs("image-icon")},null),c=(e,a)=>{const{name:n,icon:l,className:r,description:i}=e;return t.createVNode("div",{role:"button",tabindex:0,class:[Bs("option"),r,ue],onClick:()=>((e,t)=>o("select",e,t))(e,a)},[s(l),n&&t.createVNode("span",{class:Bs("name")},[n]),i&&t.createVNode("span",{class:Bs("option-description")},[i])])},d=(e,o)=>t.createVNode("div",{class:Bs("options",{border:o})},[e.map(c)]),u=()=>{const{options:t}=e;return Array.isArray(t[0])?t.map(((e,t)=>d(e,0!==t))):d(t)},p=()=>{var o;const n=null!=(o=e.cancelText)?o:Ts("cancel");if(a.cancel||n)return t.createVNode("button",{type:"button",class:Bs("cancel"),onClick:l},[a.cancel?a.cancel():n])};return()=>t.createVNode(ft,t.mergeProps({class:Bs(),position:"bottom","onUpdate:show":n},i(e,Cs)),{default:()=>[r(),u(),p()]})}})),[Ps,As]=ae("sidebar"),Os=Symbol(Ps),zs={modelValue:v(0)};const $s=ve(t.defineComponent({name:Ps,props:zs,emits:["change","update:modelValue"],setup(o,{emit:a,slots:n}){const{linkChildren:l}=e.useChildren(Os),r=()=>+o.modelValue;return l({getActive:r,setActive:e=>{e!==r()&&(a("update:modelValue",e),a("change",e))}}),()=>{var e;return t.createVNode("div",{role:"tablist",class:As()},[null==(e=n.default)?void 0:e.call(n)])}}})),[Es,Ls]=ae("sidebar-item"),Ms=n({},Ve,{dot:Boolean,title:String,badge:c,disabled:Boolean,badgeProps:Object});const Fs=ve(t.defineComponent({name:Es,props:Ms,emits:["click"],setup(o,{emit:a,slots:n}){const l=Ne(),{parent:r,index:i}=e.useParent(Os);if(!r)return;const s=()=>{o.disabled||(a("click",i.value),r.setActive(i.value),l())};return()=>{const{dot:e,badge:a,title:l,disabled:c}=o,d=i.value===r.getActive();return t.createVNode("div",{role:"tab",class:Ls({select:d,disabled:c}),tabindex:c?void 0:0,"aria-selected":d,onClick:s},[t.createVNode(Be,t.mergeProps({dot:e,class:Ls("text"),content:a},o.badgeProps),{default:()=>[n.title?n.title():l]})])}}})),[Rs,Hs]=ae("skeleton"),js={row:v(0),title:Boolean,round:Boolean,avatar:Boolean,loading:d,animate:d,avatarSize:c,titleWidth:c,avatarShape:h("round"),rowWidth:{type:[Number,String,Array],default:"100%"}};const Ws=ve(t.defineComponent({name:Rs,inheritAttrs:!1,props:js,setup(e,{slots:o,attrs:a}){const n=()=>{if(e.avatar)return t.createVNode("div",{class:Hs("avatar",e.avatarShape),style:E(e.avatarSize)},null)},l=()=>{if(e.title)return t.createVNode("h3",{class:Hs("title"),style:{width:$(e.titleWidth)}},null)},r=t=>{const{rowWidth:o}=e;return"100%"===o&&t===+e.row-1?"60%":Array.isArray(o)?o[t]:o};return()=>{var i;return e.loading?t.createVNode("div",t.mergeProps({class:Hs({animate:e.animate,round:e.round})},a),[n(),t.createVNode("div",{class:Hs("content")},[l(),Array(+e.row).fill("").map(((e,o)=>t.createVNode("div",{class:Hs("row"),style:{width:$(r(o))}},null)))])]):null==(i=o.default)?void 0:i.call(o)}}})),[Ys,Us]=ae("slider"),qs={min:v(0),max:v(100),step:v(1),range:Boolean,reverse:Boolean,disabled:Boolean,readonly:Boolean,vertical:Boolean,barHeight:c,buttonSize:c,activeColor:String,inactiveColor:String,modelValue:{type:[Number,Array],default:0}};const Xs=ve(t.defineComponent({name:Ys,props:qs,emits:["change","drag-end","drag-start","update:modelValue"],setup(o,{emit:a,slots:n}){let l,r,i;const s=t.ref(),c=t.ref(),d=at(),u=t.computed((()=>Number(o.max)-Number(o.min))),p=t.computed((()=>{const e=o.vertical?"width":"height";return{background:o.inactiveColor,[e]:$(o.barHeight)}})),m=e=>o.range&&Array.isArray(e),v=()=>{const{modelValue:e,min:t}=o;return m(e)?100*(e[1]-e[0])/u.value+"%":100*(e-Number(t))/u.value+"%"},h=t.computed((()=>{const e={[o.vertical?"height":"width"]:v(),background:o.activeColor};c.value&&(e.transition="none");return e[o.vertical?o.reverse?"bottom":"top":o.reverse?"right":"left"]=(()=>{const{modelValue:e,min:t}=o;return m(e)?100*(e[0]-Number(t))/u.value+"%":"0%"})(),e})),f=e=>{const t=+o.min,a=+o.max,n=+o.step;e=Y(e,t,a);return X(t,Math.round((e-t)/n)*n)},g=(e,t)=>JSON.stringify(e)===JSON.stringify(t),b=(e,t)=>{e=m(e)?(e=>{var t,a;const n=null!=(t=e[0])?t:Number(o.min),l=null!=(a=e[1])?a:Number(o.max);return n>l?[l,n]:[n,l]})(e).map(f):f(e),g(e,o.modelValue)||a("update:modelValue",e),t&&!g(e,i)&&a("change",e)},y=t=>{if(t.stopPropagation(),o.disabled||o.readonly)return;const{min:a,reverse:n,vertical:l,modelValue:r}=o,i=e.useRect(s),c=l?i.height:i.width,d=Number(a)+(l?n?i.bottom-t.clientY:t.clientY-i.top:n?i.right-t.clientX:t.clientX-i.left)/c*u.value;if(m(r)){const[e,t]=r;b(d<=(e+t)/2?[d,t]:[e,d],!0)}else b(d,!0)},x=t=>{if(o.disabled||o.readonly)return;"start"===c.value&&a("drag-start",t),P(t,!0),d.move(t),c.value="dragging";const n=e.useRect(s);let p=(o.vertical?d.deltaY.value:d.deltaX.value)/(o.vertical?n.height:n.width)*u.value;if(o.reverse&&(p=-p),m(i)){const e=o.reverse?1-l:l;r[e]=i[e]+p}else r=i+p;b(r)},V=e=>{o.disabled||o.readonly||("dragging"===c.value&&(b(r,!0),a("drag-end",e)),c.value="")},w=e=>{if("number"==typeof e){return Us("button-wrapper",["left","right"][e])}return Us("button-wrapper",o.reverse?"left":"right")},N=(e,a)=>{if("number"==typeof a){const t=n[0===a?"left-button":"right-button"];if(t)return t({value:e})}return n.button?n.button({value:e}):t.createVNode("div",{class:Us("button"),style:E(o.buttonSize)},null)},C=e=>{const a="number"==typeof e?o.modelValue[e]:o.modelValue;return t.createVNode("div",{role:"slider",class:w(e),tabindex:o.disabled?void 0:0,"aria-valuemin":o.min,"aria-valuenow":a,"aria-valuemax":o.max,"aria-disabled":o.disabled||void 0,"aria-readonly":o.readonly||void 0,"aria-orientation":o.vertical?"vertical":"horizontal",onTouchstart:t=>{"number"==typeof e&&(l=e),(e=>{o.disabled||o.readonly||(d.start(e),r=o.modelValue,i=m(r)?r.map(f):f(r),c.value="start")})(t)},onTouchmove:x,onTouchend:V,onTouchcancel:V,onClick:I},[N(a,e)])};return b(o.modelValue),e.useCustomFieldValue((()=>o.modelValue)),()=>t.createVNode("div",{ref:s,style:p.value,class:Us({vertical:o.vertical,disabled:o.disabled}),onClick:y},[t.createVNode("div",{class:Us("bar"),style:h.value},[o.range?[C(0),C(1)]:C()])])}})),[Gs,Zs]=ae("steps"),Ks={active:v(0),direction:h("horizontal"),activeIcon:h("checked"),iconPrefix:String,finishIcon:String,activeColor:String,inactiveIcon:String,inactiveColor:String},_s=Symbol(Gs);var Js=t.defineComponent({name:Gs,props:Ks,emits:["click-step"],setup(o,{emit:a,slots:n}){const{linkChildren:l}=e.useChildren(_s);return l({props:o,onClickStep:e=>a("click-step",e)}),()=>{var e;return t.createVNode("div",{class:Zs([o.direction])},[t.createVNode("div",{class:Zs("items")},[null==(e=n.default)?void 0:e.call(n)])])}}});const[Qs,ec]=ae("step");const tc=ve(t.defineComponent({name:Qs,setup(o,{slots:a}){const{parent:n,index:l}=e.useParent(_s);if(!n)return;const r=n.props,i=()=>{const e=+r.active;return l.value<e?"finish":l.value===e?"process":"waiting"},s=()=>"process"===i(),c=t.computed((()=>({background:"finish"===i()?r.activeColor:r.inactiveColor}))),d=t.computed((()=>s()?{color:r.activeColor}:"waiting"===i()?{color:r.inactiveColor}:void 0)),u=()=>n.onClickStep(l.value),p=()=>{const{iconPrefix:e,finishIcon:o,activeIcon:n,activeColor:l,inactiveIcon:d}=r;return s()?a["active-icon"]?a["active-icon"]():t.createVNode(Ee,{class:ec("icon","active"),name:n,color:l,classPrefix:e},null):"finish"===i()&&(o||a["finish-icon"])?a["finish-icon"]?a["finish-icon"]():t.createVNode(Ee,{class:ec("icon","finish"),name:o,color:l,classPrefix:e},null):a["inactive-icon"]?a["inactive-icon"]():d?t.createVNode(Ee,{class:ec("icon"),name:d,classPrefix:e},null):t.createVNode("i",{class:ec("circle"),style:c.value},null)};return()=>{var e;const o=i();return t.createVNode("div",{class:[ne,ec([r.direction,{[o]:o}])]},[t.createVNode("div",{class:ec("title",{active:s()}),style:d.value,onClick:u},[null==(e=a.default)?void 0:e.call(a)]),t.createVNode("div",{class:ec("circle-container"),onClick:u},[p()]),t.createVNode("div",{class:ec("line"),style:c.value},null)])}}})),[oc,ac]=ae("stepper"),nc=(e,t)=>String(e)===String(t),lc={min:v(1),max:v(1/0),name:v(""),step:v(1),theme:String,integer:Boolean,disabled:Boolean,showPlus:d,showMinus:d,showInput:d,longPress:d,allowEmpty:Boolean,modelValue:c,inputWidth:c,buttonSize:c,placeholder:String,disablePlus:Boolean,disableMinus:Boolean,disableInput:Boolean,beforeChange:Function,defaultValue:v(1),decimalLength:c};const rc=ve(t.defineComponent({name:oc,props:lc,emits:["plus","blur","minus","focus","change","overlimit","update:modelValue"],setup(o,{emit:a}){const n=e=>{const{min:t,max:a,allowEmpty:n,decimalLength:l}=o;return n&&""===e||(e=""===(e=q(String(e),!o.integer))?0:+e,e=Number.isNaN(e)?+t:e,e=Math.max(Math.min(+a,e),+t),f(l)&&(e=e.toFixed(+l))),e};let l;const r=t.ref(),i=t.ref((()=>{var e;const t=null!=(e=o.modelValue)?e:o.defaultValue,l=n(t);return nc(l,o.modelValue)||a("update:modelValue",l),l})()),s=t.computed((()=>o.disabled||o.disableMinus||i.value<=+o.min)),c=t.computed((()=>o.disabled||o.disablePlus||i.value>=+o.max)),d=t.computed((()=>({width:$(o.inputWidth),height:$(o.buttonSize)}))),u=t.computed((()=>E(o.buttonSize))),p=e=>{o.beforeChange?me(o.beforeChange,{args:[e],done(){i.value=e}}):i.value=e},m=()=>{if("plus"===l&&c.value||"minus"===l&&s.value)return void a("overlimit",l);const e="minus"===l?-o.step:+o.step,t=n(X(+i.value,e));p(t),a(l)},v=e=>{const t=e.target,{value:a}=t,{decimalLength:n}=o;let l=q(String(a),!o.integer);if(f(n)&&l.includes(".")){const e=l.split(".");l=`${e[0]}.${e[1].slice(0,+n)}`}o.beforeChange?t.value=String(i.value):nc(a,l)||(t.value=l);const r=l===String(+l);p(r?+l:l)},h=e=>{var t;o.disableInput?null==(t=r.value)||t.blur():a("focus",e)},g=e=>{const o=e.target,l=n(o.value);o.value=String(l),i.value=l,t.nextTick((()=>{a("blur",e),D()}))};let b,y;const x=()=>{y=setTimeout((()=>{m(),x()}),200)},V=e=>{o.longPress&&(clearTimeout(y),b&&P(e))},w=e=>{o.disableInput&&P(e)},N=e=>({onClick:t=>{P(t),l=e,m()},onTouchstart:()=>{l=e,o.longPress&&(b=!1,clearTimeout(y),y=setTimeout((()=>{b=!0,m(),x()}),600))},onTouchend:V,onTouchcancel:V});return t.watch((()=>[o.max,o.min,o.integer,o.decimalLength]),(()=>{const e=n(i.value);nc(e,i.value)||(i.value=e)})),t.watch((()=>o.modelValue),(e=>{nc(e,i.value)||(i.value=n(e))})),t.watch(i,(e=>{a("update:modelValue",e),a("change",e,{name:o.name})})),e.useCustomFieldValue((()=>o.modelValue)),()=>t.createVNode("div",{role:"group",class:ac([o.theme])},[t.withDirectives(t.createVNode("button",t.mergeProps({type:"button",style:u.value,class:[ac("minus",{disabled:s.value}),{[ue]:!s.value}],"aria-disabled":s.value||void 0},N("minus")),null),[[t.vShow,o.showMinus]]),t.withDirectives(t.createVNode("input",{ref:r,type:o.integer?"tel":"text",role:"spinbutton",class:ac("input"),value:i.value,style:d.value,disabled:o.disabled,readonly:o.disableInput,inputmode:o.integer?"numeric":"decimal",placeholder:o.placeholder,"aria-valuemax":o.max,"aria-valuemin":o.min,"aria-valuenow":i.value,onBlur:g,onInput:v,onFocus:h,onMousedown:w},null),[[t.vShow,o.showInput]]),t.withDirectives(t.createVNode("button",t.mergeProps({type:"button",style:u.value,class:[ac("plus",{disabled:c.value}),{[ue]:!c.value}],"aria-disabled":c.value||void 0},N("plus")),null),[[t.vShow,o.showPlus]])])}})),ic=ve(Js),[sc,cc,dc]=ae("submit-bar"),uc={tip:String,label:String,price:Number,tipIcon:String,loading:Boolean,currency:h("¥"),disabled:Boolean,textAlign:String,buttonText:String,buttonType:h("danger"),buttonColor:String,suffixLabel:String,decimalLength:v(2),safeAreaInsetBottom:d};const pc=ve(t.defineComponent({name:sc,props:uc,emits:["submit"],setup(e,{emit:o,slots:a}){const n=()=>{const{price:o,label:a,currency:n,textAlign:l,suffixLabel:r,decimalLength:i}=e;if("number"==typeof o){const e=(o/100).toFixed(+i).split("."),s=i?`.${e[1]}`:"";return t.createVNode("div",{class:cc("text"),style:{textAlign:l}},[t.createVNode("span",null,[a||dc("label")]),t.createVNode("span",{class:cc("price")},[n,t.createVNode("span",{class:cc("price-integer")},[e[0]]),s]),r&&t.createVNode("span",{class:cc("suffix-label")},[r])])}},l=()=>{var o;const{tip:n,tipIcon:l}=e;if(a.tip||n)return t.createVNode("div",{class:cc("tip")},[l&&t.createVNode(Ee,{class:cc("tip-icon"),name:l},null),n&&t.createVNode("span",{class:cc("tip-text")},[n]),null==(o=a.tip)?void 0:o.call(a)])},r=()=>o("submit");return()=>{var o,i;return t.createVNode("div",{class:[cc(),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[null==(o=a.top)?void 0:o.call(a),l(),t.createVNode("div",{class:cc("bar")},[null==(i=a.default)?void 0:i.call(a),n(),a.button?a.button():t.createVNode(qe,{round:!0,type:e.buttonType,text:e.buttonText,class:cc("button",e.buttonType),color:e.buttonColor,loading:e.loading,disabled:e.disabled,onClick:r},null)])])}}})),[mc,vc]=ae("swipe-cell"),hc={name:v(""),disabled:Boolean,leftWidth:c,rightWidth:c,beforeClose:Function,stopPropagation:Boolean};const fc=ve(t.defineComponent({name:mc,props:hc,emits:["open","close","click"],setup(o,{emit:a,slots:n}){let l,r,i;const s=t.ref(),c=t.ref(),d=t.ref(),u=t.reactive({offset:0,dragging:!1}),p=at(),m=t=>t.value?e.useRect(t).width:0,v=t.computed((()=>f(o.leftWidth)?+o.leftWidth:m(c))),h=t.computed((()=>f(o.rightWidth)?+o.rightWidth:m(d))),g=e=>{u.offset="left"===e?v.value:-h.value,l||(l=!0,a("open",{name:o.name,position:e}))},b=e=>{u.offset=0,l&&(l=!1,a("close",{name:o.name,position:e}))},y=e=>{o.disabled||(i=u.offset,p.start(e))},x=e=>{if(o.disabled)return;const{deltaX:t}=p;if(p.move(e),p.isHorizontal()){r=!0,u.dragging=!0;(!l||t.value*i<0)&&P(e,o.stopPropagation),u.offset=Y(t.value+i,-h.value,v.value)}},V=()=>{u.dragging&&(u.dragging=!1,(e=>{const t=Math.abs(u.offset),o=l?.85:.15,a="left"===e?v.value:h.value;a&&t>a*o?g(e):b(e)})(u.offset>0?"left":"right"),setTimeout((()=>{r=!1}),0))},w=(e="outside")=>{a("click",e),l&&!r&&me(o.beforeClose,{args:[{name:o.name,position:e}],done:()=>b(e)})},N=(e,t)=>o=>{t&&o.stopPropagation(),w(e)},C=(e,o)=>{const a=n[e];if(a)return t.createVNode("div",{ref:o,class:vc(e),onClick:N(e,!0)},[a()])};return xe({open:g,close:b}),e.useClickAway(s,(()=>w("outside")),{eventName:"touchstart"}),()=>{var e;const o={transform:`translate3d(${u.offset}px, 0, 0)`,transitionDuration:u.dragging?"0s":".6s"};return t.createVNode("div",{ref:s,class:vc(),onClick:N("cell",r),onTouchstart:y,onTouchmove:x,onTouchend:V,onTouchcancel:V},[t.createVNode("div",{class:vc("wrapper"),style:o},[C("left",c),null==(e=n.default)?void 0:e.call(n),C("right",d)])])}}})),[gc,bc]=ae("tabbar"),yc={route:Boolean,fixed:d,border:d,zIndex:c,placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:v(0),safeAreaInsetBottom:{type:Boolean,default:null}},xc=Symbol(gc);const Vc=ve(t.defineComponent({name:gc,props:yc,emits:["change","update:modelValue"],setup(o,{emit:a,slots:n}){const l=t.ref(),{linkChildren:r}=e.useChildren(xc),i=bi(l,bc),s=()=>{var e;return null!=(e=o.safeAreaInsetBottom)?e:o.fixed},c=()=>{var e;const{fixed:a,zIndex:r,border:i}=o;return t.createVNode("div",{ref:l,role:"tablist",style:L(r),class:[bc({fixed:a}),{[ce]:i,"van-safe-area-bottom":s()}]},[null==(e=n.default)?void 0:e.call(n)])};return r({props:o,setActive:(e,t)=>{me(o.beforeChange,{args:[e],done(){a("update:modelValue",e),a("change",e),t()}})}}),()=>o.fixed&&o.placeholder?i(c):c()}})),[wc,Nc]=ae("tabbar-item"),Cc=n({},Ve,{dot:Boolean,icon:String,name:c,badge:c,badgeProps:Object,iconPrefix:String});const kc=ve(t.defineComponent({name:wc,props:Cc,emits:["click"],setup(o,{emit:a,slots:n}){const l=Ne(),r=t.getCurrentInstance().proxy,{parent:i,index:s}=e.useParent(xc);if(!i)return;const c=t.computed((()=>{var e;const{route:t,modelValue:a}=i.props;if(t&&"$route"in r){const{$route:e}=r,{to:t}=o,a=b(t)?t:{path:t};return!!e.matched.find((e=>{const t="path"in a&&a.path===e.path,o="name"in a&&a.name===e.name;return t||o}))}return(null!=(e=o.name)?e:s.value)===a})),d=e=>{var t;c.value||i.setActive(null!=(t=o.name)?t:s.value,l),a("click",e)},u=()=>n.icon?n.icon({active:c.value}):o.icon?t.createVNode(Ee,{name:o.icon,classPrefix:o.iconPrefix},null):void 0;return()=>{var e;const{dot:a,badge:l}=o,{activeColor:r,inactiveColor:s}=i.props,p=c.value?r:s;return t.createVNode("div",{role:"tab",class:Nc({active:c.value}),style:{color:p},tabindex:0,"aria-selected":c.value,onClick:d},[t.createVNode(Be,t.mergeProps({dot:a,class:Nc("icon"),content:l},o.badgeProps),{default:u}),t.createVNode("div",{class:Nc("text")},[null==(e=n.default)?void 0:e.call(n,{active:c.value})])])}}})),[Sc,Bc]=ae("tree-select"),Tc={max:v(1/0),items:p(),height:v(300),selectedIcon:h("success"),mainActiveIndex:v(0),activeId:{type:[Number,String,Array],default:0}};const Dc=ve(t.defineComponent({name:Sc,props:Tc,emits:["click-nav","click-item","update:activeId","update:mainActiveIndex"],setup(e,{emit:o,slots:a}){const n=t=>Array.isArray(e.activeId)?e.activeId.includes(t):e.activeId===t,l=a=>t.createVNode("div",{key:a.id,class:["van-ellipsis",Bc("item",{active:n(a.id),disabled:a.disabled})],onClick:()=>{if(a.disabled)return;let t;if(Array.isArray(e.activeId)){t=e.activeId.slice();const o=t.indexOf(a.id);-1!==o?t.splice(o,1):t.length<e.max&&t.push(a.id)}else t=a.id;o("update:activeId",t),o("click-item",a)}},[a.text,n(a.id)&&t.createVNode(Ee,{name:e.selectedIcon,class:Bc("selected")},null)]),r=e=>{o("update:mainActiveIndex",e)},i=e=>o("click-nav",e),s=()=>{const o=e.items.map((e=>t.createVNode(Fs,{dot:e.dot,title:e.text,badge:e.badge,class:[Bc("nav-item"),e.className],disabled:e.disabled,onClick:i},null)));return t.createVNode($s,{class:Bc("nav"),modelValue:e.mainActiveIndex,onChange:r},{default:()=>[o]})},c=()=>{if(a.content)return a.content();const t=e.items[+e.mainActiveIndex]||{};return t.children?t.children.map(l):void 0};return()=>t.createVNode("div",{class:Bc(),style:{height:$(e.height)}},[s(),t.createVNode("div",{class:Bc("content")},[c()])])}})),[Ic,Pc,Ac]=ae("uploader");function Oc(e,t){return new Promise((o=>{if("file"===t)return void o();const a=new FileReader;a.onload=e=>{o(e.target.result)},"dataUrl"===t?a.readAsDataURL(e):"text"===t&&a.readAsText(e)}))}function zc(e,t){return s(e).some((e=>!!e.file&&(g(t)?t(e.file):e.file.size>t)))}const $c=/\.(jpeg|jpg|gif|png|svg|webp|jfif|bmp|dpg)/i;function Ec(e){return!!e.isImage||(e.file&&e.file.type?0===e.file.type.indexOf("image"):e.url?(t=e.url,$c.test(t)):"string"==typeof e.content&&0===e.content.indexOf("data:image"));var t}var Lc=t.defineComponent({props:{name:c,item:u(Object),index:Number,imageFit:String,lazyLoad:Boolean,deletable:Boolean,previewSize:[Number,String,Array],beforeDelete:Function},emits:["delete","preview"],setup(e,{emit:o,slots:a}){const l=()=>{const{status:o,message:a}=e.item;if("uploading"===o||"failed"===o){const e="failed"===o?t.createVNode(Ee,{name:"close",class:Pc("mask-icon")},null):t.createVNode(je,{class:Pc("loading")},null),n=f(a)&&""!==a;return t.createVNode("div",{class:Pc("mask")},[e,n&&t.createVNode("div",{class:Pc("mask-message")},[a])])}},r=t=>{const{name:a,item:n,index:l,beforeDelete:r}=e;t.stopPropagation(),me(r,{args:[n,{name:a,index:l}],done:()=>o("delete")})},i=()=>o("preview"),s=()=>{if(e.deletable&&"uploading"!==e.item.status){const e=a["preview-delete"];return t.createVNode("div",{role:"button",class:Pc("preview-delete",{shadow:!e}),tabindex:0,"aria-label":Ac("delete"),onClick:r},[e?e():t.createVNode(Ee,{name:"cross",class:Pc("preview-delete-icon")},null)])}},c=()=>{if(a["preview-cover"]){const{index:o,item:l}=e;return t.createVNode("div",{class:Pc("preview-cover")},[a["preview-cover"](n({index:o},l))])}},d=()=>{const{item:o,lazyLoad:a,imageFit:n,previewSize:l}=e;return Ec(o)?t.createVNode(La,{fit:n,src:o.content||o.url,class:Pc("preview-image"),width:Array.isArray(l)?l[0]:l,height:Array.isArray(l)?l[1]:l,lazyLoad:a,onClick:i},{default:c}):t.createVNode("div",{class:Pc("file"),style:E(e.previewSize)},[t.createVNode(Ee,{class:Pc("file-icon"),name:"description"},null),t.createVNode("div",{class:[Pc("file-name"),"van-ellipsis"]},[o.file?o.file.name:o.url]),c()])};return()=>t.createVNode("div",{class:Pc("preview")},[d(),l(),s()])}});const Mc={name:v(""),accept:h("image/*"),capture:String,multiple:Boolean,disabled:Boolean,readonly:Boolean,lazyLoad:Boolean,maxCount:v(1/0),imageFit:h("cover"),resultType:h("dataUrl"),uploadIcon:h("photograph"),uploadText:String,deletable:d,afterRead:Function,showUpload:d,modelValue:p(),beforeRead:Function,beforeDelete:Function,previewSize:[Number,String,Array],previewImage:d,previewOptions:Object,previewFullImage:d,maxSize:{type:[Number,String,Function],default:1/0}};const Fc=ve(t.defineComponent({name:Ic,props:Mc,emits:["delete","oversize","click-upload","close-preview","click-preview","update:modelValue"],setup(o,{emit:a,slots:l}){const r=t.ref(),c=[],d=(e=o.modelValue.length)=>({name:o.name,index:e}),u=()=>{r.value&&(r.value.value="")},p=e=>{if(u(),zc(e,o.maxSize)){if(!Array.isArray(e))return void a("oversize",e,d());{const t=function(e,t){const o=[],a=[];return e.forEach((e=>{zc(e,t)?a.push(e):o.push(e)})),{valid:o,invalid:a}}(e,o.maxSize);if(e=t.valid,a("oversize",t.invalid,d()),!e.length)return}}e=t.reactive(e),a("update:modelValue",[...o.modelValue,...s(e)]),o.afterRead&&o.afterRead(e,d())},m=e=>{const{maxCount:t,modelValue:a,resultType:n}=o;if(Array.isArray(e)){const o=+t-a.length;e.length>o&&(e=e.slice(0,o)),Promise.all(e.map((e=>Oc(e,n)))).then((t=>{const o=e.map(((e,o)=>{const a={file:e,status:"",message:""};return t[o]&&(a.content=t[o]),a}));p(o)}))}else Oc(e,n).then((t=>{const o={file:e,status:"",message:""};t&&(o.content=t),p(o)}))},v=e=>{const{files:t}=e.target;if(o.disabled||!t||!t.length)return;const a=1===t.length?t[0]:[].slice.call(t);if(o.beforeRead){const e=o.beforeRead(a,d());if(!e)return void u();if(y(e))return void e.then((e=>{m(e||a)})).catch(u)}m(a)};let h;const f=()=>a("close-preview"),g=(e,r)=>{const s=["imageFit","deletable","previewSize","beforeDelete"],u=n(i(o,s),i(e,s,!0));return t.createVNode(Lc,t.mergeProps({item:e,index:r,onClick:()=>a("click-preview",e,d(r)),onDelete:()=>((e,t)=>{const n=o.modelValue.slice(0);n.splice(t,1),a("update:modelValue",n),a("delete",e,d(t))})(e,r),onPreview:()=>(e=>{if(o.previewFullImage){const t=o.modelValue.filter(Ec),a=t.map((e=>(e.file&&!e.url&&(e.url=URL.createObjectURL(e.file),c.push(e.url)),e.url))).filter(Boolean);h=oi(n({images:a,startPosition:t.indexOf(e),onClose:f},o.previewOptions))}})(e)},i(o,["name","lazyLoad"]),u),i(l,["preview-cover","preview-delete"]))},b=()=>{if(o.previewImage)return o.modelValue.map(g)},x=e=>a("click-upload",e),V=()=>{if(o.modelValue.length>=o.maxCount||!o.showUpload)return;const e=o.readonly?null:t.createVNode("input",{ref:r,type:"file",class:Pc("input"),accept:o.accept,capture:o.capture,multiple:o.multiple,disabled:o.disabled,onChange:v},null);return l.default?t.createVNode("div",{class:Pc("input-wrapper"),onClick:x},[l.default(),e]):t.createVNode("div",{class:Pc("upload",{readonly:o.readonly}),style:E(o.previewSize),onClick:x},[t.createVNode(Ee,{name:o.uploadIcon,class:Pc("upload-icon")},null),o.uploadText&&t.createVNode("span",{class:Pc("upload-text")},[o.uploadText]),e])};return t.onBeforeUnmount((()=>{c.forEach((e=>URL.revokeObjectURL(e)))})),xe({chooseFile:()=>{r.value&&!o.disabled&&r.value.click()},closeImagePreview:()=>{h&&h.close()}}),e.useCustomFieldValue((()=>o.modelValue)),()=>t.createVNode("div",{class:Pc()},[t.createVNode("div",{class:Pc("wrapper",{disabled:o.disabled})},[b(),V()])])}})),Rc=e.inBrowser&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype,Hc="event",jc="observer";function Wc(e,t){if(!e.length)return;const o=e.indexOf(t);return o>-1?e.splice(o,1):void 0}function Yc(e,t){if("IMG"!==e.tagName||!e.getAttribute("data-srcset"))return;let o=e.getAttribute("data-srcset");const a=e.parentNode.offsetWidth*t;let n,l,r;o=o.trim().split(",");const i=o.map((e=>(e=e.trim(),n=e.lastIndexOf(" "),-1===n?(l=e,r=999998):(l=e.substr(0,n),r=parseInt(e.substr(n+1,e.length-n-2),10)),[r,l])));i.sort(((e,t)=>{if(e[0]<t[0])return 1;if(e[0]>t[0])return-1;if(e[0]===t[0]){if(-1!==t[1].indexOf(".webp",t[1].length-5))return 1;if(-1!==e[1].indexOf(".webp",e[1].length-5))return-1}return 0}));let s,c="";for(let d=0;d<i.length;d++){s=i[d],c=s[1];const e=i[d+1];if(e&&e[0]<a){c=s[1];break}if(!e){c=s[1];break}}return c}const Uc=(t=1)=>e.inBrowser&&window.devicePixelRatio||t;function qc(){if(!e.inBrowser)return!1;let t=!0;try{const e=document.createElement("canvas");e.getContext&&e.getContext("2d")&&(t=0===e.toDataURL("image/webp").indexOf("data:image/webp"))}catch(o){t=!1}return t}function Xc(e,t,o){e.addEventListener(t,o,{capture:!1,passive:!0})}function Gc(e,t,o){e.removeEventListener(t,o,!1)}const Zc=(e,t,o)=>{const a=new Image;if(!e||!e.src)return o(new Error("image src is required"));a.src=e.src,e.cors&&(a.crossOrigin=e.cors),a.onload=()=>t({naturalHeight:a.naturalHeight,naturalWidth:a.naturalWidth,src:a.src}),a.onerror=e=>o(e)};class Kc{constructor({max:e}){this.options={max:e||100},this.caches=[]}has(e){return this.caches.indexOf(e)>-1}add(e){this.has(e)||(this.caches.push(e),this.caches.length>this.options.max&&this.free())}free(){this.caches.shift()}}class _c{constructor({el:e,src:t,error:o,loading:a,bindType:n,$parent:l,options:r,cors:i,elRenderer:s,imageCache:c}){this.el=e,this.src=t,this.error=o,this.loading=a,this.bindType=n,this.attempt=0,this.cors=i,this.naturalHeight=0,this.naturalWidth=0,this.options=r,this.$parent=l,this.elRenderer=s,this.imageCache=c,this.performanceData={loadStart:0,loadEnd:0},this.filter(),this.initState(),this.render("loading",!1)}initState(){"dataset"in this.el?this.el.dataset.src=this.src:this.el.setAttribute("data-src",this.src),this.state={loading:!1,error:!1,loaded:!1,rendered:!1}}record(e){this.performanceData[e]=Date.now()}update({src:e,loading:t,error:o}){const a=this.src;this.src=e,this.loading=t,this.error=o,this.filter(),a!==this.src&&(this.attempt=0,this.initState())}checkInView(){const t=e.useRect(this.el);return t.top<window.innerHeight*this.options.preLoad&&t.bottom>this.options.preLoadTop&&t.left<window.innerWidth*this.options.preLoad&&t.right>0}filter(){Object.keys(this.options.filter).forEach((e=>{this.options.filter[e](this,this.options)}))}renderLoading(e){this.state.loading=!0,Zc({src:this.loading,cors:this.cors},(()=>{this.render("loading",!1),this.state.loading=!1,e()}),(()=>{e(),this.state.loading=!1}))}load(e=a){if(this.attempt>this.options.attempt-1&&this.state.error)e();else if(!this.state.rendered||!this.state.loaded)return this.imageCache.has(this.src)?(this.state.loaded=!0,this.render("loaded",!0),this.state.rendered=!0,e()):void this.renderLoading((()=>{var t,o;this.attempt++,null==(o=(t=this.options.adapter).beforeLoad)||o.call(t,this,this.options),this.record("loadStart"),Zc({src:this.src,cors:this.cors},(t=>{this.naturalHeight=t.naturalHeight,this.naturalWidth=t.naturalWidth,this.state.loaded=!0,this.state.error=!1,this.record("loadEnd"),this.render("loaded",!1),this.state.rendered=!0,this.imageCache.add(this.src),e()}),(e=>{!this.options.silent&&console.error(e),this.state.error=!0,this.state.loaded=!1,this.render("error",!1)}))}))}render(e,t){this.elRenderer(this,e,t)}performance(){let e="loading",t=0;return this.state.loaded&&(e="loaded",t=(this.performanceData.loadEnd-this.performanceData.loadStart)/1e3),this.state.error&&(e="error"),{src:this.src,state:e,time:t}}$destroy(){this.el=null,this.src=null,this.error=null,this.loading=null,this.bindType=null,this.attempt=0}}const Jc="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Qc=["scroll","wheel","mousewheel","resize","animationend","transitionend","touchmove"],ed={rootMargin:"0px",threshold:0};function td(){return class{constructor({preLoad:e,error:t,throttleWait:o,preLoadTop:a,dispatchEvent:n,loading:l,attempt:r,silent:i=!0,scale:s,listenEvents:c,filter:d,adapter:u,observer:p,observerOptions:m}){this.mode=Hc,this.listeners=[],this.targetIndex=0,this.targets=[],this.options={silent:i,dispatchEvent:!!n,throttleWait:o||200,preLoad:e||1.3,preLoadTop:a||0,error:t||Jc,loading:l||Jc,attempt:r||3,scale:s||Uc(s),ListenEvents:c||Qc,supportWebp:qc(),filter:d||{},adapter:u||{},observer:!!p,observerOptions:m||ed},this.initEvent(),this.imageCache=new Kc({max:200}),this.lazyLoadHandler=function(e,t){let o=null,a=0;return function(...n){if(o)return;const l=()=>{a=Date.now(),o=!1,e.apply(this,n)};Date.now()-a>=t?l():o=setTimeout(l,t)}}(this.lazyLoadHandler.bind(this),this.options.throttleWait),this.setMode(this.options.observer?jc:Hc)}config(e={}){Object.assign(this.options,e)}performance(){return this.listeners.map((e=>e.performance()))}addLazyBox(t){this.listeners.push(t),e.inBrowser&&(this.addListenerTarget(window),this.observer&&this.observer.observe(t.el),t.$el&&t.$el.parentNode&&this.addListenerTarget(t.$el.parentNode))}add(o,a,n){if(this.listeners.some((e=>e.el===o)))return this.update(o,a),t.nextTick(this.lazyLoadHandler);const l=this.valueFormatter(a.value);let{src:r}=l;t.nextTick((()=>{r=Yc(o,this.options.scale)||r,this.observer&&this.observer.observe(o);const i=Object.keys(a.modifiers)[0];let s;i&&(s=n.context.$refs[i],s=s?s.$el||s:document.getElementById(i)),s||(s=e.getScrollParent(o));const c=new _c({bindType:a.arg,$parent:s,el:o,src:r,loading:l.loading,error:l.error,cors:l.cors,elRenderer:this.elRenderer.bind(this),options:this.options,imageCache:this.imageCache});this.listeners.push(c),e.inBrowser&&(this.addListenerTarget(window),this.addListenerTarget(s)),this.lazyLoadHandler(),t.nextTick((()=>this.lazyLoadHandler()))}))}update(e,o,a){const n=this.valueFormatter(o.value);let{src:l}=n;l=Yc(e,this.options.scale)||l;const r=this.listeners.find((t=>t.el===e));r?r.update({src:l,error:n.error,loading:n.loading}):this.add(e,o,a),this.observer&&(this.observer.unobserve(e),this.observer.observe(e)),this.lazyLoadHandler(),t.nextTick((()=>this.lazyLoadHandler()))}remove(e){if(!e)return;this.observer&&this.observer.unobserve(e);const t=this.listeners.find((t=>t.el===e));t&&(this.removeListenerTarget(t.$parent),this.removeListenerTarget(window),Wc(this.listeners,t),t.$destroy())}removeComponent(e){e&&(Wc(this.listeners,e),this.observer&&this.observer.unobserve(e.el),e.$parent&&e.$el.parentNode&&this.removeListenerTarget(e.$el.parentNode),this.removeListenerTarget(window))}setMode(e){Rc||e!==jc||(e=Hc),this.mode=e,e===Hc?(this.observer&&(this.listeners.forEach((e=>{this.observer.unobserve(e.el)})),this.observer=null),this.targets.forEach((e=>{this.initListen(e.el,!0)}))):(this.targets.forEach((e=>{this.initListen(e.el,!1)})),this.initIntersectionObserver())}addListenerTarget(e){if(!e)return;let t=this.targets.find((t=>t.el===e));return t?t.childrenCount++:(t={el:e,id:++this.targetIndex,childrenCount:1,listened:!0},this.mode===Hc&&this.initListen(t.el,!0),this.targets.push(t)),this.targetIndex}removeListenerTarget(e){this.targets.forEach(((t,o)=>{t.el===e&&(t.childrenCount--,t.childrenCount||(this.initListen(t.el,!1),this.targets.splice(o,1),t=null))}))}initListen(e,t){this.options.ListenEvents.forEach((o=>(t?Xc:Gc)(e,o,this.lazyLoadHandler)))}initEvent(){this.Event={listeners:{loading:[],loaded:[],error:[]}},this.$on=(e,t)=>{this.Event.listeners[e]||(this.Event.listeners[e]=[]),this.Event.listeners[e].push(t)},this.$once=(e,t)=>{const o=(...a)=>{this.$off(e,o),t.apply(this,a)};this.$on(e,o)},this.$off=(e,t)=>{if(t)Wc(this.Event.listeners[e],t);else{if(!this.Event.listeners[e])return;this.Event.listeners[e].length=0}},this.$emit=(e,t,o)=>{this.Event.listeners[e]&&this.Event.listeners[e].forEach((e=>e(t,o)))}}lazyLoadHandler(){const e=[];this.listeners.forEach((t=>{t.el&&t.el.parentNode||e.push(t);t.checkInView()&&t.load()})),e.forEach((e=>{Wc(this.listeners,e),e.$destroy()}))}initIntersectionObserver(){Rc&&(this.observer=new IntersectionObserver(this.observerHandler.bind(this),this.options.observerOptions),this.listeners.length&&this.listeners.forEach((e=>{this.observer.observe(e.el)})))}observerHandler(e){e.forEach((e=>{e.isIntersecting&&this.listeners.forEach((t=>{if(t.el===e.target){if(t.state.loaded)return this.observer.unobserve(t.el);t.load()}}))}))}elRenderer(e,t,o){if(!e.el)return;const{el:a,bindType:n}=e;let l;switch(t){case"loading":l=e.loading;break;case"error":l=e.error;break;default:({src:l}=e)}if(n?a.style[n]='url("'+l+'")':a.getAttribute("src")!==l&&a.setAttribute("src",l),a.setAttribute("lazy",t),this.$emit(t,e,o),this.options.adapter[t]&&this.options.adapter[t](e,this.options),this.options.dispatchEvent){const o=new CustomEvent(t,{detail:e});a.dispatchEvent(o)}}valueFormatter(e){let t=e,{loading:o,error:a}=this.options;return b(e)&&(({src:t}=e),o=e.loading||this.options.loading,a=e.error||this.options.error),{src:t,loading:o,error:a}}}}var od=o=>({props:{tag:{type:String,default:"div"}},emits:["show"],render(){return t.h(this.tag,this.show&&this.$slots.default?this.$slots.default():null)},data:()=>({el:null,state:{loaded:!1},show:!1}),mounted(){this.el=this.$el,o.addLazyBox(this),o.lazyLoadHandler()},beforeUnmount(){o.removeComponent(this)},methods:{checkInView(){const t=e.useRect(this.$el);return e.inBrowser&&t.top<window.innerHeight*o.options.preLoad&&t.bottom>0&&t.left<window.innerWidth*o.options.preLoad&&t.right>0},load(){this.show=!0,this.state.loaded=!0,this.$emit("show",this)},destroy(){return this.$destroy}}});const ad={selector:"img"};class nd{constructor({el:e,binding:t,vnode:o,lazy:a}){this.el=null,this.vnode=o,this.binding=t,this.options={},this.lazy=a,this.queue=[],this.update({el:e,binding:t})}update({el:e,binding:t}){this.el=e,this.options=Object.assign({},ad,t.value);this.getImgs().forEach((e=>{this.lazy.add(e,Object.assign({},this.binding,{value:{src:"dataset"in e?e.dataset.src:e.getAttribute("data-src"),error:("dataset"in e?e.dataset.error:e.getAttribute("data-error"))||this.options.error,loading:("dataset"in e?e.dataset.loading:e.getAttribute("data-loading"))||this.options.loading}}),this.vnode)}))}getImgs(){return Array.from(this.el.querySelectorAll(this.options.selector))}clear(){this.getImgs().forEach((e=>this.lazy.remove(e))),this.vnode=null,this.binding=null,this.lazy=null}}class ld{constructor({lazy:e}){this.lazy=e,this.queue=[]}bind(e,t,o){const a=new nd({el:e,binding:t,vnode:o,lazy:this.lazy});this.queue.push(a)}update(e,t,o){const a=this.queue.find((t=>t.el===e));a&&a.update({el:e,binding:t,vnode:o})}unbind(e){const t=this.queue.find((t=>t.el===e));t&&(t.clear(),Wc(this.queue,t))}}var rd=t=>({props:{src:[String,Object],tag:{type:String,default:"img"}},render(e){return e(this.tag,{attrs:{src:this.renderSrc}},this.$slots.default)},data:()=>({el:null,options:{src:"",error:"",loading:"",attempt:t.options.attempt},state:{loaded:!1,error:!1,attempt:0},renderSrc:""}),watch:{src(){this.init(),t.addLazyBox(this),t.lazyLoadHandler()}},created(){this.init(),this.renderSrc=this.options.loading},mounted(){this.el=this.$el,t.addLazyBox(this),t.lazyLoadHandler()},beforeUnmount(){t.removeComponent(this)},methods:{init(){const{src:e,loading:o,error:a}=t.valueFormatter(this.src);this.state.loaded=!1,this.options.src=e,this.options.error=a,this.options.loading=o,this.renderSrc=this.options.loading},checkInView(){const o=e.useRect(this.$el);return o.top<window.innerHeight*t.options.preLoad&&o.bottom>0&&o.left<window.innerWidth*t.options.preLoad&&o.right>0},load(e=a){if(this.state.attempt>this.options.attempt-1&&this.state.error)return void e();const{src:t}=this.options;Zc({src:t},(({src:e})=>{this.renderSrc=e,this.state.loaded=!0}),(()=>{this.state.attempt++,this.renderSrc=this.options.error,this.state.error=!0}))}}});const id={install(e,t={}){const o=new(td())(t),a=new ld({lazy:o});e.config.globalProperties.$Lazyload=o,t.lazyComponent&&e.component("LazyComponent",od(o)),t.lazyImage&&e.component("LazyImage",rd(o)),e.directive("lazy",{beforeMount:o.add.bind(o),updated:o.update.bind(o),unmounted:o.remove.bind(o)}),e.directive("lazy-container",{beforeMount:a.bind.bind(a),updated:a.update.bind(a),unmounted:a.unbind.bind(a)})}};function sd(e){[ye,Ke,et,Vt,Mo,ra,Ft,Be,qe,Oa,Ha,wn,Yt,Sn,$n,En,jn,_n,ol,il,sl,ml,yl,Cl,Tl,zl,Rl,ar,vr,wr,Sr,$r,Er,Jl,ro,Gt,Hr,Ur,Ee,La,oi,ui,pi,gi,je,J,wi,Si,Oi,ji,ut,Gi,Ji,Ot,as,ft,is,ms,Jo,Wo,gs,bs,Ns,Is,$s,Fs,Ws,Xs,tc,rc,ic,Ua,pc,Qa,fc,pn,To,fn,Vc,kc,gn,Xo,No,Dc,Fc].forEach((t=>{t.install?e.use(t):t.name&&e.component(t.name,t)}))}var cd={install:sd,version:"3.5.1"};exports.ActionBar=ye,exports.ActionBarButton=Ke,exports.ActionBarIcon=et,exports.ActionSheet=Vt,exports.AddressEdit=Mo,exports.AddressList=ra,exports.Area=Ft,exports.Badge=Be,exports.Button=qe,exports.Calendar=Oa,exports.Card=Ha,exports.Cascader=wn,exports.Cell=Yt,exports.CellGroup=Sn,exports.Checkbox=$n,exports.CheckboxGroup=En,exports.Circle=jn,exports.Col=_n,exports.Collapse=ol,exports.CollapseItem=il,exports.ConfigProvider=sl,exports.ContactCard=ml,exports.ContactEdit=yl,exports.ContactList=Cl,exports.CountDown=Tl,exports.Coupon=zl,exports.CouponCell=Rl,exports.CouponList=ar,exports.DatetimePicker=vr,exports.Dialog=wr,exports.Divider=Sr,exports.DropdownItem=$r,exports.DropdownMenu=Er,exports.Empty=Jl,exports.Field=ro,exports.Form=Gt,exports.Grid=Hr,exports.GridItem=Ur,exports.Icon=Ee,exports.Image=La,exports.ImagePreview=oi,exports.IndexAnchor=ui,exports.IndexBar=pi,exports.Lazyload=id,exports.List=gi,exports.Loading=je,exports.Locale=J,exports.NavBar=wi,exports.NoticeBar=Si,exports.Notify=Oi,exports.NumberKeyboard=ji,exports.Overlay=ut,exports.Pagination=Gi,exports.PasswordInput=Ji,exports.Picker=Ot,exports.Popover=as,exports.Popup=ft,exports.Progress=is,exports.PullRefresh=ms,exports.Radio=Jo,exports.RadioGroup=Wo,exports.Rate=gs,exports.Row=bs,exports.Search=Ns,exports.ShareSheet=Is,exports.Sidebar=$s,exports.SidebarItem=Fs,exports.Skeleton=Ws,exports.Slider=Xs,exports.Step=tc,exports.Stepper=rc,exports.Steps=ic,exports.Sticky=Ua,exports.SubmitBar=pc,exports.Swipe=Qa,exports.SwipeCell=fc,exports.SwipeItem=pn,exports.Switch=To,exports.Tab=fn,exports.Tabbar=Vc,exports.TabbarItem=kc,exports.Tabs=gn,exports.Tag=Xo,exports.Toast=No,exports.TreeSelect=Dc,exports.Uploader=Fc,exports.default=cd,exports.install=sd,exports.version="3.5.1";
